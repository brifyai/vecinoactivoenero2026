/*! For license information please see main.757a47d8.js.LICENSE.txt */
(()=>{var e={34(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":I(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function d(e,t,n,r,u,h,p){p=p||[];var m=(u=u||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(m,h))return;if("object"===("undefined"==typeof r?"undefined":I(r))){if(r.prefilter&&r.prefilter(m,h))return;if(r.normalize){var f=r.normalize(m,h,e,t);f&&(e=f[0],t=f[1])}}}m.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g="undefined"==typeof e?"undefined":I(e),v="undefined"==typeof t?"undefined":I(t),y="undefined"!==g||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),b="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!y&&b)n(new a(m,t));else if(!b&&y)n(new i(m,e));else if(c(e)!==c(t))n(new s(m,e,t));else if("date"===c(e)&&e-t!==0)n(new s(m,e,t));else if("object"===g&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&n(new s(m,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var x;for(e.length,x=0;x<e.length;x++)x>=t.length?n(new o(m,x,new i(void 0,e[x]))):d(e[x],t[x],n,r,m,x,p);for(;x<t.length;)n(new o(m,x,new a(void 0,t[x++])))}else{var w=Object.keys(e),j=Object.keys(t);w.forEach(function(s,a){var i=j.indexOf(s);i>=0?(d(e[s],t[s],n,r,m,s,p),j=l(j,i)):d(e[s],void 0,n,r,m,s,p)}),j.forEach(function(e){d(void 0,t[e],n,r,m,e,p)})}p.length=p.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new s(m,e,t)))}function u(e,t,n,r){return r=r||[],d(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,s=e[t],a=n.path.length-1;for(r=0;r<a;r++)s=s[n.path[r]];switch(n.kind){case"A":h(s[n.path[r]],n.index,n.item);break;case"D":delete s[n.path[r]];break;case"E":case"N":s[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,s=-1,a=n.path?n.path.length-1:0;++s<a;)"undefined"==typeof r[n.path[s]]&&(r[n.path[s]]="number"==typeof n.path[s]?[]:{}),r=r[n.path[s]];switch(n.kind){case"A":h(n.path?r[n.path[s]]:r,n.index,n.item);break;case"D":delete r[n.path[s]];break;case"E":case"N":r[n.path[s]]=n.rhs}}}function m(e,t,n){if(n.path&&n.path.length){var r,s=e[t],a=n.path.length-1;for(r=0;r<a;r++)s=s[n.path[r]];switch(n.kind){case"A":m(s[n.path[r]],n.index,n.item);break;case"D":case"E":s[n.path[r]]=n.lhs;break;case"N":delete s[n.path[r]]}}else switch(n.kind){case"A":m(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function f(e,t,n){if(e&&t&&n&&n.kind){var r,s,a=e;for(s=n.path.length-1,r=0;r<s;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":m(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function g(e,t,n){e&&t&&d(e,t,function(r){n&&!n(e,t,r)||p(e,t,r)})}function v(e){return"color: "+O[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,r=e.lhs,s=e.rhs,a=e.index,i=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",s];case"N":return[n.join("."),s];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",i];default:return[]}}function b(e,t,n,r){var s=u(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}s?s.forEach(function(e){var t=e.kind,r=y(e);n.log.apply(n,["%c "+O[t].text,v(t)].concat(A(r)))}):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function x(e,t,n,r){switch("undefined"==typeof e?"undefined":I(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,A(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,s){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+s.toFixed(2)+" ms)"),a.join(" ")}}function j(e,t){var n=t.logger,r=t.actionTransformer,s=t.titleFormatter,a=void 0===s?w(t):s,i=t.collapsed,o=t.colors,l=t.level,c=t.diff,d="undefined"==typeof t.titleFormatter;e.forEach(function(s,u){var h=s.started,p=s.startedTime,m=s.action,f=s.prevState,g=s.error,v=s.took,y=s.nextState,w=e[u+1];w&&(y=w.prevState,v=w.started-h);var j=r(m),_="function"==typeof i?i(function(){return y},m,s):i,N=E(p),S=o.title?"color: "+o.title(j)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var k=a(j,N,v);try{_?o.title&&d?n.groupCollapsed.apply(n,["%c "+k].concat(C)):n.groupCollapsed(k):o.title&&d?n.group.apply(n,["%c "+k].concat(C)):n.group(k)}catch(e){n.log(k)}var P=x(l,j,[f],"prevState"),I=x(l,j,[j],"action"),A=x(l,j,[g,f],"error"),T=x(l,j,[y],"nextState");if(P)if(o.prevState){var O="color: "+o.prevState(f)+"; font-weight: bold";n[P]("%c prev state",O,f)}else n[P]("prev state",f);if(I)if(o.action){var R="color: "+o.action(j)+"; font-weight: bold";n[I]("%c action    ",R,j)}else n[I]("action    ",j);if(g&&A)if(o.error){var L="color: "+o.error(g,f)+"; font-weight: bold;";n[A]("%c error     ",L,g)}else n[A]("error     ",g);if(T)if(o.nextState){var M="color: "+o.nextState(y)+"; font-weight: bold";n[T]("%c next state",M,y)}else n[T]("next state",y);c&&b(f,y,n,_);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}})}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},R,e),n=t.logger,r=t.stateTransformer,s=t.errorTransformer,a=t.predicate,i=t.logErrors,o=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var d={};l.push(d),d.started=P.now(),d.startedTime=new Date,d.prevState=r(n()),d.action=c;var u=void 0;if(i)try{u=e(c)}catch(e){d.error=s(e)}else u=e(c);d.took=P.now()-d.started,d.nextState=r(n());var h=t.diff&&"function"==typeof o?o(n,c):t.diff;if(j(l,Object.assign({},t,{diff:h})),l.length=0,d.error)throw d.error;return u}}}}var N,S,C=function(e,t){return new Array(t+1).join(e)},k=function(e,t){return C("0",t-e.toString().length)+e},E=function(e){return k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3)},P="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},T=[];N="object"===("undefined"==typeof n.g?"undefined":I(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(S=N.DeepDiff)&&T.push(function(){"undefined"!=typeof S&&N.DeepDiff===u&&(N.DeepDiff=S,S=void 0)}),t(s,r),t(a,r),t(i,r),t(o,r),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:f,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return T&&(T.forEach(function(e){e()}),T=null),u},enumerable:!0}});var O={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},R={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?_()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=R,e.createLogger=_,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},49(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,_={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+E(l,0):a,w(i)?(s="",null!=e&&(s=e.replace(k,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+E(o=e[c],c);l+=P(o,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,d=a+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},O={transition:null},R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},254(e,t,n){"use strict";var r=n(950);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,i=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=l(function(){function e(e){if(!o){if(o=!0,a=e,e=r(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return i=t}return i=e}if(t=i,s(a,e))return t;var n=r(e);return void 0!==d&&d(t,n)?(a=e,t):(a=e,i=n)}var a,i,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,d]);var p=a(e,u[0],u[1]);return o(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},256(e,t,n){"use strict";e.exports=n(254)},340(e,t,n){"use strict";e.exports=n(761)},345(e,t,n){"use strict";var r=n(950),s=n(340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,z=Object.assign;function D(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function U(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case j:return"Portal";case S:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,_e=null,Ne=null;function Se(e){if(e=bs(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),je(e.stateNode,e.type,t))}}function Ce(e){_e?Ne?Ne.push(e):Ne=[e]:_e=e}function ke(){if(_e){var e=_e,t=Ne;if(Ne=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ee(e,t,n)}finally{Ie=!1,(null!==_e||null!==Ne)&&(Pe(),ke())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Oe=!1}function Le(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Me=!1,ze=null,De=!1,Be=null,Ve={onError:function(e){Me=!0,ze=e}};function Ue(e,t,n,r,s,a,i,o,l){Me=!1,ze=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ze=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,$e=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Qe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=ut(o):0!==(a&=i)&&(r=ut(a))}else 0!==(i=n&~s)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,_t,Nt,St,Ct=!1,kt=[],Et=null,Pt=null,It=null,At=new Map,Tt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function zt(e){var t=ys(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void St(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Dt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==It&&Dt(It)&&(It=null),At.forEach(Bt),Tt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==It&&Ut(It,e),At.forEach(t),Tt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)zt(n),null===n.blockedOn&&Ot.shift()}var Ft=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=bt,a=Ft.transition;Ft.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=s,Ft.transition=a}}function Gt(e,t,n,r){var s=bt,a=Ft.transition;Ft.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=s,Ft.transition=a}}function Zt(e,t,n,r){if(Ht){var s=Kt(e,t,n,r);if(null===s)Hr(e,t,r,Jt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Et=Mt(Et,e,t,n,r,s),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,s),!0;case"mouseover":return It=Mt(It,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Tt.set(a,Mt(Tt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Hr(e,t,r,Jt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=ys(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=z({},cn,{view:0,detail:0}),hn=sn(un),pn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(pn),fn=sn(z({},pn,{dataTransfer:0})),gn=sn(z({},un,{relatedTarget:0})),vn=sn(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(z({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return Nn}var Cn=z({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Cn),En=sn(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=sn(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(An),On=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Mn=d&&"TextEvent"in window&&!Ln,zn=d&&(!Rn||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Zn=null;function Jn(e){Dr(e,0)}function Kn(e){if(Z(xs(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Xn=Qn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Zn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];Wn(t,Zn,e,we(e)),Ae(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function ar(e,t){if("click"===e)return Kn(t)}function ir(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var i=dr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Nr={};function Sr(e){if(_r[e])return _r[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return _r[e]=n[t];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Cr=Sr("animationend"),kr=Sr("animationiteration"),Er=Sr("animationstart"),Pr=Sr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ir.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Rr=Ar[Or];Tr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(kr,"onAnimationIteration"),Tr(Er,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var d=ze;Me=!1,ze=null,De||(De=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;zr(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;zr(s,o,c),a=l}}}if(De)throw e=Be,De=!1,Be=null,e}function Br(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,i.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch($t(t)){case 1:var s=Wt;break;case 4:s=Gt;break;default:s=Zt}n=s.bind(null,t,n,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ys(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=a,s=we(n),i=[];e:{var o=Ir.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case kr:case Er:l=vn;break;case Pr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Te(m,h))&&d.push(Wr(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ms])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:xs(l),p=null==c?o:xs(c),(o=new d(f,m+"leave",l,n,s)).target=u,o.relatedTarget=p,f=null,ys(s)===r&&((d=new d(h,m+"enter",c,n,s)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Zr(p))m++;for(p=0,f=h;f;f=Zr(f))p++;for(;0<m-p;)d=Zr(d),m--;for(;0<p-m;)h=Zr(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Zr(d),h=Zr(h)}d=null}else d=null;null!==l&&Jr(i,o,l,d,!1),null!==c&&null!==u&&Jr(i,u,c,d,!0)}if("select"===(l=(o=r?xs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Hn(o))if(Yn)g=ir;else{g=sr;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(i,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xs(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":xr(i,n,s)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,qn=!0)),0<(v=Gr(r,b)).length&&(b=new xn(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Qt=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Dr(i,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Te(e,n))&&r.unshift(Wr(e,a,s)),null!=(a=Te(e,t))&&r.push(Wr(e,a,s))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Te(n,a))&&i.unshift(Wr(n,l,o)):s||null!=(l=Te(n,a))&&i.push(Wr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Qr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);qt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ps="__reactProps$"+us,ms="__reactContainer$"+us,fs="__reactEvents$"+us,gs="__reactListeners$"+us,vs="__reactHandles$"+us;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ps]||null}var js=[],_s=-1;function Ns(e){return{current:e}}function Ss(e){0>_s||(e.current=js[_s],js[_s]=null,_s--)}function Cs(e,t){_s++,js[_s]=e.current,e.current=t}var ks={},Es=Ns(ks),Ps=Ns(!1),Is=ks;function As(e,t){var n=e.type.contextTypes;if(!n)return ks;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Ss(Ps),Ss(Es)}function Rs(e,t,n){if(Es.current!==ks)throw Error(a(168));Cs(Es,t),Cs(Ps,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,F(e)||"Unknown",s));return z({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,Is=Es.current,Cs(Es,e),Cs(Ps,Ps.current),!0}function zs(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ls(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Es),Cs(Es,e)):Ss(Ps),Cs(Ps,n)}var Ds=null,Bs=!1,Vs=!1;function Us(e){null===Ds?Ds=[e]:Ds.push(e)}function qs(){if(!Vs&&null!==Ds){Vs=!0;var e=0,t=bt;try{var n=Ds;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ds=null,Bs=!1}catch(s){throw null!==Ds&&(Ds=Ds.slice(e+1)),Ze(Qe,qs),s}finally{bt=t,Vs=!1}}return null}var Fs=[],Hs=0,Ws=null,Gs=0,Zs=[],Js=0,Ks=null,$s=1,Ys="";function Xs(e,t){Fs[Hs++]=Gs,Fs[Hs++]=Ws,Ws=e,Gs=t}function Qs(e,t,n){Zs[Js++]=$s,Zs[Js++]=Ys,Zs[Js++]=Ks,Ks=e;var r=$s;e=Ys;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,$s=1<<32-it(t)+s|n<<s|r,Ys=a+e}else $s=1<<a|n<<s|r,Ys=e}function ea(e){null!==e.return&&(Xs(e,1),Qs(e,1,0))}function ta(e){for(;e===Ws;)Ws=Fs[--Hs],Fs[Hs]=null,Gs=Fs[--Hs],Fs[Hs]=null;for(;e===Ks;)Ks=Zs[--Js],Zs[Js]=null,Ys=Zs[--Js],Zs[Js]=null,$s=Zs[--Js],Zs[Js]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:$s,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&oa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cs(e.nextSibling)}function pa(){ra=na=null,sa=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var fa=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ya(a)===t.type)?((r=s(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case j:return n.key===s?d(e,t,n,r):null;case T:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:u(e,t,n,r,null);va(e,n)}return null}function m(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case j:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return m(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,s,null);va(t,r)}return null}function f(s,a,o,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(s,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(s,u),a=i(v,a,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return n(s,u),sa&&Xs(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return sa&&Xs(s,f),c}for(u=r(s,u);f<o.length;f++)null!==(g=m(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(s,e)}),sa&&Xs(s,f),c}function g(s,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(s,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(s,f),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b,f=v}if(y.done)return n(s,f),sa&&Xs(s,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,g),null===u?d=y:u.sibling=y,u=y);return sa&&Xs(s,g),d}for(f=r(s,f);!y.done;g++,y=l.next())null!==(y=m(f,s,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=i(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(s,e)}),sa&&Xs(s,g),d}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===_){if(7===d.tag){n(r,d.sibling),(a=s(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&ya(c)===d.type){n(r,d.sibling),(a=s(d,i.props)).ref=ga(r,d,i),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===_?((a=Rc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Oc(i.type,i.key,i.props,null,r.mode,l)).ref=ga(r,a,i),l.return=r,r=l)}return o(r);case j:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(i,r.mode,l)).return=r,r=a}return o(r);case T:return e(r,a,(d=i._init)(i._payload),l)}if(te(i))return f(r,a,i,l);if(L(i))return g(r,a,i,l);va(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Mc(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),ja=Ns(null),_a=null,Na=null,Sa=null;function Ca(){Sa=Na=_a=null}function ka(e){var t=ja.current;Ss(ja),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){_a=e,Sa=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===_a)throw Error(a(308));Na=e,_a.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Aa=null;function Ta(e){null===Aa?Aa=[e]:Aa.push(e)}function Oa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ta(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ra(e,n)}return null===(s=r.interleaved)?(t.next=t,Ta(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ra(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=z({},u,h);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=u}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ha={},Wa=Ns(Ha),Ga=Ns(Ha),Za=Ns(Ha);function Ja(e){if(e===Ha)throw Error(a(174));return e}function Ka(e,t){switch(Cs(Za,t),Cs(Ga,e),Cs(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Wa),Cs(Wa,t)}function $a(){Ss(Wa),Ss(Ga),Ss(Za)}function Ya(e){Ja(Za.current);var t=Ja(Wa.current),n=le(t,e.type);t!==n&&(Cs(Ga,e),Cs(Wa,n))}function Xa(e){Ga.current===e&&(Ss(Wa),Ss(Ga))}var Qa=Ns(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=x.ReactCurrentDispatcher,si=x.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function pi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Qi,e=n(r,s),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,s)}while(di)}if(ri.current=Yi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function gi(){var e=0!==ui;return ui=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Ll|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function _i(e,t){var n=ii,r=yi(),s=t(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,bo=!0),r=r.queue,Li(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ii(9,Si.bind(null,n,r,s,t),void 0,null),null===El)throw Error(a(349));0!==(30&ai)||Ni(n,t,s)}return s}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&Ei(e)}function Ci(e,t,n){return n(function(){ki(t)&&Ei(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ei(e){var t=Ra(e,1);null!==t&&tc(t,e,1,-1)}function Pi(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Zi.bind(null,ii,e),[t.memoizedState,e]}function Ii(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ai(){return yi().memoizedState}function Ti(e,t,n,r){var s=vi();ii.flags|=e,s.memoizedState=Ii(1|t,n,void 0,void 0===r?null:r)}function Oi(e,t,n,r){var s=yi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&mi(r,i.deps))return void(s.memoizedState=Ii(t,n,a,r))}ii.flags|=e,s.memoizedState=Ii(1|t,n,a,r)}function Ri(e,t){return Ti(8390656,8,e,t)}function Li(e,t){return Oi(2048,8,e,t)}function Mi(e,t){return Oi(4,2,e,t)}function zi(e,t){return Oi(4,4,e,t)}function Di(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Di.bind(null,t,e),n)}function Vi(){}function Ui(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ii.lanes|=n,Ll|=n,e.baseState=!0),t)}function Hi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{bt=n,si.transition=r}}function Wi(){return yi().memoizedState}function Gi(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))Ki(t,n);else if(null!==(n=Oa(e,t,n,r))){tc(n,e,r,Ql()),$i(n,t,r)}}function Zi(e,t,n){var r=ec(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Ki(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(s.next=s,Ta(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Oa(e,t,s,r))&&(tc(n,e,r,s=Ql()),$i(n,t,r))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ki(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $i(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yi={readContext:Ia,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Xi={readContext:Ia,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Di.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Pi,useDebugValue:Vi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=vi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===El)throw Error(a(349));0!==(30&ai)||Ni(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ri(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ii(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=El.identifierPrefix;if(sa){var n=Ys;t=":"+t+"R"+(n=($s&~(1<<32-it($s)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qi={readContext:Ia,useCallback:Ui,useContext:Ia,useEffect:Li,useImperativeHandle:Bi,useInsertionEffect:Mi,useLayoutEffect:zi,useMemo:qi,useReducer:xi,useRef:Ai,useState:function(){return xi(bi)},useDebugValue:Vi,useDeferredValue:function(e){return Fi(yi(),oi.memoizedState,e)},useTransition:function(){return[xi(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:_i,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:Ia,useCallback:Ui,useContext:Ia,useEffect:Li,useImperativeHandle:Bi,useInsertionEffect:Mi,useLayoutEffect:zi,useMemo:qi,useReducer:wi,useRef:Ai,useState:function(){return wi(bi)},useDebugValue:Vi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Fi(t,oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:_i,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ql(),s=ec(e),a=Da(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,s))&&(tc(t,e,s,r),Va(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ql(),s=ec(e),a=Da(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,s))&&(tc(t,e,s,r),Va(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ql(),r=ec(e),s=Da(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ba(e,s,r))&&(tc(t,e,r,n),Va(t,e,r))}};function so(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function ao(e,t,n){var r=!1,s=ks,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(s=Ts(t)?Is:Es.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?As(e,s):ks),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ia(a):(a=Ts(t)?Is:Es.current,s.context=As(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,Hl=r),uo(0,t)},n}function mo(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function wo(e,t,n,r,s){n=n.render;var a=t.ref;return Pa(t,s),r=fi(e,t,n,r,a,s),n=gi(),null===e||bo?(sa&&n&&ea(t),t.flags|=1,xo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fo(e,t,s))}function jo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_o(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Fo(e,t,s)}return t.flags|=1,(e=Tc(a,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Fo(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,s)}function No(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Tl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Tl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Cs(Tl,Al),Al|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Cs(Tl,Al),Al|=r;return xo(e,t,s,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var a=Ts(n)?Is:Es.current;return a=As(t,a),Pa(t,s),n=fi(e,t,n,r,a,s),r=gi(),null===e||bo?(sa&&r&&ea(t),t.flags|=1,xo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fo(e,t,s))}function ko(e,t,n,r,s){if(Ts(n)){var a=!0;Ms(t)}else a=!1;if(Pa(t,s),null===t.stateNode)qo(e,t),ao(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=As(t,c=Ts(n)?Is:Es.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),La=!1;var h=t.memoizedState;i.state=h,qa(t,r,i,s),l=t.memoizedState,o!==r||h!==l||Ps.current||La?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=La||so(t,n,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,za(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ia(l):l=As(t,l=Ts(n)?Is:Es.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,r,l),La=!1,h=t.memoizedState,i.state=h,qa(t,r,i,s);var m=t.memoizedState;o!==u||h!==m||Ps.current||La?("function"===typeof p&&(no(t,n,p,r),m=t.memoizedState),(c=La||so(t,n,c,r,h,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,a,s)}function Eo(e,t,n,r,s,a){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&zs(t,n,!1),Fo(e,t,a);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,s&&zs(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Ka(e,t.containerInfo)}function Io(e,t,n,r,s){return pa(),ma(s),t.flags|=256,xo(e,t,n,r),t.child}var Ao,To,Oo,Ro={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,s=t.pendingProps,i=Qa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cs(Qa,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,s,0,null),e=Rc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Ro,e):zo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,Do(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(i=Rc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Ro,i);if(0===(1&t.mode))return Do(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Do(e,t,o,r=co(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=El)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ra(e,s),tc(r,e,s,-1))}return mc(),Do(e,t,o,r=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Zs[Js++]=$s,Zs[Js++]=Ys,Zs[Js++]=Ks,$s=e.id,Ys=e.overflow,Ks=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Tc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,s}return e=(o=e.child).sibling,s=Tc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function zo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,n,r){return null!==r&&ma(r),xa(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Uo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Qa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(Qa,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vo(t,!0,n,null,a);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ts(t.type)&&Os(),Wo(t),null;case 3:return r=t.stateNode,$a(),Ss(Ps),Ss(Es),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ac(aa),aa=null))),Wo(t),null;case 5:Xa(t);var s=Ja(Za.current);if(n=t.type,null!==e&&null!=t.stateNode)To(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wo(t),null}if(e=Ja(Wa.current),ua(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[ps]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Br(Lr[s],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":se(r,i),Br("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Q(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Qr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=r,Ao(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),s=r;break;case"iframe":case"object":case"embed":Br("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Br(Lr[s],e);s=r;break;case"source":Br("error",e),s=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),s=r;break;case"details":Br("toggle",e),s=r;break;case"input":$(e,r),s=K(e,r),Br("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=z({},r,{value:void 0}),Br("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Br("invalid",e)}for(i in ye(n,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Br("scroll",e):null!=d&&b(e,i,d,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Za.current),Ja(Wa.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ss(Qa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hs]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==aa&&(ac(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qa.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return $a(),null===e&&qr(t.stateNode.containerInfo),Wo(t),null;case 10:return ka(t.type._context),Wo(t),null;case 19:if(Ss(Qa),null===(i=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ho(i,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Qa,1&Qa.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Ul&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Wo(t),null}else 2*Ye()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Qa.current,Cs(Qa,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zo(e,t){switch(ta(t),t.tag){case 1:return Ts(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),Ss(Ps),Ss(Es),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ss(Qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Qa),null;case 4:return $a(),null;case 10:return ka(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ja(Wa.current);var a,i=null;switch(n){case"input":s=K(e,s),r=K(e,r),i=[];break;case"select":s=z({},s,{value:void 0}),r=z({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(d in ye(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Ko=!1,$o="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Qo(e,t,n){try{n()}catch(r){_c(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Qo(t,n,a)}s=s.next}while(s!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[fs],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,dl=!1;function ul(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Ko||Xo(n,t);case 6:var r=cl,s=dl;cl=null,ul(e,t,n),dl=s,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),qt(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=dl,cl=n.stateNode.containerInfo,dl=!0,ul(e,t,n),cl=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Qo(n,t,i),s=s.next}while(s!==r)}ul(e,t,n);break;case 1:if(!Ko&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,ul(e,t,n),Ko=r):ul(e,t,n);break;default:ul(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(i,o,s),cl=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){_c(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){_c(e,e.return,g)}try{tl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(s,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(l){case"input":X(s,i);break;case"textarea":ae(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(s,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Vl=Ye())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(d=Ko)||u,ml(t,e),Ko=d):ml(t,e),gl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yo=e,u=e.child;null!==u;){for(h=Yo=u;null!==Yo;){switch(m=(p=Yo).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Xo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Xo(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==m?(m.return=p,Yo=m):xl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),ll(e,il(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(a(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Yo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Yo;){var s=Yo,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Jo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Jo;var c=Ko;if(Jo=i,(Ko=l)&&!c)for(Yo=s;null!==Yo;)l=(i=Yo).child,22===i.tag&&null!==i.memoizedState?wl(s):null!==l?(l.return=i,Yo=l):wl(s);for(;null!==a;)Yo=a,yl(a,t,n),a=a.sibling;Yo=s,Jo=o,Ko=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Yo=a):bl(e)}}function bl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Fa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Ko||512&t.flags&&rl(t)}catch(p){_c(t,t.return,p)}}if(t===e){Yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yo=n;break}Yo=t.return}}function xl(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yo=n;break}Yo=t.return}}function wl(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_c(t,s,l)}}var a=t.return;try{rl(t)}catch(l){_c(t,a,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){_c(t,i,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var jl,_l=Math.ceil,Nl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,kl=0,El=null,Pl=null,Il=0,Al=0,Tl=Ns(0),Ol=0,Rl=null,Ll=0,Ml=0,zl=0,Dl=null,Bl=null,Vl=0,Ul=1/0,ql=null,Fl=!1,Hl=null,Wl=null,Gl=!1,Zl=null,Jl=0,Kl=0,$l=null,Yl=-1,Xl=0;function Ql(){return 0!==(6&kl)?Ye():-1!==Yl?Yl:Yl=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Il?Il&-Il:null!==fa.transition?(0===Xl&&(Xl=ft()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,n,r){if(50<Kl)throw Kl=0,$l=null,Error(a(185));vt(e,n,r),0!==(2&kl)&&e===El||(e===El&&(0===(2&kl)&&(Ml|=n),4===Ol&&ic(e,Il)),nc(e,r),1===n&&0===kl&&0===(1&t.mode)&&(Ul=Ye()+500,Bs&&qs()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===El?Il:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Bs=!0,Us(e)}(oc.bind(null,e)):Us(oc.bind(null,e)),is(function(){0===(6&kl)&&qs()}),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yl=-1,Xl=0,0!==(6&kl))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var s=kl;kl|=2;var i=pc();for(El===e&&Il===t||(ql=null,Ul=Ye()+500,uc(e,t));;)try{vc();break}catch(l){hc(e,l)}Ca(),Nl.current=i,kl=s,null!==Pl?t=0:(El=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(r=s,t=sc(e,s))),1===t)throw n=Rl,uc(e,0),ic(e,r),nc(e,Ye()),n;if(6===t)ic(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fc(e,r))&&(0!==(i=mt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Rl,uc(e,0),ic(e,r),nc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bl,ql);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){Ql(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(xc.bind(null,e,Bl,ql),t);break}xc(e,Bl,ql);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=rs(xc.bind(null,e,Bl,ql),r);break}xc(e,Bl,ql);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&kl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,uc(e,0),ic(e,t),nc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,ql),nc(e,Ye()),null}function lc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Ul=Ye()+500,Bs&&qs())}}function cc(e){null!==Zl&&0===Zl.tag&&0===(6&kl)&&wc();var t=kl;kl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(kl=t))&&qs()}}function dc(){Al=Tl.current,Ss(Tl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Os();break;case 3:$a(),Ss(Ps),Ss(Es),ni();break;case 5:Xa(r);break;case 4:$a();break;case 13:case 19:Ss(Qa);break;case 10:ka(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Pl=e=Tc(e.current,null),Il=Al=t,Ol=0,Rl=null,zl=Ml=Ll=0,Bl=Dl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Aa=null}return e}function hc(e,t){for(;;){var n=Pl;try{if(Ca(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===n||null===n.return){Ol=1,Rl=t,Pl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&fo(i,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),mc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ma(lo(c,l));break e}}i=c=lo(c,l),4!==Ol&&(Ol=2),null===Dl?Dl=[i]:Dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,po(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Nl.current;return Nl.current=Yi,null===e?Yi:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===El||0===(268435455&Ll)&&0===(268435455&Ml)||ic(El,Il)}function fc(e,t){var n=kl;kl|=2;var r=pc();for(El===e&&Il===t||(ql=null,uc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(Ca(),kl=n,Nl.current=r,null!==Pl)throw Error(a(261));return El=null,Il=0,Ol}function gc(){for(;null!==Pl;)yc(Pl)}function vc(){for(;null!==Pl&&!Ke();)yc(Pl)}function yc(e){var t=jl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Al)))return void(Pl=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,s=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Zl);if(0!==(6&kl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===El&&(Pl=El=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ec(tt,function(){return wc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=kl;kl|=4,Sl.current=null,function(e,t){if(es=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===i&&++u===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}f=el,el=!1}(e,n),fl(n,e),mr(ts),Ht=!!es,ts=es=null,e.current=n,vl(n,e,s),$e(),kl=l,bt=o,Cl.transition=i}else e.current=n;if(Gl&&(Gl=!1,Zl=e,Jl=s),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fl)throw Fl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===$l?Kl++:(Kl=0,$l=e):Kl=0,qs()}(e,t,n,r)}finally{Cl.transition=s,bt=r}return null}function wc(){if(null!==Zl){var e=xt(Jl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Jl=0,0!==(6&kl))throw Error(a(331));var s=kl;for(kl|=4,Yo=e.current;null!==Yo;){var i=Yo,o=i.child;if(0!==(16&Yo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Yo=d;null!==Yo;){var u=Yo;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Yo=h;else for(;null!==Yo;){var p=(u=Yo).sibling,m=u.return;if(sl(u),u===d){Yo=null;break}if(null!==p){p.return=m,Yo=p;break}Yo=m}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(i=Yo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Yo=y;break e}Yo=i.return}}var b=e.current;for(Yo=b;null!==Yo;){var x=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Yo=x;else e:for(o=b;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){_c(l,l.return,j)}if(l===o){Yo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Yo=w;break e}Yo=l.return}}if(kl=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function jc(e,t,n){e=Ba(e,t=po(0,t=lo(n,t),1),1),t=Ql(),null!==e&&(vt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ba(t,e=mo(t,e=lo(n,e),1),1),e=Ql(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ql(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Il&n)===n&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>Ye()-Vl?uc(e,0):zl|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=Ql();null!==(e=Ra(e,t))&&(vt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Ec(e,t){return Ze(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Pc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Rc(n.children,s,i,t);case N:o=8,s|=8;break;case S:return(e=Ic(12,n,t,2|s)).elementType=S,e.lanes=i,e;case P:return(e=Ic(13,n,t,s)).elementType=P,e.lanes=i,e;case I:return(e=Ic(19,n,t,s)).elementType=I,e.lanes=i,e;case O:return Lc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case k:o=9;break e;case E:o=11;break e;case A:o=14;break e;case T:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Rc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,a,i,o,l){return e=new Dc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Vc(e){if(!e)return ks;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Ls(e,n,t)}return t}function Uc(e,t,n,r,s,a,i,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=Vc(null),n=e.current,(a=Da(r=Ql(),s=ec(n))).callback=void 0!==t&&null!==t?t:null,Ba(n,a,s),e.current.lanes=s,vt(e,s,r),nc(e,r),e}function qc(e,t,n,r){var s=t.current,a=Ql(),i=ec(s);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ba(s,t,i))&&(tc(e,s,i,a),Va(e,s,i)),i}function Fc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),pa();break;case 5:Ya(t);break;case 1:Ts(t.type)&&Ms(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(ja,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(Qa,1&Qa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Cs(Qa,1&Qa.current),null!==(e=Fo(e,t,n))?e.sibling:null);Cs(Qa,1&Qa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Qa,Qa.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Fo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,sa&&0!==(1048576&t.flags)&&Qs(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var s=As(t,Es.current);Pa(t,n),s=fi(null,t,r,e,s,n);var i=gi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(i=!0,Ms(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ma(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),xo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,ko(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,za(e,t),qa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Io(e,t,r,n,s=lo(Error(a(423)),t));break e}if(r!==s){t=Io(e,t,r,n,s=lo(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===s){t=Fo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==i&&ns(r,i)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mo(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Cs(ja,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===s.children&&!Ps.current){t=Fo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Da(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}xo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pa(t,n),r=r(s=Ia(s)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),jo(e,t,r,s=to(r.type,s),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),qo(e,t),t.tag=1,Ts(r)?(e=!0,Ms(t)):e=!1,Pa(t,n),ao(t,r,s),oo(t,r,s,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return No(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Xc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Fc(i);o.call(e)}}qc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Fc(i);a.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=i,e[ms]=i.current,qr(8===e.nodeType?e.parentNode:e),cc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Fc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[ms]=l.current,qr(8===e.nodeType?e.parentNode:e),cc(function(){qc(t,l,n,r)}),l}(n,t,e,s,r);return Fc(i)}Jc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Jc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){qc(null,e,null,null)}),t[ms]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&zt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Ye()),0===(6&kl)&&(Ul=Ye()+500,qs()))}break;case 13:cc(function(){var t=Ra(e,1);if(null!==t){var n=Ql();tc(t,e,1,n)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)tc(t,e,134217728,Ql());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=ec(e),n=Ra(e,t);if(null!==n)tc(n,e,t,Ql());Wc(e,t)}},Nt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(a(90));Z(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=lc,Pe=cc;var Qc={usingClientEntryPoint:!1,Events:[bs,xs,ws,Ce,ke,lc]},ed={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{st=nd.inject(td),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var n=!1,r="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ms]=t.current,qr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,i,o),e[ms]=t.current,qr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352(e,t,n){"use strict";var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414(e,t,n){"use strict";e.exports=n(654)},515(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(s){return!1}return!0}(t)?self[t]:s};var s={getItem:r,setItem:r,removeItem:r}},527(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,s;for(n=1,r=arguments.length;n<r;n++)for(t in s=arguments[n])e[t]=s[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function s(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function i(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function o(e,t,n){var r,s,a,i;return i=function(){r=!1,s&&(a.apply(n,s),s=!1)},a=function(){r?s=arguments:(e.apply(n,arguments),setTimeout(i,t),r=!0)},a}function l(e,t,n){var r=t[1],s=t[0],a=r-s;return e===r&&n?e:((e-s)%a+a)%a+s}function c(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var s in e)r.push(encodeURIComponent(n?s.toUpperCase():s)+"="+encodeURIComponent(e[s]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(f,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r})}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function j(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var _=window.requestAnimationFrame||x("RequestAnimationFrame")||j,N=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||_!==j)return _.call(window,s(e,t));e.call(t)}function C(e){e&&N.call(window,e)}var k={__proto__:null,extend:n,create:r,bind:s,get lastId(){return a},stamp:i,throttle:o,wrapNum:l,falseFn:c,formatNum:d,trim:u,splitWords:h,setOptions:p,getParamString:m,template:g,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:_,cancelFn:N,requestAnimFrame:S,cancelAnimFrame:C};function E(){}function P(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}E.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=t.__super__=this.prototype,a=r(s);for(var i in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i&&(t[i]=this[i]);return e.statics&&n(t,e.statics),e.includes&&(P(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=s.options?r(s.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},E.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},E.mergeOptions=function(e){return n(this.prototype.options,e),this},E.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var s=0,a=(e=h(e)).length;s<a;s++)this._on(e[s],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var s=1===arguments.length,a=0,i=e.length;a<i;a++)s?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var s={fn:t,ctx:n};r&&(s.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(s)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,s,a;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var i=this._listens(e,t,n);if(!1!==i){var o=r[i];this._firingCount&&(o.fn=c,this._events[e]=r=r.slice()),r.splice(i,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(s=0,a=r.length;s<a;s++)r[s].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var s=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var i=0,o=a.length;i<o;i++){var l=a[i],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,s)}this._firingCount--}}return r&&this._propagateEvent(s),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var s=t;"function"!==typeof t&&(r=!!t,s=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&!1!==this._listens(e,s,n))return!0;if(r)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var s=0,a=r.length;s<a;s++)if(r[s].fn===t&&r[s].ctx===n)return s;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var s=0,a=(e=h(e)).length;s<a;s++)this._on(e[s],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[i(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[i(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var A=E.extend(I);function T(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof T?e:v(e)?new T(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new T(e.x,e.y):new T(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,r=0,s=n.length;r<s;r++)this.extend(n[r])}function z(e,t){return!e||e instanceof M?e:new M(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,s=n.length;r<s;r++)this.extend(n[r])}function B(e,t){return e instanceof D?e:new D(e,t)}function V(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function U(e,t,n){return e instanceof V?e:v(e)&&"object"!==typeof e[0]?3===e.length?new V(e[0],e[1],e[2]):2===e.length?new V(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new V(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new V(e,t,n)}T.prototype={clone:function(){return new T(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new T(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new T(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},M.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof T||"number"===typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=z(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof T?R(e):z(e))instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,s=e.max,a=s.x>=t.x&&r.x<=n.x,i=s.y>=t.y&&r.y<=n.y;return a&&i},overlaps:function(e){e=z(e);var t=this.min,n=this.max,r=e.min,s=e.max,a=s.x>t.x&&r.x<n.x,i=s.y>t.y&&r.y<n.y;return a&&i},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,s=Math.abs(t.y-n.y)*e;return z(R(t.x-r,t.y-s),R(n.x+r,n.y+s))},equals:function(e){return!!e&&(e=z(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},D.prototype={extend:function(e){var t,n,r=this._southWest,s=this._northEast;if(e instanceof V)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(U(e)||B(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||s?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),s.lat=Math.max(n.lat,s.lat),s.lng=Math.max(n.lng,s.lng)):(this._southWest=new V(t.lat,t.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,s=Math.abs(t.lng-n.lng)*e;return new D(new V(t.lat-r,t.lng-s),new V(n.lat+r,n.lng+s))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof V||"lat"in e?U(e):B(e);var t,n,r=this._southWest,s=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=s.lat&&t.lng>=r.lng&&n.lng<=s.lng},intersects:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),s=e.getNorthEast(),a=s.lat>=t.lat&&r.lat<=n.lat,i=s.lng>=t.lng&&r.lng<=n.lng;return a&&i},overlaps:function(e){e=B(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),s=e.getNorthEast(),a=s.lat>t.lat&&r.lat<n.lat,i=s.lng>t.lng&&r.lng<n.lng;return a&&i},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(e,t){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return F.distance(this,U(e))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var q={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new V(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,s=t.lng-n.lng;if(0===r&&0===s)return e;var a=e.getSouthWest(),i=e.getNorthEast();return new D(new V(a.lat-r,a.lng-s),new V(i.lat-r,i.lng-s))}},F=n({},q,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,s=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),i=Math.sin((t.lng-e.lng)*n/2),o=a*a+Math.cos(r)*Math.cos(s)*i*i,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),H=6378137,W={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),s=Math.sin(r*t);return new T(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new V((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new M([-e,-e],[e,e])}()};function G(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Z(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new T((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var J=n({},F,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return Z(e,.5,-e,.5)}()}),K=n({},J,{code:"EPSG:900913"});function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,s,a,i,o,l="";for(n=0,s=e.length;n<s;n++){for(r=0,a=(i=e[n]).length;r<a;r++)l+=(r?"L":"M")+(o=i[r]).x+" "+o.y;l+=t?Me.svg?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Le("webkit"),re=Le("android"),se=Le("android 2")||Le("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ie=re&&Le("Google")&&ae<537&&!("AudioNode"in window),oe=!!window.opera,le=!te&&Le("chrome"),ce=Le("gecko")&&!ne&&!oe&&!Q,de=!le&&Le("safari"),ue=Le("phantom"),he="OTransition"in X,pe=0===navigator.platform.indexOf("Win"),me=Q&&"transition"in X,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,ge="MozPerspective"in X,ve=!window.L_DISABLE_3D&&(me||fe||ge)&&!he&&!ue,ye="undefined"!==typeof orientation||Le("mobile"),be=ye&&ne,xe=ye&&fe,we=!window.PointerEvent&&window.MSPointerEvent,je=!(!window.PointerEvent&&!we),_e="ontouchstart"in window||!!window.TouchEvent,Ne=!window.L_NO_TOUCH&&(_e||je),Se=ye&&oe,Ce=ye&&ce,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ee=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Pe=!!document.createElement("canvas").getContext,Ie=!(!document.createElementNS||!$("svg").createSVGRect),Ae=!!Ie&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Te=!Ie&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Oe=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function Le(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Me={ie:Q,ielt9:ee,edge:te,webkit:ne,android:re,android23:se,androidStock:ie,opera:oe,chrome:le,gecko:ce,safari:de,phantom:ue,opera12:he,win:pe,ie3d:me,webkit3d:fe,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:be,mobileWebkit3d:xe,msPointer:we,pointer:je,touch:Ne,touchNative:_e,mobileOpera:Se,mobileGecko:Ce,retina:ke,passiveEvents:Ee,canvas:Pe,svg:Ie,vml:Te,inlineSvg:Ae,mac:Oe,linux:Re},ze=Me.msPointer?"MSPointerDown":"pointerdown",De=Me.msPointer?"MSPointerMove":"pointermove",Be=Me.msPointer?"MSPointerUp":"pointerup",Ve=Me.msPointer?"MSPointerCancel":"pointercancel",Ue={touchstart:ze,touchmove:De,touchend:Be,touchcancel:Ve},qe={touchstart:Xe,touchmove:Ye,touchend:Ye,touchcancel:Ye},Fe={},He=!1;function We(e,t,n){return"touchstart"===t&&$e(),qe[t]?(n=qe[t].bind(this,n),e.addEventListener(Ue[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){Ue[t]?e.removeEventListener(Ue[t],n,!1):console.warn("wrong event specified:",t)}function Ze(e){Fe[e.pointerId]=e}function Je(e){Fe[e.pointerId]&&(Fe[e.pointerId]=e)}function Ke(e){delete Fe[e.pointerId]}function $e(){He||(document.addEventListener(ze,Ze,!0),document.addEventListener(De,Je,!0),document.addEventListener(Be,Ke,!0),document.addEventListener(Ve,Ke,!0),He=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Fe)t.touches.push(Fe[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Zt(t),Ye(e,t)}function Qe(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function s(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var s=Kt(e);if(!s.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||s.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var a=Date.now();a-r<=et?2===++n&&t(Qe(e)):n=1,r=a}}}else n=e.detail}return e.addEventListener("click",s),{dblclick:t,simDblclick:s}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,st,at,it,ot,lt=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dt="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ut(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function pt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function mt(e){var t=e.parentNode;t&&t.removeChild(e)}function ft(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=jt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function bt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,s=n.length;r<s;r++)e.classList.add(n[r]);else if(!yt(e,t)){var a=jt(e);wt(e,(a?a+" ":"")+t)}}function xt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,u((" "+jt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function jt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function _t(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Nt(e,t)}function Nt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(s){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ct(e,t,n){var r=t||new T(0,0);e.style[lt]=(Me.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function kt(e,t){e._leaflet_pos=t,Me.any3d?Ct(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Et(e){return e._leaflet_pos||new T(0,0)}if("onselectstart"in document)rt=function(){zt(window,"selectstart",Zt)},st=function(){Bt(window,"selectstart",Zt)};else{var Pt=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Pt){var e=document.documentElement.style;at=e[Pt],e[Pt]="none"}},st=function(){Pt&&(document.documentElement.style[Pt]=at,at=void 0)}}function It(){zt(window,"dragstart",Zt)}function At(){Bt(window,"dragstart",Zt)}function Tt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ot(),it=e,ot=e.style.outlineStyle,e.style.outlineStyle="none",zt(window,"keydown",Ot))}function Ot(){it&&(it.style.outlineStyle=ot,it=void 0,ot=void 0,Bt(window,"keydown",Ot))}function Rt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Lt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Mt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:dt,get:ut,getStyle:ht,create:pt,remove:mt,empty:ft,toFront:gt,toBack:vt,hasClass:yt,addClass:bt,removeClass:xt,setClass:wt,getClass:jt,setOpacity:_t,testProp:St,setTransform:Ct,setPosition:kt,getPosition:Et,get disableTextSelection(){return rt},get enableTextSelection(){return st},disableImageDrag:It,enableImageDrag:At,preventOutline:Tt,restoreOutline:Ot,getSizedParentNode:Rt,getScale:Lt};function zt(e,t,n,r){if(t&&"object"===typeof t)for(var s in t)qt(e,s,t[s],n);else for(var a=0,i=(t=h(t)).length;a<i;a++)qt(e,t[a],n,r);return this}var Dt="_leaflet_events";function Bt(e,t,n,r){if(1===arguments.length)Vt(e),delete e[Dt];else if(t&&"object"===typeof t)for(var s in t)Ft(e,s,t[s],n);else if(t=h(t),2===arguments.length)Vt(e,function(e){return-1!==y(t,e)});else for(var a=0,i=t.length;a<i;a++)Ft(e,t[a],n,r);return this}function Vt(e,t){for(var n in e[Dt]){var r=n.split(/\d/)[0];t&&!t(r)||Ft(e,r,null,null,n)}}var Ut={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qt(e,t,n,r){var s=t+i(n)+(r?"_"+i(r):"");if(e[Dt]&&e[Dt][s])return this;var a=function(t){return n.call(r||e,t||window.event)},o=a;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?a=We(e,t,a):Me.touch&&"dblclick"===t?a=tt(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ut[t]||t,a,!!Me.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,Qt(e,t)&&o(t)},e.addEventListener(Ut[t],a,!1)):e.addEventListener(t,o,!1):e.attachEvent("on"+t,a),e[Dt]=e[Dt]||{},e[Dt][s]=a}function Ft(e,t,n,r,s){s=s||t+i(n)+(r?"_"+i(r):"");var a=e[Dt]&&e[Dt][s];if(!a)return this;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?Ge(e,t,a):Me.touch&&"dblclick"===t?nt(e,a):"removeEventListener"in e?e.removeEventListener(Ut[t]||t,a,!1):e.detachEvent("on"+t,a),e[Dt][s]=null}function Ht(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return qt(e,"wheel",Ht),this}function Gt(e){return zt(e,"mousedown touchstart dblclick contextmenu",Ht),e._leaflet_disable_click=!0,this}function Zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Jt(e){return Zt(e),Ht(e),this}function Kt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function $t(e,t){if(!t)return new T(e.clientX,e.clientY);var n=Lt(t),r=n.boundingClientRect;return new T((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return Me.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Qt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:zt,off:Bt,stopPropagation:Ht,disableScrollPropagation:Wt,disableClickPropagation:Gt,preventDefault:Zt,stop:Jt,getPropagationPath:Kt,getMousePosition:$t,getWheelDelta:Xt,isExternalTarget:Qt,addListener:zt,removeListener:Bt},tn=A.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Et(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),kt(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=A.extend({options:{crs:J,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(U(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(U(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),s=this.getSize().divideBy(2),a=(e instanceof T?e:this.latLngToContainerPoint(e)).subtract(s).multiplyBy(1-1/r),i=this.containerPointToLatLng(s.add(a));return this.setView(i,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,n.add(r));if((s="number"===typeof t.maxZoom?Math.min(t.maxZoom,s):s)===1/0)return{center:e.getCenter(),zoom:s};var a=r.subtract(n).divideBy(2),i=this.project(e.getSouthWest(),s),o=this.project(e.getNorthEast(),s);return{center:this.unproject(i.add(o).divideBy(2).add(a),s),zoom:s}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){bt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Me.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),s=this.project(e),a=this.getSize(),i=this._zoom;e=U(e),t=void 0===t?i:t;var o=Math.max(a.x,a.y),l=o*this.getZoomScale(i,t),c=s.distanceTo(r)||1,d=1.42,u=d*d;function h(e){var t=(l*l-o*o+(e?-1:1)*u*u*c*c)/(2*(e?l:o)*u*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function f(e){return p(e)/m(e)}var g=h(0);function v(e){return o*(m(g)/m(g+d*e))}function y(e){return o*(m(g)*f(g+d*e)-p(g))/u}function b(e){return 1-Math.pow(1-e,1.5)}var x=Date.now(),w=(h(1)-g)/d,j=n.duration?1e3*n.duration:1e3*w*.8;function _(){var n=(Date.now()-x)/j,a=b(n)*w;n<=1?(this._flyToFrame=S(_,this),this._move(this.unproject(r.add(s.subtract(r).multiplyBy(y(a)/c)),i),this.getScaleZoom(o/v(a),i),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),_.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,B(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),s=this.project(this.getCenter()),a=this.project(e),i=this.getPixelBounds(),o=z([i.min.add(n),i.max.subtract(r)]),l=o.getSize();if(!o.contains(a)){this._enforcingBounds=!0;var c=a.subtract(o.getCenter()),d=o.extend(a).getSize().subtract(l);s.x+=c.x<0?-d.x:d.x,s.y+=c.y<0?-d.y:d.y,this.panTo(this.unproject(s),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),i=r.divideBy(2).round(),o=a.subtract(i);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=s(this._handleGeolocationResponse,this),r=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new V(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var s=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(s,r.maxZoom):s)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var i in e.coords)"number"===typeof e.coords[i]&&(a[i]=e.coords[i]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)mt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=B(e),n=R(n||[0,0]);var r=this.getZoom()||0,s=this.getMinZoom(),a=this.getMaxZoom(),i=e.getNorthWest(),o=e.getSouthEast(),l=this.getSize().subtract(n),c=z(this.project(o,r),this.project(i,r)).getSize(),d=Me.any3d?this.options.zoomSnap:1,u=l.x/c.x,h=l.y/c.y,p=t?Math.max(u,h):Math.min(u,h);return r=this.getScaleZoom(p,r),d&&(r=Math.round(r/(d/100))*(d/100),r=t?Math.ceil(r/d)*d:Math.floor(r/d)*d),Math.max(s,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(U(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(U(e),U(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return $t(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ut(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");zt(t,"scroll",this._onScroll,this),this._containerId=i(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,bt(e,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(e.markerPane,"leaflet-zoom-hide"),bt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){kt(this._mapPane,new T(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s,n)._move(e,t)._moveEnd(s),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((s||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){kt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[i(this._container)]=this;var t=e?Bt:zt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=S(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],s="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,o=!1;a;){if((n=this._targets[i(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(s&&!Qt(a,e))break;if(r.push(n),s)break}if(a===this._container)break;a=a.parentNode}return r.length||o||s||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Tt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var s=n({},e);s.type="preclick",this._fireDOMEvent(s,s.type,r)}var a=this._findEventTargets(e,t);if(r){for(var i=[],o=0;o<r.length;o++)r[o].listens(t,!0)&&i.push(r[o]);a=i.concat(a)}if(a.length){"contextmenu"===t&&Zt(e);var l=a[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var d=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=d?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(o=0;o<a.length;o++)if(a[o].fire(t,c,!0),c.originalEvent._stopped||!1===a[o].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Et(this._mapPane)||new T(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return z([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),s=this.getSize().divideBy(2),a=new M(r.subtract(s),r.add(s)),i=this._getBoundsOffset(a,n,t);return Math.abs(i.x)<=1&&Math.abs(i.y)<=1?e:this.unproject(r.add(i),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=z(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),s=r.min.subtract(e.min),a=r.max.subtract(e.max);return new T(this._rebound(s.x,-a.x),this._rebound(s.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Me.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=lt,n=this._proxy.style[t];Ct(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ct(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(s))&&(S(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var sn=E.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return bt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new sn(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function r(r,s){var a=t+r+" "+t+s;e[r+s]=pt("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)mt(this._controlCorners[e]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var on=sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return sn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(i(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Wt(t);var r=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),zt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=pt("a",e+"-toggle",t);s.href="#",s.title="Layers",s.setAttribute("role","button"),zt(s,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Zt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",r),this._separator=pt("div",e+"-separator",r),this._overlaysList=pt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&i(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(s(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ft(this._baseLayersList),ft(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,s=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,s+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(i(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+i(this),r),this._layerControlInputs.push(t),t.layerId=i(e.layer),zt(t,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(s),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],s=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||s.push(t);for(a=0;a<s.length;a++)this._map.hasLayer(s[a])&&this._map.removeLayer(s[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),s=n.length-1;s>=0;s--)e=n[s],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,zt(e,"click",Zt),this.expand();var t=this;setTimeout(function(){Bt(e,"click",Zt),t._preventClick=!1})}}),ln=function(e,t,n){return new on(e,t,n)},cn=sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,s){var a=pt("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Gt(a),zt(a,"click",Jt),zt(a,"click",s,this),zt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";xt(this._zoomInButton,t),xt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(bt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(bt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))});var dn=function(e){return new cn(e)},un=sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,s=3.2808399*e;s>5280?(t=s/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(s),this._updateScale(this._iScale,r+" ft",r/s))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new un(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mn=sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new mn).addTo(this)});var fn=function(e){return new mn(e)};sn.Layers=on,sn.Zoom=cn,sn.Scale=un,sn.Attribution=mn,an.layers=ln,an.zoom=dn,an.scale=hn,an.attribution=fn;var gn=E.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:I},yn=Me.touch?"touchstart mousedown":"mousedown",bn=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(zt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(bn._dragging=this,this._preventOutline&&Tt(this._element),It(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Rt(this._element);this._startPoint=new T(t.clientX,t.clientY),this._startPos=Et(this._element),this._parentScale=Lt(n);var r="mousedown"===e.type;zt(document,r?"mousemove":"touchmove",this._onMove,this),zt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new T(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),kt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),At(),st();var t=this._moved&&this._moving;this._moving=!1,bn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function xn(e,t,n){var r,s,a,i,o,l,c,d,u,h=[1,4,2,8];for(s=0,c=e.length;s<c;s++)e[s]._code=On(e[s],t);for(i=0;i<4;i++){for(d=h[i],r=[],s=0,a=(c=e.length)-1;s<c;a=s++)o=e[s],l=e[a],o._code&d?l._code&d||((u=Tn(l,o,d,t,n))._code=On(u,t),r.push(u)):(l._code&d&&((u=Tn(l,o,d,t,n))._code=On(u,t),r.push(u)),r.push(o));e=r}return e}function wn(e,t){var n,r,s,a,i,o,l,c,d;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=U([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=jn(e));var p=e.length,m=[];for(n=0;n<p;n++){var f=U(e[n]);m.push(t.project(U([f.lat-u.lat,f.lng-u.lng])))}for(o=l=c=0,n=0,r=p-1;n<p;r=n++)s=m[n],a=m[r],i=s.y*a.x-a.y*s.x,l+=(s.x+a.x)*i,c+=(s.y+a.y)*i,o+=3*i;d=0===o?m[0]:[l/o,c/o];var g=t.unproject(R(d));return U([g.lat+u.lat,g.lng+u.lng])}function jn(e){for(var t=0,n=0,r=0,s=0;s<e.length;s++){var a=U(e[s]);t+=a.lat,n+=a.lng,r++}return U([t/r,n/r])}var _n,Nn={__proto__:null,clipPolygon:xn,polygonCenter:wn,centroid:jn};function Sn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=En(e=In(e,n),n)}function Cn(e,t,n){return Math.sqrt(Ln(e,t,n,!0))}function kn(e,t,n){return Ln(e,t,n)}function En(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Pn(e,r,t,0,n-1);var s,a=[];for(s=0;s<n;s++)r[s]&&a.push(e[s]);return a}function Pn(e,t,n,r,s){var a,i,o,l=0;for(i=r+1;i<=s-1;i++)(o=Ln(e[i],e[r],e[s],!0))>l&&(a=i,l=o);l>n&&(t[a]=1,Pn(e,t,n,r,a),Pn(e,t,n,a,s))}function In(e,t){for(var n=[e[0]],r=1,s=0,a=e.length;r<a;r++)Rn(e[r],e[s])>t&&(n.push(e[r]),s=r);return s<a-1&&n.push(e[a-1]),n}function An(e,t,n,r,s){var a,i,o,l=r?_n:On(e,n),c=On(t,n);for(_n=c;;){if(!(l|c))return[e,t];if(l&c)return!1;o=On(i=Tn(e,t,a=l||c,n,s),n),a===l?(e=i,l=o):(t=i,c=o)}}function Tn(e,t,n,r,s){var a,i,o=t.x-e.x,l=t.y-e.y,c=r.min,d=r.max;return 8&n?(a=e.x+o*(d.y-e.y)/l,i=d.y):4&n?(a=e.x+o*(c.y-e.y)/l,i=c.y):2&n?(a=d.x,i=e.y+l*(d.x-e.x)/o):1&n&&(a=c.x,i=e.y+l*(c.x-e.x)/o),new T(a,i,s)}function On(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ln(e,t,n,r){var s,a=t.x,i=t.y,o=n.x-a,l=n.y-i,c=o*o+l*l;return c>0&&((s=((e.x-a)*o+(e.y-i)*l)/c)>1?(a=n.x,i=n.y):s>0&&(a+=o*s,i+=l*s)),o=e.x-a,l=e.y-i,r?o*o+l*l:new T(a,i)}function Mn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function zn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(e)}function Dn(e,t){var n,r,s,a,i,o,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=U([0,0]),u=B(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=jn(e));var h=e.length,p=[];for(n=0;n<h;n++){var m=U(e[n]);p.push(t.project(U([m.lat-d.lat,m.lng-d.lng])))}for(n=0,r=0;n<h-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)c=p[0];else for(n=0,a=0;n<h-1;n++)if(i=p[n],o=p[n+1],(a+=s=i.distanceTo(o))>r){l=(a-r)/s,c=[o.x-l*(o.x-i.x),o.y-l*(o.y-i.y)];break}var f=t.unproject(R(c));return U([f.lat+d.lat,f.lng+d.lng])}var Bn={__proto__:null,simplify:Sn,pointToSegmentDistance:Cn,closestPointOnSegment:kn,clipSegment:An,_getEdgeIntersection:Tn,_getBitCode:On,_sqClosestPointOnSegment:Ln,isFlat:Mn,_flat:zn,polylineCenter:Dn},Vn={project:function(e){return new T(e.lng,e.lat)},unproject:function(e){return new V(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,s=this.R_MINOR/n,a=Math.sqrt(1-s*s),i=a*Math.sin(r),o=Math.tan(Math.PI/4-r/2)/Math.pow((1-i)/(1+i),a/2);return r=-n*Math.log(Math.max(o,1e-10)),new T(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,s=this.R_MINOR/r,a=Math.sqrt(1-s*s),i=Math.exp(-e.y/r),o=Math.PI/2-2*Math.atan(i),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=a*Math.sin(o),t=Math.pow((1-t)/(1+t),a/2),o+=c=Math.PI/2-2*Math.atan(i*t)-o;return new V(o*n,e.x*n/r)}},qn={__proto__:null,LonLat:Vn,Mercator:Un,SphericalMercator:W},Fn=n({},F,{code:"EPSG:3395",projection:Un,transformation:function(){var e=.5/(Math.PI*Un.R);return Z(e,.5,-e,.5)}()}),Hn=n({},F,{code:"EPSG:4326",projection:Vn,transformation:Z(1/180,1,-1/180,.5)}),Wn=n({},q,{projection:Vn,transformation:Z(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});q.Earth=F,q.EPSG3395=Fn,q.EPSG3857=J,q.EPSG900913=K,q.EPSG4326=Hn,q.Simple=Wn;var Gn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[i(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[i(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=i(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=i(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return i(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[i(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=i(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var s=this._zoomBoundLayers[r].options;e=void 0===s.minZoom?e:Math.min(e,s.minZoom),t=void 0===s.maxZoom?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zn=Gn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return i(e)}}),Jn=function(e,t){return new Zn(e,t)},Kn=Zn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Zn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Zn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),$n=function(e,t){return new Kn(e,t)},Yn=E.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var s=R(r),a=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Me.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Yn(e)}var Qn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Qn.imagePath&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new bn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,a=Et(t._icon),i=n.getPixelBounds(),o=n.getPixelOrigin(),l=z(i.min._subtract(o).add(s),i.max._subtract(o).subtract(s));if(!l.contains(a)){var c=R((Math.max(l.max.x,a.x)-l.max.x)/(i.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(i.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(i.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(i.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),kt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Et(t._icon),s=t._map.layerPointToLatLng(r);n&&kt(n,r),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Gn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),bt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(n,"focus",this._panOnFocus,this);var s=e.icon.createShadow(this._shadow),a=!1;s!==this._shadow&&(this._removeShadow(),a=!0),s&&(bt(s,t),s.alt=""),this._shadow=s,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&_t(this._icon,e),this._shadow&&_t(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),r=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sr=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new M(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ar(e,t){return new sr(e,t)}var ir=sr.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),p(this,t),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===F.distance){var s=Math.PI/180,a=this._mRadius/F.R/s,i=n.project([t+a,e]),o=n.project([t-a,e]),l=i.add(o).divideBy(2),c=n.unproject(l).lat,d=Math.acos((Math.cos(a*s)-Math.sin(t*s)*Math.sin(c*s))/(Math.cos(t*s)*Math.cos(c*s)))/s;(isNaN(d)||0===d)&&(d=a/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-n.project([c,e-d]).x,this._radiusY=l.y-i.y}else{var u=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function or(e,t,n){return new ir(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,s=null,a=Ln,i=0,o=this._parts.length;i<o;i++)for(var l=this._parts[i],c=1,d=l.length;c<d;c++){var u=a(e,t=l[c-1],n=l[c],!0);u<r&&(r=u,s=a(e,t,n))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=U(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Mn(e),r=0,s=e.length;r<s;r++)n?(t[r]=U(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new T(e,e);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,s,a=e[0]instanceof V,i=e.length;if(a){for(s=[],r=0;r<i;r++)s[r]=this._map.latLngToLayerPoint(e[r]),n.extend(s[r]);t.push(s)}else for(r=0;r<i;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,s,a,i,o,l=this._parts;for(t=0,r=0,s=this._rings.length;t<s;t++)for(n=0,a=(o=this._rings[t]).length;n<a-1;n++)(i=An(o[n],o[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(i[0]),i[1]===o[n+1]&&n!==a-2||(l[r].push(i[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Sn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,s,a,i,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,s=(i=(o=this._parts[n]).length)-1;r<i;s=r++)if((t||0!==r)&&Cn(e,o[s],o[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=zn;var dr=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof V&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new T(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,s=0,a=this._rings.length;s<a;s++)(r=xn(this._rings[s],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,s,a,i,o,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,o=this._parts.length;s<o;s++)for(a=0,i=(l=(t=this._parts[s]).length)-1;a<l;i=a++)n=t[a],r=t[i],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function ur(e,t){return new dr(e,t)}var hr=Kn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,s=v(e)?e:e.features;if(s){for(t=0,n=s.length;t<n;t++)((r=s[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var i=pr(e,a);return i?(i.feature=xr(e),i.defaultOptions=i.options,this.resetStyle(i),a.onEachFeature&&a.onEachFeature(e,i),this.addLayer(i)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pr(e,t){var n,r,s,a,i="Feature"===e.type?e.geometry:e,o=i?i.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||fr;if(!o&&!i)return null;switch(i.type){case"Point":return mr(c,e,n=d(o),t);case"MultiPoint":for(s=0,a=o.length;s<a;s++)n=d(o[s]),l.push(mr(c,e,n,t));return new Kn(l);case"LineString":case"MultiLineString":return r=gr(o,"LineString"===i.type?0:1,d),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(o,"Polygon"===i.type?1:2,d),new dr(r,t);case"GeometryCollection":for(s=0,a=i.geometries.length;s<a;s++){var u=pr({geometry:i.geometries[s],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new Kn(l);case"FeatureCollection":for(s=0,a=i.features.length;s<a;s++){var h=pr(i.features[s],t);h&&l.push(h)}return new Kn(l);default:throw new Error("Invalid GeoJSON object.")}}function mr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function fr(e){return new V(e[1],e[0],e[2])}function gr(e,t,n){for(var r,s=[],a=0,i=e.length;a<i;a++)r=t?gr(e[a],t-1,n):(n||fr)(e[a]),s.push(r);return s}function vr(e,t){return void 0!==(e=U(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function yr(e,t,n,r){for(var s=[],a=0,i=e.length;a<i;a++)s.push(t?yr(e[a],Mn(e[a])?0:t-1,n,r):vr(e[a],r));return!t&&n&&s.length>0&&s.push(s[0].slice()),s}function br(e,t){return e.feature?n({},e.feature,{geometry:t}):xr(t)}function xr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return br(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function jr(e,t){return new hr(e,t)}tr.include(wr),ir.include(wr),sr.include(wr),lr.include({toGeoJSON:function(e){var t=!Mn(this._latlngs);return br(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),dr.include({toGeoJSON:function(e){var t=!Mn(this._latlngs),n=t&&!Mn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),br(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Zn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),br(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var s=t.toGeoJSON(e);if(n)r.push(s.geometry);else{var a=xr(s);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}}),n?br(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var _r=jr,Nr=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=B(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ct(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();kt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){_t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Sr=function(e,t,n){return new Nr(e,t,n)},Cr=Nr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=s(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var i=0;i<this._url.length;i++){var o=pt("source");o.src=this._url[i],t.appendChild(o)}}}});function kr(e,t,n){return new Cr(e,t,n)}var Er=Nr.extend({_initImage:function(){var e=this._image=this._url;bt(e,"leaflet-image-layer"),this._zoomAnimated&&bt(e,"leaflet-zoom-animated"),this.options.className&&bt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Pr(e,t,n){return new Er(e,t,n)}var Ir=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof V||v(e))?(this._latlng=U(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&_t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&_t(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(_t(this._container,0),this._removeTimeout=setTimeout(s(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Kn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?kt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var s=t;return s instanceof e||(s=new e(r).setContent(t)),n&&s.setLatLng(n),s}}),Gn.include({_initOverlay:function(e,t,n,r){var s=n;return s instanceof e?(p(s,r),s._source=this):(s=t&&!r?t:new e(r,this)).setContent(n),s}});var Ar=Ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ir.prototype.openOn.call(this,e)},onAdd:function(e){Ir.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Ht))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Ht))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Gt(t),Wt(this._contentNode),zt(t,"contextmenu",Ht),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',zt(r,"click",function(e){Zt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,s=this.options.maxHeight,a="leaflet-popup-scrolled";s&&r>s?(t.height=s+"px",bt(e,a)):xt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();kt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,s=new T(this._containerLeft,-n-this._containerBottom);s._add(Et(this._container));var a=e.layerPointToContainerPoint(s),i=R(this.options.autoPanPadding),o=R(this.options.autoPanPaddingTopLeft||i),l=R(this.options.autoPanPaddingBottomRight||i),c=e.getSize(),d=0,u=0;a.x+r+l.x>c.x&&(d=a.x+r-c.x+l.x),a.x-d-o.x<0&&(d=a.x-o.x),a.y+n+l.y>c.y&&(u=a.y+n-c.y+l.y),a.y-u-o.y<0&&(u=a.y-o.y),(d||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([d,u]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tr=function(e,t){return new Ar(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Ar,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ar,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Jt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Or=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ir.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+i(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,s=this._container,a=r.latLngToContainerPoint(r.getCenter()),i=r.layerPointToContainerPoint(e),o=this.options.direction,l=s.offsetWidth,c=s.offsetHeight,d=R(this.options.offset),u=this._getAnchor();"top"===o?(t=l/2,n=c):"bottom"===o?(t=l/2,n=0):"center"===o?(t=l/2,n=c/2):"right"===o?(t=0,n=c/2):"left"===o?(t=l,n=c/2):i.x<a.x?(o="right",t=0,n=c/2):(o="left",t=l+2*(d.x+u.x),n=c/2),e=e.subtract(R(t,n,!0)).add(d).add(u),xt(s,"leaflet-tooltip-right"),xt(s,"leaflet-tooltip-left"),xt(s,"leaflet-tooltip-top"),xt(s,"leaflet-tooltip-bottom"),bt(s,"leaflet-tooltip-"+o),kt(s,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&_t(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rr=function(e,t){return new Or(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Or,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Or,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(zt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),zt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Lr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ft(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Mr(e){return new Lr(e)}Yn.Default=Qn;var zr=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),mt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof T?e:new T(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),s=0,a=n.length;s<a;s++)t=n[s].style.zIndex,n[s]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){_t(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var s=this._tiles[r];if(s.current&&s.loaded){var a=Math.min(1,(e-s.loaded)/200);_t(s.el,a),a<1?t=!0:(s.active?n=!0:this._onOpaqueTile(s),s.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],s=this._map;return r||((r=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=s.project(s.unproject(s.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,s.getCenter(),s.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)mt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var s=Math.floor(e/2),a=Math.floor(t/2),i=n-1,o=new T(+s,+a);o.z=+i;var l=this._tileCoordsToKey(o),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),i>r&&this._retainParent(s,a,i,r))},_retainChildren:function(e,t,n,r){for(var s=2*e;s<2*e+2;s++)for(var a=2*t;a<2*t+2;a++){var i=new T(s,a);i.z=n+1;var o=this._tileCoordsToKey(i),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(s,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var s=Math.round(t);s=void 0!==this.options.maxZoom&&s>this.options.maxZoom||void 0!==this.options.minZoom&&s<this.options.minZoom?void 0:this._clampZoom(s);var a=this.options.updateWhenZooming&&s!==this._tileZoom;r&&!a||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==s&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),s=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Me.any3d?Ct(e.el,s,r):kt(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),s=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new M(s.subtract(a),s.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),s=this._pxBoundsToTileRange(r),a=s.getCenter(),i=[],o=this.options.keepBuffer,l=new M(s.getBottomLeft().subtract([o,-o]),s.getTopRight().add([o,-o]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new T(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var u=s.min.y;u<=s.max.y;u++)for(var h=s.min.x;h<=s.max.x;h++){var p=new T(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:i.push(p)}}if(i.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),0!==i.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<i.length;h++)this._addTile(i[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),s=r.add(n);return[t.unproject(r,e.z),t.unproject(s,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new T(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(mt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){bt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Me.ielt9&&this.options.opacity<1&&_t(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&S(s(this._tileReady,this,e,null,a)),kt(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(_t(n.el,0),C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(bt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new T(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Dr(e){return new zr(e)}var Br=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Me.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return zt(n,"load",s(this._tileOnLoad,this,t,n)),zt(n,"error",s(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Me.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Me.ielt9?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=b;var n=this._tiles[e].coords;mt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",b),zr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return zr.prototype._tileReady.call(this,e,t,n)}});function Vr(e,t){return new Br(e,t)}var Ur=Br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var s in t)s in this.options||(r[s]=t[s]);var a=(t=p(this,t)).detectRetina&&Me.retina?2:1,i=this.getTileSize();r.width=i.x*a,r.height=i.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Br.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=z(n.project(t[0]),n.project(t[1])),s=r.min,a=r.max,i=(this._wmsVersion>=1.3&&this._crs===Hn?[s.y,s.x,a.y,a.x]:[s.x,s.y,a.x,a.y]).join(","),o=Br.prototype.getTileUrl.call(this,e);return o+m(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+i},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function qr(e,t){return new Ur(e,t)}Br.WMS=Ur,Vr.wms=qr;var Fr=Gn.extend({options:{padding:.1},initialize:function(e){p(this,e),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),a=r.multiplyBy(-n).add(s).subtract(this._map._getNewPixelOrigin(e,t));Me.any3d?Ct(this._container,a,n):kt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=Fr.extend({options:{tolerance:0},getEvents:function(){var e=Fr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");zt(e,"mousemove",this._onMouseMove,this),zt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,mt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Me.retina?2:1;kt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[i(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[i(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),s=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;s.push(t)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,s,a,i=e._parts,o=i.length,l=this._ctx;if(o){for(l.beginPath(),n=0;n<o;n++){for(r=0,s=i[n].length;r<s;r++)a=i[n][r],l[r?"lineTo":"moveTo"](a.x,a.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),s=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==s&&(n.save(),n.scale(1,s)),n.beginPath(),n.arc(t.x,t.y/s,r,0,2*Math.PI,!1),1!==s&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),s=this._drawFirst;s;s=s.next)(t=s.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(xt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(bt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Wr(e){return Me.canvas?new Hr(e):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zr={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gr("shape");bt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;mt(t),e.removeInteractiveTarget(t),delete this._layers[i(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,s=e._container;s.stroked=!!r.stroke,s.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Gr("stroke")),s.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(s.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Gr("fill")),s.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(s.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Jr=Me.vml?Gr:$,Kr=Fr.extend({_initContainer:function(){this._container=Jr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),kt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Jr("path");e.options.className&&bt(t,e.options.className),e.options.interactive&&bt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[i(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){mt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[i(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",s=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,s)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function $r(e){return Me.svg||Me.vml?new Kr(e):null}Me.vml&&Kr.include(Zr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Wr(e)||$r(e)}});var Yr=dr.extend({initialize:function(e,t){dr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xr(e,t){return new Yr(e,t)}Kr.create=Jr,Kr.pointsToPath=Y,hr.geometryToLayer=pr,hr.coordsToLatLng=fr,hr.coordsToLatLngs=gr,hr.latLngToCoords=vr,hr.latLngsToCoords=yr,hr.getFeature=br,hr.asFeature=xr,nn.mergeOptions({boxZoom:!0});var Qr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),It(),this._startPoint=this._map.mouseEventToContainerPoint(e),zt(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();kt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(mt(this._box),xt(this._container,"leaflet-crosshair")),st(),At(),Bt(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Qr),nn.mergeOptions({doubleClickZoom:!0});var es=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,s=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(s):t.setZoomAround(e.containerPoint,s)}});nn.addInitHook("addHandler","doubleClickZoom",es),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ts=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new bn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,s=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,i=Math.abs(s+n)<Math.abs(a+n)?s:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=i},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,i=n.easeLinearity,o=s.multiplyBy(i/a),l=o.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),d=o.multiplyBy(c/l),u=c/(n.inertiaDeceleration*i),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),S(function(){t.panBy(h,{duration:u,easeLinearity:i,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ts),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ns=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),zt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},s=this.keyCodes;for(t=0,n=s.left.length;t<n;t++)r[s.left[t]]=[-1*e,0];for(t=0,n=s.right.length;t<n;t++)r[s.right[t]]=[e,0];for(t=0,n=s.down.length;t<n;t++)r[s.down[t]]=[0,e];for(t=0,n=s.up.length;t<n;t++)r[s.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},s=this.keyCodes;for(t=0,n=s.zoomIn.length;t<n;t++)r[s.zoomIn[t]]=e;for(t=0,n=s.zoomOut.length;t<n;t++)r[s.zoomOut[t]]=-e},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(R(t),r.options.maxBounds)),r.options.worldCopyJump){var s=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(s)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Jt(e)}}});nn.addInitHook("addHandler","keyboard",ns),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rs=gn.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),r),Jt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),s=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(s/n)*n:s,i=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,i&&("center"===e.options.scrollWheelZoom?e.setZoom(t+i):e.setZoomAround(this._lastMousePos,t+i))}});nn.addInitHook("addHandler","scrollWheelZoom",rs);var ss=600;nn.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var as=gn.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new T(t.clientX,t.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Zt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ss),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Bt(document,"touchend",Zt),Bt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new T(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",as),nn.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var is=gn.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Zt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var i=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===i.x&&0===i.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var o=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(o,this,!0),Zt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",is),nn.BoxZoom=Qr,nn.DoubleClickZoom=es,nn.Drag=ts,nn.Keyboard=ns,nn.ScrollWheelZoom=rs,nn.TapHold=as,nn.TouchZoom=is,e.Bounds=M,e.Browser=Me,e.CRS=q,e.Canvas=Hr,e.Circle=ir,e.CircleMarker=sr,e.Class=E,e.Control=sn,e.DivIcon=Lr,e.DivOverlay=Ir,e.DomEvent=en,e.DomUtil=Mt,e.Draggable=bn,e.Evented=A,e.FeatureGroup=Kn,e.GeoJSON=hr,e.GridLayer=zr,e.Handler=gn,e.Icon=Yn,e.ImageOverlay=Nr,e.LatLng=V,e.LatLngBounds=D,e.Layer=Gn,e.LayerGroup=Zn,e.LineUtil=Bn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=T,e.PolyUtil=Nn,e.Polygon=dr,e.Polyline=lr,e.Popup=Ar,e.PosAnimation=tn,e.Projection=qn,e.Rectangle=Yr,e.Renderer=Fr,e.SVG=Kr,e.SVGOverlay=Er,e.TileLayer=Br,e.Tooltip=Or,e.Transformation=G,e.Util=k,e.VideoOverlay=Cr,e.bind=s,e.bounds=z,e.canvas=Wr,e.circle=or,e.circleMarker=ar,e.control=an,e.divIcon=Mr,e.extend=n,e.featureGroup=$n,e.geoJSON=jr,e.geoJson=_r,e.gridLayer=Dr,e.icon=Xn,e.imageOverlay=Sr,e.latLng=U,e.latLngBounds=B,e.layerGroup=Jn,e.map=rn,e.marker=nr,e.point=R,e.polygon=ur,e.polyline=cr,e.popup=Tr,e.rectangle=Xr,e.setOptions=p,e.stamp=i,e.svg=$r,e.svgOverlay=Pr,e.tileLayer=Vr,e.tooltip=Rr,e.transformation=Z,e.version=t,e.videoOverlay=kr;var os=window.L;e.noConflict=function(){return window.L=os,this},window.L=e}(t)},605(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,s.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,s){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}};var r,s=(r=n(515))&&r.__esModule?r:{default:r}},654(e,t,n){"use strict";var r=n(950),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},695(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function s(t,n,r){return t.set(e(t,n),r),r}const a=100,i={},o=()=>{i.previousActiveElement instanceof HTMLElement?(i.previousActiveElement.focus(),i.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;i.restoreFocusTimeout=setTimeout(()=>{o(),t()},a),window.scrollTo(n,r)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=c+t,e),{}),u=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=c+t,e),{}),h="SweetAlert2:",p=e=>e.charAt(0).toUpperCase()+e.slice(1),m=e=>{console.warn("".concat(h," ").concat("object"===typeof e?e.join(" "):e))},f=e=>{console.error("".concat(h," ").concat(e))},g=[],v=e=>{g.includes(e)||(g.push(e),m(e))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v('"'.concat(e,'" is deprecated and will be removed in the next major release.').concat(t?' Use "'.concat(t,'" instead.'):""))},b=e=>"function"===typeof e?e():e,x=e=>e&&"function"===typeof e.toPromise,w=e=>x(e)?e.toPromise():Promise.resolve(e),j=e=>e&&Promise.resolve(e)===e,_=()=>document.body.querySelector(".".concat(d.container)),N=e=>{const t=_();return t?t.querySelector(e):null},S=e=>N(".".concat(e)),C=()=>S(d.popup),k=()=>S(d.icon),E=()=>S(d["icon-content"]),P=()=>S(d.title),I=()=>S(d["html-container"]),A=()=>S(d.image),T=()=>S(d["progress-steps"]),O=()=>S(d["validation-message"]),R=()=>N(".".concat(d.actions," .").concat(d.confirm)),L=()=>N(".".concat(d.actions," .").concat(d.cancel)),M=()=>N(".".concat(d.actions," .").concat(d.deny)),z=()=>S(d["input-label"]),D=()=>N(".".concat(d.loader)),B=()=>S(d.actions),V=()=>S(d.footer),U=()=>S(d["timer-progress-bar"]),q=()=>S(d.close),F='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const e=C();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0}),r=e.querySelectorAll(F),s=Array.from(r).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(s))].filter(e=>de(e))},W=()=>K(document.body,d.shown)&&!K(document.body,d["toast-shown"])&&!K(document.body,d["no-backdrop"]),G=()=>{const e=C();return!!e&&K(e,d.toast)},Z=()=>{const e=C();return!!e&&e.hasAttribute("data-loading")},J=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(t=>{e.appendChild(t)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},K=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},$=(e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(d).includes(n)||Object.values(u).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})},Y=(e,t,n)=>{if($(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):m("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof r,'"')))},X=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(d.popup," > .").concat(d[t]));case"checkbox":return e.querySelector(".".concat(d.popup," > .").concat(d.checkbox," input"));case"radio":return e.querySelector(".".concat(d.popup," > .").concat(d.radio," input:checked"))||e.querySelector(".".concat(d.popup," > .").concat(d.radio," input:first-child"));case"range":return e.querySelector(".".concat(d.popup," > .").concat(d.range," input"));default:return e.querySelector(".".concat(d.popup," > .").concat(d.input))}},Q=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&K(e,t))return e}},se=(e,t,n)=>{n==="".concat(parseInt("".concat(n)))&&(n=parseInt(n)),n||0===parseInt("".concat(n))?e.style.setProperty(t,"number"===typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ie=e=>{e&&(e.style.display="none")},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{ce(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const s=e.querySelector(t);s&&s.style.setProperty(n,r)},ce=function(e,t){t?ae(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ie(e)},de=e=>Boolean(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ue=()=>!de(R())&&!de(M())&&!de(L()),he=e=>Boolean(e.scrollHeight>e.clientHeight),pe=(e,t)=>{let n=e;for(;n&&n!==t;){if(he(n))return!0;n=n.parentElement}return!1},me=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U();n&&de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},ge=()=>{const e=U();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},ve=()=>"undefined"===typeof window||"undefined"===typeof document,ye='\n <div aria-labelledby="'.concat(d.title,'" aria-describedby="').concat(d["html-container"],'" class="').concat(d.popup,'" tabindex="-1">\n   <button type="button" class="').concat(d.close,'"></button>\n   <ul class="').concat(d["progress-steps"],'"></ul>\n   <div class="').concat(d.icon,'"></div>\n   <img class="').concat(d.image,'" />\n   <h2 class="').concat(d.title,'" id="').concat(d.title,'"></h2>\n   <div class="').concat(d["html-container"],'" id="').concat(d["html-container"],'"></div>\n   <input class="').concat(d.input,'" id="').concat(d.input,'" />\n   <input type="file" class="').concat(d.file,'" />\n   <div class="').concat(d.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(d.select,'" id="').concat(d.select,'"></select>\n   <div class="').concat(d.radio,'"></div>\n   <label class="').concat(d.checkbox,'">\n     <input type="checkbox" id="').concat(d.checkbox,'" />\n     <span class="').concat(d.label,'"></span>\n   </label>\n   <textarea class="').concat(d.textarea,'" id="').concat(d.textarea,'"></textarea>\n   <div class="').concat(d["validation-message"],'" id="').concat(d["validation-message"],'"></div>\n   <div class="').concat(d.actions,'">\n     <div class="').concat(d.loader,'"></div>\n     <button type="button" class="').concat(d.confirm,'"></button>\n     <button type="button" class="').concat(d.deny,'"></button>\n     <button type="button" class="').concat(d.cancel,'"></button>\n   </div>\n   <div class="').concat(d.footer,'"></div>\n   <div class="').concat(d["timer-progress-bar-container"],'">\n     <div class="').concat(d["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=()=>{const e=_();return!!e&&(e.remove(),ne([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)},xe=()=>{i.currentInstance&&i.currentInstance.resetValidationMessage()},we=()=>{const e=C();if(!e)return;const t=re(e,d.input),n=re(e,d.file),r=e.querySelector(".".concat(d.range," input")),s=e.querySelector(".".concat(d.range," output")),a=re(e,d.select),i=e.querySelector(".".concat(d.checkbox," input")),o=re(e,d.textarea);t&&(t.oninput=xe),n&&(n.onchange=xe),a&&(a.onchange=xe),i&&(i.onchange=xe),o&&(o.oninput=xe),r&&s&&(r.oninput=()=>{xe(),s.value=r.value},r.onchange=()=>{xe(),s.value=r.value})},je=e=>{if("string"===typeof e){const t=document.querySelector(e);if(!t)throw new Error('Target element "'.concat(e,'" not found'));return t}return e},_e=e=>{const t=C();t&&(t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true"))},Ne=e=>{"rtl"===window.getComputedStyle(e).direction&&(te(_(),d.rtl),i.isRTL=!0)},Se=e=>{const t=be();if(ve())return void f("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=d.container,t&&te(n,d["no-transition"]),J(n,ye),n.dataset.swal2Theme=e.theme;const r=je(e.target||"body");r.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),_e(e),Ne(r),we()},Ce=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?ke(e,t):e&&J(t,e)},ke=(e,t)=>{"jquery"in e?Ee(t,e):J(t,e.toString())},Ee=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Pe=(e,t)=>{const n=B(),r=D();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ae(n):ie(n),Y(n,t,"actions"),Ie(n,r,t),J(r,t.loaderHtml||""),Y(r,t,"loader"))};function Ie(e,t,n){const r=R(),s=M(),a=L();r&&s&&a&&(Oe(r,"confirm",n),Oe(s,"deny",n),Oe(a,"cancel",n),Ae(r,s,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(s,r)):(e.insertBefore(a,t),e.insertBefore(s,t),e.insertBefore(r,t))))}function Ae(e,t,n,r){r.buttonsStyling?(te([e,t,n],d.styled),r.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Te(e),Te(t),Te(n)):ne([e,t,n],d.styled)}function Te(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(n)))}function Oe(e,t,n){const r=p(t);ce(e,n["show".concat(r,"Button")],"inline-block"),J(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=d[t],Y(e,n,"".concat(t,"Button"))}const Re=(e,t)=>{const n=q();n&&(J(n,t.closeButtonHtml||""),Y(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Le=(e,t)=>{const n=_();n&&(Me(n,t.backdrop),ze(n,t.position),De(n,t.grow),Y(n,t,"container"))};function Me(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],d["no-backdrop"])}function ze(e,t){t&&(t in d?te(e,d[t]):(m('The "position" parameter is not valid, defaulting to "center"'),te(e,d.center)))}function De(e,t){t&&te(e,d["grow-".concat(t)])}var Be={innerParams:new WeakMap,domCache:new WeakMap};const Ve=["input","file","range","select","radio","checkbox","textarea"],Ue=(e,t)=>{const n=C();if(!n)return;const r=Be.innerParams.get(e),s=!r||t.input!==r.input;Ve.forEach(e=>{const r=re(n,d[e]);r&&(He(e,t.inputAttributes),r.className=d[e],s&&ie(r))}),t.input&&(s&&qe(t),We(t))},qe=e=>{if(!e.input)return;if(!$e[e.input])return void f("Unexpected type of input! Expected ".concat(Object.keys($e).join(" | "),', got "').concat(e.input,'"'));const t=Je(e.input);if(!t)return;const n=$e[e.input](t,e);ae(t),e.inputAutoFocus&&setTimeout(()=>{Q(n)})},Fe=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},He=(e,t)=>{const n=C();if(!n)return;const r=X(n,e);if(r){Fe(r);for(const e in t)r.setAttribute(e,t[e])}},We=e=>{if(!e.input)return;const t=Je(e.input);t&&Y(t,e,"input")},Ge=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ze=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=d["input-label"];r.setAttribute("for",e.id),r.className=s,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Je=e=>{const t=C();if(t)return re(t,d[e]||d.input)},Ke=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):j(t)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},$e={};$e.text=$e.email=$e.password=$e.number=$e.tel=$e.url=$e.search=$e.date=$e["datetime-local"]=$e.time=$e.week=$e.month=(e,t)=>{const n=e;return Ke(n,t.inputValue),Ze(n,n,t),Ge(n,t),n.type=t.input,n},$e.file=(e,t)=>{const n=e;return Ze(n,n,t),Ge(n,t),n},$e.range=(e,t)=>{const n=e,r=n.querySelector("input"),s=n.querySelector("output");return r&&(Ke(r,t.inputValue),r.type=t.input,Ze(r,e,t)),s&&Ke(s,t.inputValue),e},$e.select=(e,t)=>{const n=e;if(n.textContent="",t.inputPlaceholder){const e=document.createElement("option");J(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,n.appendChild(e)}return Ze(n,n,t),n},$e.radio=e=>(e.textContent="",e),$e.checkbox=(e,t)=>{const n=C();if(!n)throw new Error("Popup not found");const r=X(n,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=Boolean(t.inputValue);const s=e.querySelector("span");if(s){const e=t.inputPlaceholder||t.inputLabel;e&&J(s,e)}return r},$e.textarea=(e,t)=>{const n=e;Ke(n,t.inputValue),Ge(n,t),Ze(n,n,t);const r=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const e=C();if(!e)return;const s=parseInt(window.getComputedStyle(e).width);new MutationObserver(()=>{if(!document.body.contains(n))return;const e=n.offsetWidth+r(n),a=C();a&&(e>s?a.style.width="".concat(e,"px"):se(a,"width",t.width))}).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const Ye=(e,t)=>{const n=I();n&&(oe(n),Y(n,t,"htmlContainer"),t.html?(Ce(t.html,n),ae(n,"block")):t.text?(n.textContent=t.text,ae(n,"block")):ie(n),Ue(e,t))},Xe=(e,t)=>{const n=V();n&&(oe(n),ce(n,Boolean(t.footer),"block"),t.footer&&Ce(t.footer,n),Y(n,t,"footer"))},Qe=(e,t)=>{const n=Be.innerParams.get(e),r=k();if(r){if(n&&t.icon===n.icon)return st(r,t),void et(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(u).indexOf(t.icon))return f('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void ie(r);ae(r),st(r,t),et(r,t),te(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tt)}else ie(r)}},et=(e,t)=>{for(const[n,r]of Object.entries(u))t.icon!==n&&ne(e,r);te(e,t.icon&&u[t.icon]),at(e,t),tt(),Y(e,t,"icon")},tt=()=>{const e=C();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},nt=e=>"\n  ".concat(e.animation?'<div class="swal2-success-circular-line-left"></div>':"",'\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ').concat(e.animation?'<div class="swal2-success-fix"></div>':"","\n  ").concat(e.animation?'<div class="swal2-success-circular-line-right"></div>':"","\n"),rt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',st=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=it(t.iconHtml):"success"===t.icon?(r=nt(t),n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=rt:t.icon&&(r=it({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&J(e,r)},at=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},it=e=>'<div class="'.concat(d["icon-content"],'">').concat(e,"</div>"),ot=(e,t)=>{const n=A();n&&(t.imageUrl?(ae(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),se(n,"width",t.imageWidth),se(n,"height",t.imageHeight),n.className=d.image,Y(n,t,"image")):ie(n))};let lt=!1,ct=0,dt=0,ut=0,ht=0;const pt=e=>{e.addEventListener("mousedown",ft),document.body.addEventListener("mousemove",gt),e.addEventListener("mouseup",vt),e.addEventListener("touchstart",ft),document.body.addEventListener("touchmove",gt),e.addEventListener("touchend",vt)},mt=e=>{e.removeEventListener("mousedown",ft),document.body.removeEventListener("mousemove",gt),e.removeEventListener("mouseup",vt),e.removeEventListener("touchstart",ft),document.body.removeEventListener("touchmove",gt),e.removeEventListener("touchend",vt)},ft=e=>{const t=C();if(!t)return;const n=k();if(e.target===t||n&&n.contains(e.target)){lt=!0;const n=yt(e);ct=n.clientX,dt=n.clientY,ut=parseInt(t.style.insetInlineStart)||0,ht=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},gt=e=>{const t=C();if(t&&lt){let{clientX:n,clientY:r}=yt(e);const s=n-ct;t.style.insetInlineStart="".concat(ut+(i.isRTL?-s:s),"px"),t.style.insetBlockStart="".concat(ht+(r-dt),"px")}},vt=()=>{const e=C();lt=!1,ne(e,"swal2-dragging")},yt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},bt=(e,t)=>{const n=_(),r=C();if(n&&r){if(t.toast){se(n,"width",t.width),r.style.width="100%";const e=D();e&&r.insertBefore(e,k())}else se(r,"width",t.width);se(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ie(O()),xt(r,t),t.draggable&&!t.toast?(te(r,d.draggable),pt(r)):(ne(r,d.draggable),mt(r))}},xt=(e,t)=>{const n=t.showClass||{};e.className="".concat(d.popup," ").concat(de(e)?n.popup:""),t.toast?(te([document.documentElement,document.body],d["toast-shown"]),te(e,d.toast)):te(e,d.modal),Y(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,d["icon-".concat(t.icon)])},wt=(e,t)=>{const n=T();if(!n)return;const{progressSteps:r,currentProgressStep:s}=t;r&&0!==r.length&&void 0!==s?(ae(n),n.textContent="",s>=r.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((e,a)=>{const i=jt(e);if(n.appendChild(i),a===s&&te(i,d["active-progress-step"]),a!==r.length-1){const e=_t(t);n.appendChild(e)}})):ie(n)},jt=e=>{const t=document.createElement("li");return te(t,d["progress-step"]),J(t,e),t},_t=e=>{const t=document.createElement("li");return te(t,d["progress-step-line"]),e.progressStepsDistance&&se(t,"width",e.progressStepsDistance),t},Nt=(e,t)=>{const n=P();n&&(oe(n),ce(n,Boolean(t.title||t.titleText),"block"),t.title&&Ce(t.title,n),t.titleText&&(n.innerText=t.titleText),Y(n,t,"title"))},St=(e,t)=>{var n;bt(e,t),Le(e,t),wt(e,t),Qe(e,t),ot(e,t),Nt(e,t),Re(e,t),Ye(e,t),Pe(e,t),Xe(e,t);const r=C();"function"===typeof t.didRender&&r&&t.didRender(r),null===(n=i.eventEmitter)||void 0===n||n.emit("didRender",r)},Ct=()=>de(C()),kt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},Et=()=>{var e;return null===(e=M())||void 0===e?void 0:e.click()},Pt=()=>{var e;return null===(e=L())||void 0===e?void 0:e.click()},It=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),At=e=>{if(e.keydownTarget&&e.keydownHandlerAdded&&e.keydownHandler){const t=e.keydownHandler;e.keydownTarget.removeEventListener("keydown",t,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1}},Tt=(e,t,n)=>{if(At(e),!t.toast){const r=e=>Mt(t,e,n);e.keydownHandler=r;const s=t.keydownListenerCapture?window:C();if(s){e.keydownTarget=s,e.keydownListenerCapture=t.keydownListenerCapture;const n=r;e.keydownTarget.addEventListener("keydown",n,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0}}},Ot=(e,t)=>{var n;const r=H();if(r.length)return-2===(e+=t)&&(e=r.length-1),e===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=C())||void 0===n||n.focus()},Rt=["ArrowRight","ArrowDown"],Lt=["ArrowLeft","ArrowUp"],Mt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?zt(t,e):"Tab"===t.key?Dt(t):[...Rt,...Lt].includes(t.key)?Bt(t.key):"Escape"===t.key&&Vt(t,e,n)))},zt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=C();if(!n||!t.input)return;const r=X(n,t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;kt(),e.preventDefault()}},Dt=e=>{const t=e.target,n=H();let r=-1;for(let s=0;s<n.length;s++)if(t===n[s]){r=s;break}e.shiftKey?Ot(r,-1):Ot(r,1),e.stopPropagation(),e.preventDefault()},Bt=e=>{const t=B(),n=R(),r=M(),s=L();if(!t||!n||!r||!s)return;const a=[n,r,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const i=Rt.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[i],!o)return;if(o instanceof HTMLButtonElement&&de(o))break}o instanceof HTMLButtonElement&&o.focus()}},Vt=(e,t,n)=>{e.preventDefault(),b(t.allowEscapeKey)&&n(It.esc)};var Ut={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qt=()=>{const e=_();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Ft=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Ht="undefined"!==typeof window&&Boolean(window.GestureEvent),Wt=()=>{if(Ht&&!K(document.body,d.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),te(document.body,d.iosfix),Gt()}},Gt=()=>{const e=_();if(!e)return;let t;e.ontouchstart=e=>{t=Zt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Zt=e=>{const t=e.target,n=_(),r=I();return!(!n||!r)&&!Jt(e)&&!Kt(e)&&(t===n||!(he(n)||!(t instanceof HTMLElement)||pe(t,r)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||he(r)&&r.contains(t)))},Jt=e=>Boolean(e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType),Kt=e=>e.touches&&e.touches.length>1,$t=()=>{if(K(document.body,d.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Yt=()=>{const e=document.createElement("div");e.className=d["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Xt=null;const Qt=e=>{null===Xt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Xt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Xt+Yt(),"px"))},en=()=>{null!==Xt&&(document.body.style.paddingRight="".concat(Xt,"px"),Xt=null)};function tn(e,t,n,r){G()?un(e,r):(l(n).then(()=>un(e,r)),At(i)),Ht?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),W()&&(en(),$t(),Ft()),nn()}function nn(){ne([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function rn(e){e=ln(e);const t=Ut.swalPromiseResolve.get(this),n=sn(this);this.isAwaitingPromise?e.isDismissed||(on(this),t(e)):n&&t(e)}const sn=e=>{const t=C();if(!t)return!1;const n=Be.innerParams.get(e);if(!n||K(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=_();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),cn(e,t,n),!0};function an(e){const t=Ut.swalPromiseReject.get(this);on(this),t&&t(e)}const on=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Be.innerParams.get(e)||e._destroy())},ln=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cn=(e,t,n)=>{var r;const s=_(),a=me(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=i.eventEmitter)||void 0===r||r.emit("willClose",t),a&&s?dn(e,t,s,Boolean(n.returnFocus),n.didClose):s&&tn(e,s,Boolean(n.returnFocus),n.didClose)},dn=(e,t,n,r,s)=>{i.swalCloseEventFinishedCallback=tn.bind(null,e,n,r,s);const a=function(e){var n;e.target===t&&(null===(n=i.swalCloseEventFinishedCallback)||void 0===n||n.call(i),delete i.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a))};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},un=(e,t)=>{setTimeout(()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=i.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},hn=e=>{let t=C();if(t||new fs,t=C(),!t)return;const n=D();G()?ie(k()):pn(t,e),ae(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},pn=(e,t)=>{const n=B(),r=D();n&&r&&(!t&&de(R())&&(t=R()),ae(n),t&&(ie(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],d.loading))},mn=(e,t)=>{"select"===t.input||"radio"===t.input?bn(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(x(t.inputValue)||j(t.inputValue))&&(hn(R()),xn(e,t))},fn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return gn(n);case"radio":return vn(n);case"file":return yn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},gn=e=>e.checked?1:0,vn=e=>e.checked?e.value:null,yn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bn=(e,t)=>{const n=C();if(!n)return;const r=e=>{"select"===t.input?wn(n,_n(e),t):"radio"===t.input&&jn(n,_n(e),t)};x(t.inputOptions)||j(t.inputOptions)?(hn(R()),w(t.inputOptions).then(t=>{e.hideLoading(),r(t)})):"object"===typeof t.inputOptions?r(t.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},xn=(e,t)=>{const n=e.getInput();n&&(ie(n),w(t.inputValue).then(r=>{n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),ae(n),n.focus(),e.hideLoading()}).catch(t=>{f("Error in inputValue promise: ".concat(t)),n.value="",ae(n),n.focus(),e.hideLoading()}))};function wn(e,t,n){const r=re(e,d.select);if(!r)return;const s=(e,t,r)=>{const s=document.createElement("option");s.value=r,J(s,t),s.selected=Nn(r,n.inputValue),e.appendChild(s)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach(t=>s(e,t[1],t[0]))}else s(r,n,t)}),r.focus()}function jn(e,t,n){const r=re(e,d.radio);if(!r)return;t.forEach(e=>{const t=e[0],s=e[1],a=document.createElement("input"),i=document.createElement("label");a.type="radio",a.name=d.radio,a.value=t,Nn(t,n.inputValue)&&(a.checked=!0);const o=document.createElement("span");J(o,s),o.className=d.label,i.appendChild(a),i.appendChild(o),r.appendChild(i)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const _n=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let r=e;"object"===typeof r&&(r=_n(r)),t.push([n,r])}):Object.keys(e).forEach(n=>{let r=e[n];"object"===typeof r&&(r=_n(r)),t.push([n,r])}),t},Nn=(e,t)=>Boolean(t)&&null!==t&&void 0!==t&&t.toString()===e.toString(),Sn=e=>{const t=Be.innerParams.get(e);e.disableButtons(),t.input?En(e,"confirm"):On(e,!0)},Cn=e=>{const t=Be.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?En(e,"deny"):In(e,!1)},kn=(e,t)=>{e.disableButtons(),t(It.cancel)},En=(e,t)=>{const n=Be.innerParams.get(e);if(!n.input)return void f('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(t)));const r=e.getInput(),s=fn(e,n);n.inputValidator?Pn(e,s,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?In(e,s):On(e,s)},Pn=(e,t,n)=>{const r=Be.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>w(r.inputValidator(t,r.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?In(e,t):On(e,t)})},In=(e,t)=>{const n=Be.innerParams.get(e);n.showLoaderOnDeny&&hn(M()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>w(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),on(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})}).catch(t=>Tn(e,t))):e.close({isDenied:!0,value:t})},An=(e,t)=>{e.close({isConfirmed:!0,value:t})},Tn=(e,t)=>{e.rejectPromise(t)},On=(e,t)=>{const n=Be.innerParams.get(e);n.showLoaderOnConfirm&&hn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>w(n.preConfirm(t,n.validationMessage))).then(n=>{de(O())||!1===n?(e.hideLoading(),on(e)):An(e,"undefined"===typeof n?t:n)}).catch(t=>Tn(e,t))):An(e,t)};function Rn(){const e=Be.innerParams.get(this);if(!e)return;const t=Be.domCache.get(this);ie(t.loader),G()?e.icon&&ae(k()):Ln(t),ne([t.popup,t.actions],d.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Ln=e=>{const t=e.loader.getAttribute("data-button-to-replace"),n=t?e.popup.getElementsByClassName(t):[];n.length?ae(n[0],"inline-block"):ue()&&ie(e.actions)};function Mn(){const e=Be.innerParams.get(this),t=Be.domCache.get(this);return t?X(t.popup,e.input):null}function zn(e,t,n){const r=Be.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function Dn(e,t){const n=C();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll('[name="'.concat(d.radio,'"]'));for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Bn(){zn(this,["confirmButton","denyButton","cancelButton"],!1)}function Vn(){zn(this,["confirmButton","denyButton","cancelButton"],!0)}function Un(){Dn(this.getInput(),!1)}function qn(){Dn(this.getInput(),!0)}function Fn(e){const t=Be.domCache.get(this),n=Be.innerParams.get(this);J(t.validationMessage,e),t.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),ae(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",d["validation-message"]),Q(r),te(r,d.inputerror))}function Hn(){const e=Be.domCache.get(this);e.validationMessage&&ie(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,d.inputerror))}const Wn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Gn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Zn={allowEnterKey:void 0},Jn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Kn=e=>Object.prototype.hasOwnProperty.call(Wn,e),$n=e=>-1!==Gn.indexOf(e),Yn=e=>Zn[e],Xn=e=>{Kn(e)||m('Unknown parameter "'.concat(e,'"'))},Qn=e=>{Jn.includes(e)&&m('The parameter "'.concat(e,'" is incompatible with toasts'))},er=e=>{const t=Yn(e);t&&y(e,t)},tr=e=>{!1===e.backdrop&&e.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&m('Invalid theme "'.concat(e.theme,'"'));for(const t in e)Xn(t),e.toast&&Qn(t),er(t)};function nr(e){const t=_(),n=C(),r=Be.innerParams.get(this);if(!n||K(n,r.hideClass.popup))return void m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const s=rr(e),a=Object.assign({},r,s);tr(a),t&&(t.dataset.swal2Theme=a.theme),St(this,a),Be.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const rr=e=>{const t={};return Object.keys(e).forEach(n=>{if($n(n)){const r=e;t[n]=r[n]}else m("Invalid parameter to update: ".concat(n))}),t};function sr(){var e;const t=Be.domCache.get(this),n=Be.innerParams.get(this);n?(t.popup&&i.swalCloseEventFinishedCallback&&(i.swalCloseEventFinishedCallback(),delete i.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),null===(e=i.eventEmitter)||void 0===e||e.emit("didDestroy"),ar(this)):ir(this)}const ar=e=>{ir(e),delete e.params,delete i.keydownHandler,delete i.keydownTarget,delete i.currentInstance},ir=e=>{e.isAwaitingPromise?(or(Be,e),e.isAwaitingPromise=!0):(or(Ut,e),or(Be,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},or=(e,t)=>{for(const n in e)e[n].delete(t)};var lr=Object.freeze({__proto__:null,_destroy:sr,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:Vn,disableInput:qn,disableLoading:Rn,enableButtons:Bn,enableInput:Un,getInput:Mn,handleAwaitingPromise:on,hideLoading:Rn,rejectPromise:an,resetValidationMessage:Hn,showValidationMessage:Fn,update:nr});const cr=(e,t,n)=>{e.toast?dr(e,t,n):(pr(t),mr(t),fr(e,t,n))},dr=(e,t,n)=>{t.popup.onclick=()=>{e&&(ur(e)||e.timer||e.input)||n(It.close)}},ur=e=>Boolean(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let hr=!1;const pr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(hr=!0)}}},mr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(hr=!0)}}},fr=(e,t,n)=>{t.container.onclick=r=>{hr?hr=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(It.backdrop)}},gr=e=>"object"===typeof e&&e.jquery,vr=e=>e instanceof Element||gr(e),yr=e=>{const t={};return"object"!==typeof e[0]||vr(e[0])?["title","html","icon"].forEach((n,r)=>{const s=e[r];"string"===typeof s||vr(s)?t[n]=s:void 0!==s&&f("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof s))}):Object.assign(t,e[0]),t};function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function xr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const wr=()=>i.timeout&&i.timeout.getTimerLeft(),jr=()=>{if(i.timeout)return ge(),i.timeout.stop()},_r=()=>{if(i.timeout){const e=i.timeout.start();return fe(e),e}},Nr=()=>{const e=i.timeout;return e&&(e.running?jr():_r())},Sr=e=>{if(i.timeout){const t=i.timeout.increase(e);return fe(t,!0),t}},Cr=()=>Boolean(i.timeout&&i.timeout.isRunning());let kr=!1;const Er={};function Pr(){Er[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,kr||(document.body.addEventListener("click",Ir),kr=!0)}const Ir=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Er){const n=t.getAttribute&&t.getAttribute(e);if(n)return void Er[e].fire({template:n})}};class Ar{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];t.apply(n,a)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,n)}catch(f){console.error(f)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}i.eventEmitter=new Ar;const Tr=(e,t)=>{i.eventEmitter&&i.eventEmitter.on(e,t)},Or=(e,t)=>{i.eventEmitter&&i.eventEmitter.once(e,t)},Rr=(e,t)=>{i.eventEmitter&&(e?t?i.eventEmitter.removeListener(e,t):i.eventEmitter.removeAllListeners(e):i.eventEmitter.reset())};var Lr=Object.freeze({__proto__:null,argsToParams:yr,bindClickHandler:Pr,clickCancel:Pt,clickConfirm:kt,clickDeny:Et,enableLoading:hn,fire:br,getActions:B,getCancelButton:L,getCloseButton:q,getConfirmButton:R,getContainer:_,getDenyButton:M,getFocusableElements:H,getFooter:V,getHtmlContainer:I,getIcon:k,getIconContent:E,getImage:A,getInputLabel:z,getLoader:D,getPopup:C,getProgressSteps:T,getTimerLeft:wr,getTimerProgressBar:U,getTitle:P,getValidationMessage:O,increaseTimer:Sr,isDeprecatedParameter:Yn,isLoading:Z,isTimerRunning:Cr,isUpdatableParameter:$n,isValidParameter:Kn,isVisible:Ct,mixin:xr,off:Rr,on:Tr,once:Or,resumeTimer:_r,showLoading:hn,stopTimer:jr,toggleTimer:Nr});class Mr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const zr=["swal-title","swal-html","swal-footer"],Dr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Gr(n),Object.assign(Br(n),Vr(n),Ur(n),qr(n),Fr(n),Hr(n),Wr(n,zr))},Br=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{Zr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(n in Wn&&"boolean"===typeof Wn[n]?t[n]="false"!==r:n in Wn&&"object"===typeof Wn[n]?t[n]=JSON.parse(r):t[n]=r)}),t},Vr=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function("return ".concat(r))())}),t},Ur=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{Zr(e,["type","color","aria-label"]);const n=e.getAttribute("type");if(n&&["confirm","cancel","deny"].includes(n)){if(t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(p(n),"Button")]=!0,e.hasAttribute("color")){const r=e.getAttribute("color");null!==r&&(t["".concat(n,"ButtonColor")]=r)}if(e.hasAttribute("aria-label")){const r=e.getAttribute("aria-label");null!==r&&(t["".concat(n,"ButtonAriaLabel")]=r)}}}),t},qr=e=>{const t={},n=e.querySelector("swal-image");return n&&(Zr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Fr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Zr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Hr=e=>{const t={},n=e.querySelector("swal-input");n&&(Zr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(e=>{Zr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r})),t},Wr=(e,t)=>{const n={};for(const r in t){const s=t[r],a=e.querySelector(s);a&&(Zr(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Gr=e=>{const t=zr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||m("Unrecognized element <".concat(n,">"))})},Zr=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&m(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})},Jr=10,Kr=e=>{var t,n;const r=_(),s=C();if(!r||!s)return;"function"===typeof e.willOpen&&e.willOpen(s),null===(t=i.eventEmitter)||void 0===t||t.emit("willOpen",s);const a=window.getComputedStyle(document.body).overflowY;if(Qr(r,s,e),setTimeout(()=>{Yr(r,s)},Jr),W()&&(Xr(r,void 0!==e.scrollbarPadding&&e.scrollbarPadding,a),qt()),G()||i.previousActiveElement||(i.previousActiveElement=document.activeElement),"function"===typeof e.didOpen){const t=e.didOpen;setTimeout(()=>t(s))}null===(n=i.eventEmitter)||void 0===n||n.emit("didOpen",s)},$r=e=>{const t=C();if(!t||e.target!==t)return;const n=_();n&&(t.removeEventListener("animationend",$r),t.removeEventListener("transitionend",$r),n.style.overflowY="auto",ne(n,d["no-transition"]))},Yr=(e,t)=>{me(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",$r),t.addEventListener("transitionend",$r)):e.style.overflowY="auto"},Xr=(e,t,n)=>{Wt(),t&&"hidden"!==n&&Qt(n),setTimeout(()=>{e.scrollTop=0})},Qr=(e,t,n)=>{var r;null!==(r=n.showClass)&&void 0!==r&&r.backdrop&&te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ae(t,"grid"),setTimeout(()=>{var e;null!==(e=n.showClass)&&void 0!==e&&e.popup&&te(t,n.showClass.popup),t.style.removeProperty("opacity")},Jr)):ae(t,"grid"),te([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],d["height-auto"])};var es={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ts(e){e.inputValidator||("email"===e.input&&(e.inputValidator=es.email),"url"===e.input&&(e.inputValidator=es.url))}function ns(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),e.target="body")}function rs(e){ts(e),e.showLoaderOnConfirm&&!e.preConfirm&&m("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),ns(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Se(e)}let ss;var as=new WeakMap;class is{constructor(){if(r(this,as,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),"undefined"===typeof window)return;ss=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=Object.freeze(this.constructor.argsToParams(t));this.params=a,this.isAwaitingPromise=!1,s(as,this,this._main(ss.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tr(Object.assign({},t,e)),i.currentInstance){const e=Ut.swalPromiseResolve.get(i.currentInstance),{isAwaitingPromise:t}=i.currentInstance;i.currentInstance._destroy(),t||e({isDismissed:!0}),W()&&Ft()}i.currentInstance=ss;const n=ls(e,t);rs(n),Object.freeze(n),i.timeout&&(i.timeout.stop(),delete i.timeout),clearTimeout(i.restoreFocusTimeout);const r=cs(ss);return St(ss,n),Be.innerParams.set(ss,n),os(ss,r,n)}then(e){return n(as,this).then(e)}finally(e){return n(as,this).finally(e)}}const os=(e,t,n)=>new Promise((r,s)=>{const a=t=>{e.close({isDismissed:!0,dismiss:t,isConfirmed:!1,isDenied:!1})};Ut.swalPromiseResolve.set(e,r),Ut.swalPromiseReject.set(e,s),t.confirmButton.onclick=()=>{Sn(e)},t.denyButton.onclick=()=>{Cn(e)},t.cancelButton.onclick=()=>{kn(e,a)},t.closeButton.onclick=()=>{a(It.close)},cr(n,t,a),Tt(i,n,a),mn(e,n),Kr(n),ds(i,n,a),us(t,n),setTimeout(()=>{t.container.scrollTop=0})}),ls=(e,t)=>{const n=Dr(e),r=Object.assign({},Wn,t,n,e);return r.showClass=Object.assign({},Wn.showClass,r.showClass),r.hideClass=Object.assign({},Wn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},cs=e=>{const t={popup:C(),container:_(),actions:B(),confirmButton:R(),denyButton:M(),cancelButton:L(),loader:D(),closeButton:q(),validationMessage:O(),progressSteps:T()};return Be.domCache.set(e,t),t},ds=(e,t,n)=>{const r=U();ie(r),t.timer&&(e.timeout=new Mr(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&r&&(ae(r),Y(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&fe(t.timer)})))},us=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(hs(e)||ps(e,t)||Ot(-1,1)):(y("allowEnterKey"),void ms())},hs=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&de(n))return n.focus(),!0;return!1},ps=(e,t)=>t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0),ms=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};is.prototype.disableButtons=Vn,is.prototype.enableButtons=Bn,is.prototype.getInput=Mn,is.prototype.disableInput=qn,is.prototype.enableInput=Un,is.prototype.hideLoading=Rn,is.prototype.disableLoading=Rn,is.prototype.showValidationMessage=Fn,is.prototype.resetValidationMessage=Hn,is.prototype.close=rn,is.prototype.closePopup=rn,is.prototype.closeModal=rn,is.prototype.closeToast=rn,is.prototype.rejectPromise=an,is.prototype.update=nr,is.prototype._destroy=sr,Object.assign(is,Lr),Object.keys(lr).forEach(e=>{is[e]=function(){if(ss&&ss[e])return ss[e](...arguments)}}),is.DismissReason=It,is.version="11.26.17";const fs=is;return fs.default=fs,fs}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},732(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case a:case d:case u:case m:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case o:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===i||e===a||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},761(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<s&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,x(e),!f)if(null!==r(c))f=!0,O(j);else{var t=r(d);null!==t&&R(w,t.startTime-e)}}function j(e,n){f=!1,g&&(g=!1,y(C),C=-1),m=!0;var a=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&R(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,N=!1,S=null,C=-1,k=5,E=-1;function P(){return!(t.unstable_now()-E<k)}function I(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?_():(N=!1,S=null)}}else N=!1}if("function"===typeof b)_=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=I,_=function(){T.postMessage(null)}}else _=function(){v(I,0)};function O(e){S=e,N||(N=!0,_())}function R(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(y(C),C=-1):g=!0,R(w,a-i))):(e.sortIndex=o,n(c,e),f||m||(f=!0,O(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},912(e,t,n){"use strict";var r;t.A=void 0;var s=(0,((r=n(605))&&r.__esModule?r:{default:r}).default)("local");t.A=s},950(e,t,n){"use strict";e.exports=n(49)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(950),t=n.t(e,2),r=n(352),s=n(256);function a(e){e()}var i={notify(){},get:()=>[]};function o(e,t){let n,r=i,s=0,o=!1;function l(){u.onStateChange&&u.onStateChange()}function c(){s++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){a(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){r&&null!==e&&(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}())}function d(){s--,n&&0===s&&(n(),n=void 0,r.clear(),r=i)}const u={addNestedSub:function(e){c();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),d())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:l,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,c())},tryUnsubscribe:function(){o&&(o=!1,d())},getListeners:()=>r};return u}var l=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),c=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),d=(()=>l||c?e.useLayoutEffect:e.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var u=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function p(){var t;if(!e.createContext)return{};const n=null!==(t=h[u])&&void 0!==t?t:h[u]=new Map;let r=n.get(e.createContext);return r||(r=e.createContext(null),n.set(e.createContext,r)),r}var m=p();var f=function(t){const{children:n,context:r,serverState:s,store:a}=t,i=e.useMemo(()=>{const e=o(a);return{store:a,subscription:e,getServerState:s?()=>s:void 0}},[a,s]),l=e.useMemo(()=>a.getState(),[a]);d(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,l]);const c=r||m;return e.createElement(c.Provider,{value:i},n)};function g(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return function(){return e.useContext(t)}}var v=g();function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const t=e===m?v:g(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var b=y();function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const t=e===m?b:y(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var w=x(),j=(e,t)=>e===t;function _(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const n=t===m?v:g(t),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=j}="function"===typeof r?{equalityFn:r}:r;const i=n(),{store:o,subscription:l,getServerState:c}=i,d=(e.useRef(!0),e.useCallback({[t.name]:e=>t(e)}[t.name],[t])),u=(0,s.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,c||o.getState,d,a);return e.useDebugValue(u),u};return Object.assign(r,{withTypes:()=>r}),r}var N=_();function S(e){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=function(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?E(e):t}(this,(e=k(t)).call.apply(e,[this].concat(s))),I(E(n),"state",{bootstrapped:!1}),I(E(n),"_unsubscribe",void 0),I(E(n),"handlePersistorState",function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}var n,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&C(n.prototype,r),s&&C(n,s),t}(e.PureComponent);function T(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function R(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function L(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}I(A,"defaultProps",{children:null,loading:null});var D=Symbol.for("immer-nothing"),B=Symbol.for("immer-draftable"),V=Symbol.for("immer-state");function U(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var q=Object,F=q.getPrototypeOf,H="constructor",W="prototype",G="configurable",Z="enumerable",J="writable",K="value",$=e=>!!e&&!!e[V];function Y(e){var t;return!!e&&(ee(e)||ie(e)||!!e[B]||!(null===(t=e[H])||void 0===t||!t[B])||oe(e)||le(e))}var X=q[W][H].toString(),Q=new WeakMap;function ee(e){if(!e||!ce(e))return!1;const t=F(e);if(null===t||t===q[W])return!0;const n=q.hasOwnProperty.call(t,H)&&t[H];if(n===Object)return!0;if(!de(n))return!1;let r=Q.get(n);return void 0===r&&(r=Function.toString.call(n),Q.set(n,r)),r===X}function te(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===ne(e)){(n?Reflect.ownKeys(e):q.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function ne(e){const t=e[V];return t?t.type_:ie(e)?1:oe(e)?2:le(e)?3:0}var re=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne(e))?e.has(t):q[W].hasOwnProperty.call(e,t)},se=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne(e))?e.get(t):e[t]},ae=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var ie=Array.isArray,oe=e=>e instanceof Map,le=e=>e instanceof Set,ce=e=>"object"===typeof e,de=e=>"function"===typeof e,ue=e=>"boolean"===typeof e;var he=e=>e.copy_||e.base_,pe=e=>e.modified_?e.copy_:e.base_;function me(e,t){if(oe(e))return new Map(e);if(le(e))return new Set(e);if(ie(e))return Array[W].slice.call(e);const n=ee(e);if(!0===t||"class_only"===t&&!n){const t=q.getOwnPropertyDescriptors(e);delete t[V];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const s=n[r],a=t[s];!1===a[J]&&(a[J]=!0,a[G]=!0),(a.get||a.set)&&(t[s]={[G]:!0,[J]:!0,[Z]:a[Z],[K]:e[s]})}return q.create(F(e),t)}{const t=F(e);if(null!==t&&n)return z({},e);const r=q.create(t);return q.assign(r,e)}}function fe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ve(e)||$(e)||!Y(e)||(ne(e)>1&&q.defineProperties(e,{set:ge,add:ge,clear:ge,delete:ge}),q.freeze(e),t&&te(e,(e,t)=>{fe(t,!0)},!1)),e}var ge={[K]:function(){U(2)}};function ve(e){return null===e||!ce(e)||q.isFrozen(e)}var ye="MapSet",be="Patches",xe="ArrayMethods",we={};function je(e){const t=we[e];return t||U(0),t}var _e,Ne=e=>!!we[e];var Se=()=>_e;function Ce(e,t){t&&(e.patchPlugin_=je(be),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ke(e){Ee(e),e.drafts_.forEach(Ie),e.drafts_=null}function Ee(e){e===_e&&(_e=e.parent_)}var Pe=e=>_e={drafts_:[],parent_:_e,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ne(ye)?je(ye):void 0,arrayMethodsPlugin_:Ne(xe)?je(xe):void 0};function Ie(e){const t=e[V];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ae(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[V].modified_&&(ke(t),U(4)),Y(e)&&(e=Te(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[V].base_,e,t)}else e=Te(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fe(t,n)}(t,e,!0),ke(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D?e:void 0}function Te(e,t){if(ve(t))return t;const n=t[V];if(!n){return Be(t,e.handledSet_,e)}if(!Re(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}ze(n,e)}return n.copy_}function Oe(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Re=(e,t)=>e.scope_===t,Le=[];function Me(e,t,n,r){var s;const a=he(e),i=e.type_;if(void 0!==r){if(se(a,r,i)===t)return void ae(a,r,n,i)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;te(a,(e,n)=>{if($(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const o=null!==(s=e.draftLocations_.get(t))&&void 0!==s?s:Le;for(const l of o)ae(a,l,n,i)}function ze(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Oe(e)}}function De(e,t,n){const{scope_:r}=e;if($(n)){const s=n[V];Re(s,r)&&s.callbacks_.push(function(){We(e);const r=pe(s);Me(e,n,r,t)})}else Y(n)&&e.callbacks_.push(function(){const s=he(e);var a;3===e.type_?s.has(n)&&Be(n,r.handledSet_,r):se(s,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(a=e.assigned_.get(t))&&void 0!==a&&a)&&e.copy_&&Be(se(e.copy_,t,e.type_),r.handledSet_,r)})}function Be(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$(e)||t.has(e)||!Y(e)||ve(e)||(t.add(e),te(e,(r,s)=>{if($(s)){const t=s[V];if(Re(t,n)){const n=pe(t);ae(e,r,n,e.type_),Oe(t)}}else Y(s)&&Be(s,t,n)})),e}var Ve={get(e,t){if(t===V)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"===typeof t;if(r&&null!==n&&void 0!==n&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const s=he(e);if(!re(s,t,e.type_))return function(e,t,n){var r;const s=Fe(t,n);return s?K in s?s[K]:null===(r=s.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,s,t);const a=s[t];if(e.finalized_||!Y(a))return a;if(r&&e.operationMethod&&null!==n&&void 0!==n&&n.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return a;if(a===qe(e.base_,t)){We(e);const n=1===e.type_?+t:t,r=Ge(e.scope_,a,e,n);return e.copy_[n]=r}return a},has:(e,t)=>t in he(e),ownKeys:e=>Reflect.ownKeys(he(e)),set(e,t,n){const r=Fe(he(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=qe(he(e),t),i=null===r||void 0===r?void 0:r[V];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((s=n)===(a=r)?0!==s||1/s===1/a:s!==s&&a!==a)&&(void 0!==n||re(e.base_,t,e.type_)))return!0;We(e),He(e)}var s,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),De(e,t,n)),!0},deleteProperty:(e,t)=>(We(e),void 0!==qe(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),He(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=he(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[J]:!0,[G]:1!==e.type_||"length"!==t,[Z]:r[Z],[K]:n[t]}:r},defineProperty(){U(11)},getPrototypeOf:e=>F(e.base_),setPrototypeOf(){U(12)}},Ue={};for(let n in Ve){let e=Ve[n];Ue[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function qe(e,t){const n=e[V];return(n?he(n):e)[t]}function Fe(e,t){if(!(t in e))return;let n=F(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=F(n)}}function He(e){e.modified_||(e.modified_=!0,e.parent_&&He(e.parent_))}function We(e){e.copy_||(e.assigned_=new Map,e.copy_=me(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ue.deleteProperty=function(e,t){return Ue.set.call(this,e,t,void 0)},Ue.set=function(e,t,n){return Ve.set.call(this,e[0],t,n,e[0])};function Ge(e,t,n,r){var s,a;const[i,o]=oe(t)?je(ye).proxyMap_(t,n):le(t)?je(ye).proxySet_(t,n):function(e,t){const n=ie(e),r={type_:n?1:0,scope_:t?t.scope_:Se(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,a=Ve;n&&(s=[r],a=Ue);const{revoke:i,proxy:o}=Proxy.revocable(s,a);return r.draft_=o,r.revoke_=i,[o,r]}(t,n);return(null!==(s=null===n||void 0===n?void 0:n.scope_)&&void 0!==s?s:Se()).drafts_.push(i),o.callbacks_=null!==(a=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==a?a:[],o.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var s,a;const i=t;if(!i||!Re(i,r))return;null===(s=r.mapSetPlugin_)||void 0===s||s.fixSetContents(i);const o=pe(i);Me(e,null!==(a=i.draft_)&&void 0!==a?a:i,o,n),ze(i,r)})}(n,o,r):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:n}=e;o.modified_&&n&&n.generatePatches_(o,[],e)}),i}function Ze(e){if(!Y(e)||ve(e))return e;const t=e[V];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=me(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=me(e,!0);return te(n,(e,t)=>{ae(n,e,Ze(t))},r),t&&(t.finalized_=!1),n}var Je=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(de(e)&&!de(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...a))}}let r;if(de(t)||U(6),void 0===n||de(n)||U(7),Y(e)){const s=Pe(this),a=Ge(s,e,void 0);let i=!0;try{r=t(a),i=!1}finally{i?ke(s):Ee(s)}return Ce(s,n),Ae(r,s)}if(!e||!ce(e)){if(r=t(e),void 0===r&&(r=e),r===D&&(r=void 0),this.autoFreeze_&&fe(r,!0),n){const t=[],s=[];je(be).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:s}),n(t,s)}return r}U(1)},this.produceWithPatches=(e,n)=>{if(de(e))return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...s))};let r,s;return[this.produce(e,n,(e,t)=>{r=e,s=t}),r,s]},ue(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ue(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ue(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Y(e)||U(8),$(e)&&(e=function(e){$(e)||U(10);return Ze(e)}(e));const t=Pe(this),n=Ge(t,e,void 0);return n[V].isManual_=!0,Ee(t),n}finishDraft(e,t){const n=e&&e[V];n&&n.isManual_||U(9);const{scope_:r}=n;return Ce(r,t),Ae(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=je(be).applyPatches_;return $(e)?r(e,t):this.produce(e,e=>r(e,t))}},Ke=Je.produce;function $e(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Ye=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Xe=()=>Math.random().toString(36).substring(7).split("").join("."),Qe={INIT:"@@redux/INIT".concat(Xe()),REPLACE:"@@redux/REPLACE".concat(Xe()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Xe())};function et(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tt(e,t,n){if("function"!==typeof e)throw new Error($e(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error($e(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error($e(1));return n(tt)(e,t)}let r=e,s=t,a=new Map,i=a,o=0,l=!1;function c(){i===a&&(i=new Map,a.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error($e(3));return s}function u(e){if("function"!==typeof e)throw new Error($e(4));if(l)throw new Error($e(5));let t=!0;c();const n=o++;return i.set(n,e),function(){if(t){if(l)throw new Error($e(6));t=!1,c(),i.delete(n),a=null}}}function h(e){if(!et(e))throw new Error($e(7));if("undefined"===typeof e.type)throw new Error($e(8));if("string"!==typeof e.type)throw new Error($e(17));if(l)throw new Error($e(9));try{l=!0,s=r(s,e)}finally{l=!1}return(a=i).forEach(e=>{e()}),e}h({type:Qe.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error($e(10));r=e,h({type:Qe.REPLACE})},[Ye]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error($e(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Ye](){return this}}}}}function nt(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let s;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Qe.INIT}))throw new Error($e(12));if("undefined"===typeof n(void 0,{type:Qe.PROBE_UNKNOWN_ACTION()}))throw new Error($e(13))})}(n)}catch(a){s=a}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s)throw s;let a=!1;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=n[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error($e(14))}i[o]=d,a=a||d!==c}return a=a||r.length!==Object.keys(e).length,a?i:e}}function rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function st(e){return t=>{let{dispatch:n,getState:r}=t;return t=>s=>"function"===typeof s?s(n,r,e):t(s)}}var at=st(),it=st;const ot=["reducerPath"];var lt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?rt:rt.apply(null,arguments)},ct=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function dt(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Ut(0));return z(z({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return et(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var ut=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function ht(e){return Y(e)?Ke(e,()=>{}):e}function pt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var mt="RTK_autoBatch",ft=e=>t=>{setTimeout(t,e)},gt=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new ut(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,s=!1,a=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ft(10):"callback"===e.type?e.queueNotification:ft(e.timeout),l=()=>{a=!1,s&&(s=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[mt]),s=!r,s&&(a||(a=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function vt(e){const t={},n=[];let r;const s={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ut(28));if(r in t)throw new Error(Ut(29));return t[r]=n,s},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),s),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),s),addDefaultCase:e=>(r=e,s)};return e(s),[t,n,r]}var yt=(e,t)=>ct(e)?e.match(t):e(t);function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>yt(t,e))}var xt=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},wt=["name","message","stack","code"],jt=class{constructor(e,t){L(this,"_type",void 0),this.payload=e,this.meta=t}},_t=class{constructor(e,t){L(this,"_type",void 0),this.payload=e,this.meta=t}},Nt=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of wt)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},St="External signal was aborted",Ct=(()=>{function e(e,t,n){const r=dt(e+"/fulfilled",(e,t,n,r)=>({payload:e,meta:z(z({},r||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})})),s=dt(e+"/pending",(e,t,n)=>({payload:void 0,meta:z(z({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})})),a=dt(e+"/rejected",(e,t,r,s,a)=>({payload:s,error:(n&&n.serializeError||Nt)(e||"Rejected"),meta:z(z({},a||{}),{},{arg:r,requestId:t,rejectedWithValue:!!s,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}));return Object.assign(function(e){let{signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,l,c)=>{const d=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):xt(),u=new AbortController;let h,p;function m(e){p=e,u.abort()}i&&(i.aborted?m(St):i.addEventListener("abort",()=>m(St),{once:!0}));const f=async function(){let i;try{var f,g;let a=null===n||void 0===n||null===(f=n.condition)||void 0===f?void 0:f.call(n,e,{getState:l,extra:c});if(null!==(v=a)&&"object"===typeof v&&"function"===typeof v.then&&(a=await a),!1===a||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:p||"Aborted"})},u.signal.addEventListener("abort",h,{once:!0})});o(s(d,e,null===n||void 0===n||null===(g=n.getPendingMeta)||void 0===g?void 0:g.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),i=await Promise.race([y,Promise.resolve(t(e,{dispatch:o,getState:l,extra:c,requestId:d,signal:u.signal,abort:m,rejectWithValue:(e,t)=>new jt(e,t),fulfillWithValue:(e,t)=>new _t(e,t)})).then(t=>{if(t instanceof jt)throw t;return t instanceof _t?r(t.payload,d,e,t.meta):r(t,d,e)})])}catch(y){i=y instanceof jt?a(null,d,e,y.payload,y.meta):a(y,d,e)}finally{h&&u.signal.removeEventListener("abort",h)}var v;return n&&!n.dispatchConditionRejection&&a.match(i)&&i.meta.condition||o(i),i}();return Object.assign(f,{abort:m,requestId:d,arg:e,unwrap:()=>f.then(kt)})}},{pending:s,rejected:a,fulfilled:r,settled:bt(a,r),typePrefix:e})}return e.withTypes=()=>e,e})();function kt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Et=Symbol.for("rtk-slice-createasyncthunk");function Pt(e,t){return"".concat(e,"/").concat(t)}function It(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Et];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Ut(11));const s=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return z({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(s),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ut(12));if(n in i.sliceCaseReducersByType)throw new Error(Ut(13));return i.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?vt(e.extraReducers):[e.extraReducers],s=z(z({},t),i.sliceCaseReducersByType);return function(e,t){let n,[r,s,a]=vt(t);if("function"===typeof e)n=()=>ht(e());else{const t=ht(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...s.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[a]),i.reduce((e,n)=>{if(n){if($(e)){const r=n(e,t);return void 0===r?e:r}if(Y(e))return Ke(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in s)e.addCase(t,s[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=s[r],i={reducerName:r,type:Pt(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,s,{type:a,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ut(17));r=t.reducer,s=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(i,r).exposeAction(i,s?dt(a,s):dt(a))}(i,a,o):function(e,t,n,r){let{type:s,reducerName:a}=e;if(!r)throw new Error(Ut(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=r(s,i,u);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);d&&n.addMatcher(h.settled,d);n.exposeCaseReducer(a,{fulfilled:o||Ot,pending:l||Ot,rejected:c||Ot,settled:d||Ot})}(i,a,o,n)});const c=e=>e,d=new Map,u=new WeakMap;let h;function p(e,t){return h||(h=l()),h(e,t)}function m(){return h||(h=l()),h.getInitialState()}function f(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let s=e[t];return"undefined"===typeof s&&n&&(s=pt(u,r,m)),s}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=pt(d,n,()=>new WeakMap);return pt(r,t,()=>{const r={};for(const[a,i]of Object.entries(null!==(s=e.selectors)&&void 0!==s?s:{})){var s;r[a]=At(i,t,()=>pt(u,t,m),n)}return r})}return{reducerPath:t,getSelectors:s,get selectors(){return s(r)},selectSlice:r}}const g=z(z({name:t,reducer:p,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:m},f(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,s=T(t,ot);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:p},s),z(z({},g),f(a,!0))}});return g}}function At(e,t,n,r){function s(s){let a=t(s);"undefined"===typeof a&&r&&(a=n());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(a,...o)}return s.unwrapped=e,s}var Tt=It();function Ot(){}var Rt="listener",Lt="completed",Mt="cancelled";"task-".concat(Mt),"task-".concat(Lt),"".concat(Rt,"-").concat(Mt),"".concat(Rt,"-").concat(Lt);var{assign:zt}=Object,Dt="listenerMiddleware",Bt=zt(dt("".concat(Dt,"/add")),{withTypes:()=>Bt}),Vt=("".concat(Dt,"/removeAll"),zt(dt("".concat(Dt,"/remove")),{withTypes:()=>Vt}));Symbol.for("rtk-state-proxy-original");function Ut(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var qt="persist:",Ft="persist/FLUSH",Ht="persist/REHYDRATE",Wt="persist/PAUSE",Gt="persist/PERSIST",Zt="persist/PURGE",Jt="persist/REGISTER";function Kt(e){return Kt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t,n,r){r.debug;var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach(function(t){Yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n);return e&&"object"===Kt(e)&&Object.keys(e).forEach(function(r){"_persist"!==r&&t[r]===n[r]&&(s[r]=e[r])}),s}function Qt(e){var t,n=e.blacklist||null,r=e.whitelist||null,s=e.transforms||[],a=e.throttle||0,i="".concat(void 0!==e.keyPrefix?e.keyPrefix:qt).concat(e.key),o=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:en;var l=e.writeFailHandler||null,c={},d={},u=[],h=null,p=null;function m(){if(0===u.length)return h&&clearInterval(h),void(h=null);var e=u.shift(),n=s.reduce(function(t,n){return n.in(t,e,c)},c[e]);if(void 0!==n)try{d[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete d[e];0===u.length&&(Object.keys(d).forEach(function(e){void 0===c[e]&&delete d[e]}),p=o.setItem(i,t(d)).catch(g))}function f(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function g(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach(function(t){f(t)&&c[t]!==e[t]&&-1===u.indexOf(t)&&u.push(t)}),Object.keys(c).forEach(function(t){void 0===e[t]&&f(t)&&-1===u.indexOf(t)&&void 0!==c[t]&&u.push(t)}),null===h&&(h=setInterval(m,a)),c=e},flush:function(){for(;0!==u.length;)m();return p||Promise.resolve()}}}function en(e){return JSON.stringify(e)}function tn(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:qt).concat(e.key),s=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:nn,s.getItem(r).then(function(e){if(e)try{var r={},s=t(e);return Object.keys(s).forEach(function(e){r[e]=n.reduceRight(function(t,n){return n.out(t,e,s)},t(s[e]))}),r}catch(a){throw a}})}function nn(e){return JSON.parse(e)}function rn(e){0}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(n,!0).forEach(function(t){on(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(n,!0).forEach(function(t){hn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn={registry:[],bootstrapped:!1},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jt:return un({},e,{registry:[].concat(cn(e.registry),[t.key])});case Ht:var n=e.registry.indexOf(t.key),r=cn(e.registry);return r.splice(n,1),un({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var fn=n(912);n(34);function gn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function vn(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class yn extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class bn extends yn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xn extends yn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wn extends yn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jn;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(jn||(jn={}));class _n{constructor(e){let{headers:t={},customFetch:n,region:r=jn.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return vn(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let s,a;try{const{headers:i,method:o,body:l,signal:c,timeout:d}=n;let u={},{region:h}=n;h||(h=t.region);const p=new URL("".concat(t.url,"/").concat(e));let m;h&&"any"!==h&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h)),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):"string"===typeof l?(u["Content-Type"]="text/plain",m=l):"undefined"!==typeof FormData&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let f=c;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),c?(f=a.signal,c.addEventListener("abort",()=>a.abort())):f=a.signal);const g=yield t.fetch(p.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),t.headers),i),body:m,signal:f}).catch(e=>{throw new bn(e)}),v=g.headers.get("x-relay-error");if(v&&"true"===v)throw new xn(g);if(!g.ok)throw new wn(g);let y,b=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return y="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:y,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof wn||i instanceof xn?i.context:void 0}}finally{s&&clearTimeout(s)}}()})}}var Nn=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Sn=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,s=null,a=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(o=n.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(s=parseInt(u[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,s=null,a=406,i="Not Acceptable"):r=1===r.length?r[0]:null)}else{var d;const s=await e.text();try{t=JSON.parse(s),Array.isArray(t)&&404===e.status&&(r=[],t=null,a=200,i="OK")}catch(u){404===e.status&&""===s?(a=204,i="No Content"):t={message:s}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,a=200,i="OK"),t&&n.shouldThrowOnError)throw new Nn(t)}return{error:t,data:r,count:s,status:a,statusText:i}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="";const r=null===e||void 0===e?void 0:e.cause;if(r){var s,a,i,o;const t=null!==(s=null===r||void 0===r?void 0:r.message)&&void 0!==s?s:"",l=null!==(a=null===r||void 0===r?void 0:r.code)&&void 0!==a?a:"";n="".concat(null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(o=null===r||void 0===r?void 0:r.name)&&void 0!==o?o:"Error",": ").concat(t),l&&(n+=" (".concat(l,")")),(null===r||void 0===r?void 0:r.stack)&&(n+="\n".concat(r.stack))}else{var l;n=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Cn=class extends Sn{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?"".concat(s,".order"):"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const kn=new RegExp("[,()]");var En=class extends Cn{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&kn.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&kn.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},Pn=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},s=n?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),r&&l.append("Prefer","count=".concat(r)),new En({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer","count=".concat(t)),n||a.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));s.searchParams.set("columns",e.join(","))}}return new En({method:"POST",url:s,headers:a,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&i.searchParams.set("on_conflict",t),r&&o.append("Prefer","count=".concat(r)),s||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new En({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:s}=this.cloneRequestState();return t&&s.append("Prefer","count=".concat(t)),new En({method:"PATCH",url:r,headers:s,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new En({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},In=class e{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pn(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let i;const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),d=n&&Object.values(t).some(c);d?(i="POST",l=t):n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(i="POST",l=t);const u=new Headers(this.headers);return d?u.set("Prefer",s?"count=".concat(s,",return=minimal"):"return=minimal"):s&&u.set("Prefer","count=".concat(s)),new En({method:i,url:o,headers:u,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}};const An=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Tn="realtime-js/".concat("2.91.1"),On="2.0.0",Rn=On,Ln=1e4;var Mn,zn,Dn,Bn,Vn,Un;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Mn||(Mn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(zn||(zn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Dn||(Dn={})),function(e){e.websocket="websocket"}(Bn||(Bn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Vn||(Vn={}));class qn{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},s=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,t,n){var r,s;const a=e.topic,i=null!==(r=e.ref)&&void 0!==r?r:"",o=null!==(s=e.join_ref)&&void 0!==s?s:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(a.length>255)throw new Error("topic length ".concat(a.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(d.length>255)throw new Error("metadata length ".concat(d.length," exceeds maximum of 255"));const u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+a.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let p=new DataView(h),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,o.length),p.setUint8(m++,i.length),p.setUint8(m++,a.length),p.setUint8(m++,l.length),p.setUint8(m++,d.length),p.setUint8(m++,t),Array.from(o,e=>p.setUint8(m++,e.charCodeAt(0))),Array.from(i,e=>p.setUint8(m++,e.charCodeAt(0))),Array.from(a,e=>p.setUint8(m++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(m++,e.charCodeAt(0))),Array.from(d,e=>p.setUint8(m++,e.charCodeAt(0)));var f=new Uint8Array(h.byteLength+n.byteLength);return f.set(new Uint8Array(h),0),f.set(new Uint8Array(n),h.byteLength),f.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,s,a,i,o]=n;return t({join_ref:r,ref:s,topic:a,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2),a=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+s));o+=s;const d=n.decode(e.slice(o,o+a));o+=a;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(n.decode(u)):u,p={type:this.BROADCAST_EVENT,event:c,payload:h};return a>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class Fn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Un||(Un={}));const Hn=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,s)=>(n[s]=Wn(s,e,t,r),n),{}):{}},Wn=(e,t,n,r)=>{const s=t.find(t=>t.name===e),a=null===s||void 0===s?void 0:s.type,i=n[e];return a&&!r.includes(a)?Gn(a,i):Zn(i)},Gn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Yn(t,n)}switch(e){case Un.bool:return Jn(t);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return Kn(t);case Un.json:case Un.jsonb:return $n(t);case Un.timestamp:return Xn(t);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:default:return Zn(t)}},Zn=e=>e,Jn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$n=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Yn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(s){r=a?a.split(","):[]}return r.map(e=>Gn(t,e))}return e},Xn=e=>"string"===typeof e?e.replace(" ","T"):e,Qn=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class er{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ln;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tr,nr,rr,sr;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(tr||(tr={}));class ar{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ar.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ar.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ar.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(s,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),a=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let s=e[t];if(!s)return;const a=n.map(e=>e.presence_ref);s=s.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(nr||(nr={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(rr||(rr={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(sr||(sr={}));class ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,s;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=zn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new er(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Fn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=zn.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ar(this),this.broadcastEndpointURL=Qn(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(s=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===s?void 0:s.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zn.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[rr.PRESENCE]&&this.bindings[rr.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),d={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(sr.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(sr.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=s,d=n&&n[r];if(!(d&&d.event===i&&ir.isFilterValueEqual(d.schema,o)&&ir.isFilterValueEqual(d.table,l)&&ir.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=zn.errored,void(null===e||void 0===e||e(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(sr.SUBSCRIBED))}null===e||void 0===e||e(sr.SUBSCRIBED)}).receive("error",t=>{this.state=zn.errored,null===e||void 0===e||e(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===zn.joined&&e===rr.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization="Bearer ".concat(this.socket.accessTokenValue));const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=zn.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new er(this,Dn.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zn.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new er(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Dn;if(n&&[i,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(d,n)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var n,r,s,i,o,l,c,d;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,l=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===l||(null===l||void 0===l?void 0:l.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))&&(!(null===(i=e.filter)||void 0===i?void 0:i.table)||e.filter.table===(null===(o=t.data)||void 0===o?void 0:o.table))}{const n=null===(c=null===(l=null===e||void 0===e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===c?void 0:c.toLocaleLowerCase();return"*"===n||n===(null===(d=null===t||void 0===t?void 0:t.event)||void 0===d?void 0:d.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:a}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:a};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===zn.closed}_isJoined(){return this.state===zn.joined}_isJoining(){return this.state===zn.joining}_isLeaving(){return this.state===zn.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&ir.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dn.close,{},e)}_onError(e){this._on(Dn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Hn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Hn(e.columns,e.old_record)),t}}const or=()=>{},lr=25e3,cr=10,dr=100,ur=[1e3,2e3,5e3,1e4];class hr{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ln,this.transport=null,this.heartbeatIntervalMs=lr,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=or,this.ref=0,this.reconnectTimer=null,this.vsn=Rn,this.logger=or,this.conn=null,this.sendBuffer=[],this.serializer=new qn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Bn.websocket),this.httpEndpoint=Qn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=An.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mn.connecting:return Vn.Connecting;case Mn.open:return Vn.Open;case Mn.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new ir("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},dr)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(o){this.log("error","error in heartbeat callback",o)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:s}=e,a=s?"(".concat(s,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Mn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mn.open||this.conn.readyState===Mn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dn.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Tn};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Dn.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fn(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cr)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,a,i,o,l,c,d,u,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Ln,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:lr,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:or,this.vsn=null!==(o=null===e||void 0===e?void 0:e.vsn)&&void 0!==o?o:Rn,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>ur[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null===e||void 0===e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case On:this.encode=null!==(u=null===e||void 0===e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var pr=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function mr(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:s,query:a,body:i,headers:o}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))void 0!==a&&r.searchParams.set(s,a);return r.toString()}(e.baseUrl,s,a),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:z(z(z({},i?{"Content-Type":"application/json"}:{}),c),o),body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!d.ok){var m;const e=h?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new pr(null!==(m=null===t||void 0===t?void 0:t.message)&&void 0!==m?m:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:p}}}}function fr(e){return e.join("\x1f")}var gr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fr(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(fr(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(fr(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(fr(e.namespace))}),!0}catch(t){if(t instanceof pr&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof pr&&409===n.status)return;throw n}}};function vr(e){return e.join("\x1f")}var yr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(vr(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof pr&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof pr&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},br=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=mr({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new gr(this.client,n),this.tableOps=new yr(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var xr=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function wr(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var jr=class extends xr{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_r=class extends xr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Nr=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Sr=e=>{if(Array.isArray(e))return e.map(e=>Sr(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=Sr(r)}),t};function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e){var t=function(e,t){if("object"!=Cr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cr(t)?t:t+""}function Er(e,t,n){return(t=kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(t){Er(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ar=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Tr=async(e,t,n)=>{e instanceof await Response&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new jr(Ar(n),r,s))}).catch(e=>{t(new _r(Ar(e),e))}):t(new _r(Ar(e),e))},Or=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Ir({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Ir(Ir({},s),n)):s};async function Rr(e,t,n,r,s,a){return new Promise((i,o)=>{e(n,Or(t,r,s,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Tr(e,o,r))})}async function Lr(e,t,n,r){return Rr(e,"GET",t,n,r)}async function Mr(e,t,n,r,s){return Rr(e,"POST",t,r,s,n)}async function zr(e,t,n,r,s){return Rr(e,"PUT",t,r,s,n)}async function Dr(e,t,n,r,s){return Rr(e,"DELETE",t,r,s,n)}var Br=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};let Vr;Vr=Symbol.toStringTag;var Ur=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Vr]="BlobDownloadBuilder",this.promise=null}asStream(){return new Br(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wr(e))return{data:null,error:e};throw e}}};const qr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Nr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let a;const i=Ir(Ir({},Fr),r);let o=Ir(Ir({},s.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",s.encodeMetadata(l)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),l&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(l))):(a=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&a instanceof ReadableStream||a&&"object"===typeof a&&"pipe"in a&&"function"===typeof a.pipe)&&!i.duplex&&(i.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(o=Ir(Ir({},o),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),u=await("PUT"==e?zr:Mr)(s.fetch,"".concat(s.url,"/object/").concat(d),a,Ir({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:c,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(wr(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const a=s._removeEmptyFolders(e),i=s._getFinalPath(a),o=new URL(s.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Ir({upsert:Fr.upsert},r),i=Ir(Ir({},s.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType),{data:{path:a,fullPath:(await zr(s.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(wr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Ir({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(s["x-upsert"]="true");const a=await Mr(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:s}),i=new URL(n.url+a.url),o=i.searchParams.get("token");if(!o)throw new xr("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Mr(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(wr(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Mr(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(wr(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),a=await Mr(r.fetch,"".concat(r.url,"/object/sign/").concat(s),Ir({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(r.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(wr(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Mr(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:s.map(e=>Ir(Ir({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(wr(s))return{data:null,error:s};throw s}}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"",a=this._getFinalPath(e);return new Ur(()=>Lr(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(a).concat(s),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Sr(await Lr(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await async function(e,t,n,r){return Rr(e,"HEAD",t,Ir(Ir({},n),{},{noResolveJson:!0}),r)}(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(wr(r)&&r instanceof _r){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(o))}}}async remove(e){var t=this;try{return{data:await Dr(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Ir(Ir(Ir({},qr),t),{},{prefix:e||""});return{data:await Mr(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(wr(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Ir({},e);return{data:await Mr(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const Wr="2.91.1",Gr={"X-Client-Info":"storage-js/".concat(Wr)};var Zr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const s=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ir(Ir({},Gr),t),this.fetch=Nr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Lr(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Lr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;try{return{data:await Mr(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await zr(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wr(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Mr(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Dr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Jr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ir(Ir({},Gr),t),this.fetch=Nr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Mr(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),s=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return{data:await Lr(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Dr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(wr(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new xr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new br({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return{data:await n.apply(e,s),error:null}}catch(i){if(r)throw i;return{data:null,error:i}}}}})}};const Kr={"X-Client-Info":"storage-js/".concat(Wr),"Content-Type":"application/json"};var $r=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yr(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}var Xr=class extends $r{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qr=class extends $r{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const es=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ns=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Ir({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Ir(Ir({},s),n)):s};async function rs(e,t,n,r,s,a){return new Promise((i,o)=>{e(n,ns(t,r,s,a)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>(async(e,t,n)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"===typeof r.json)r.json().then(e=>{const r=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||n+"";t(new Xr(ts(e),n,r))}).catch(()=>{const e=n+"";t(new Xr(r.statusText||"HTTP ".concat(n," error"),n,e))});else{const e=n+"";t(new Xr(r.statusText||"HTTP ".concat(n," error"),n,e))}}else t(new Qr(ts(e),e))})(e,o,r))})}async function ss(e,t,n,r,s){return rs(e,"POST",t,r,s,n)}var as=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ir(Ir({},Kr),t),this.fetch=es(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ss(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ss(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}}},is=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ir(Ir({},Kr),t),this.fetch=es(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ss(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:await ss(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ss(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}},os=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ir(Ir({},Kr),t),this.fetch=es(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ss(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}}},ls=class extends os{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new cs(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},cs=class extends as{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Ir(Ir({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Ir(Ir({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new ds(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ds=class extends is{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Ir(Ir({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Ir(Ir({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Ir(Ir({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Ir(Ir({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Ir(Ir({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},us=class extends Zr{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Hr(this.url,this.headers,e,this.fetch)}get vectors(){return new ls(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jr(this.url+"/iceberg",this.headers,this.fetch)}};const hs="2.91.1",ps=3e4,ms=9e4,fs={"X-Client-Info":"gotrue-js/".concat(hs)},gs="X-Supabase-Api-Version",vs={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ys=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class bs extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function xs(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ws extends bs{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class js extends bs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class _s extends bs{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Ns extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ss extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cs extends _s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ks extends _s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Es extends _s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ps extends _s{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Is extends _s{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function As(e){return xs(e)&&"AuthRetryableFetchError"===e.name}class Ts extends _s{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Os extends _s{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ls=" \t\n\r=".split(""),Ms=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ls.length;t+=1)e[Ls[t].charCodeAt(0)]=-2;for(let t=0;t<Rs.length;t+=1)e[Rs[t].charCodeAt(0)]=t;return e})();function zs(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Rs[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Rs[e]),t.queuedBits-=6}}function Ds(e,t,n){const r=Ms[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Bs(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Ds(e.charCodeAt(i),s,a);return t.join("")}function Vs(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Us(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Vs(r,t)}}function qs(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Ds(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Fs(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>zs(e,n,r)),zs(null,n,r),t.join("")}const Hs=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ws={tested:!1,writable:!1},Gs=()=>{if(!Hs())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ws.tested)return Ws.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ws.tested=!0,Ws.writable=!0}catch(t){Ws.tested=!0,Ws.writable=!1}return Ws.writable};const Zs=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Js=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ks=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},$s=async(e,t)=>{await e.removeItem(t)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Xs(e){const t=e.split(".");if(3!==t.length)throw new Os("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ys.test(t[n]))throw new Os("JWT not in base64url format");return{header:JSON.parse(Bs(t[0])),payload:JSON.parse(Bs(t[1])),signature:qs(t[2]),raw:{header:t[0],payload:t[1]}}}function Qs(e){return("0"+e.toString(16)).substr(-2)}async function ea(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Qs).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Js(e,"".concat(t,"-code-verifier"),s);const a=await ea(r);return[a,r===a?"plain":"s256"]}Ys.promiseConstructor=Promise;const na=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ra=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(e){if(!ra.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function aa(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function ia(e){return JSON.parse(JSON.stringify(e))}const oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),la=[502,503,504];async function ca(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Is(oa(e),0);if(la.includes(e.status))throw new Is(oa(e),e.status);let r,s;try{r=await e.json()}catch(i){throw new js(oa(i),i)}const a=function(e){const t=e.headers.get(gs);if(!t)return null;if(!t.match(na))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(a&&a.getTime()>=vs.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Ts(oa(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Ns}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Ts(oa(r),e.status,r.weak_password.reasons);throw new ws(oa(r),e.status||500,s)}async function da(e,t,n,r){var s;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[gs]||(a[gs]=vs.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,a){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Is(oa(l),0)}o.ok||await ca(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await ca(l)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ua(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ha(e){const t=ua(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ma(e){return{data:e,error:null}}function fa(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=gn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},user:Object.assign({},i)},error:null}}function ga(e){return e}const va=["global","local","others"];class ya{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Zs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:va[0];if(va.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(va.join(", ")));try{return await da(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await da(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:pa})}catch(n){if(xs(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=gn(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await da(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:fa,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(xs(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await da(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:pa})}catch(t){if(xs(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await da(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ga});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(xs(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){sa(e);try{return await da(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:pa})}catch(t){if(xs(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){sa(e);try{return await da(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:pa})}catch(n){if(xs(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];sa(e);try{return await da(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:pa})}catch(n){if(xs(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){sa(e.userId);try{const{data:t,error:n}=await da(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(xs(t))return{data:null,error:t};throw t}}async _deleteFactor(e){sa(e.userId),sa(e.id);try{return{data:await da(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await da(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ga});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(xs(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await da(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xs(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await da(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xs(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await da(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(xs(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await da(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await da(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xs(t))return{data:null,error:t};throw t}}}function ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const xa=!!(globalThis&&Gs()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class wa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ja extends wa{}async function _a(e,t,n){xa&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),xa&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw xa&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ja('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(xa)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}xa&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{xa&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function Na(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Sa(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Ca extends Error{constructor(e){let{message:t,code:n,cause:r,name:s}=e;var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(a=null!==s&&void 0!==s?s:r instanceof Error?r.name:void 0)&&void 0!==a?a:"Unknown Error",this.code=n}}class ka extends Ca{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ea(e){let{error:t,options:n}=e;var r,s,a;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ca({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Ca({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new Ca({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new Ca({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new Ca({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new Ca({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Ca({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ca({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!La(e))return new Ca({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new Ca({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ca({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Pa(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ca({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new Ca({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!La(e))return new Ca({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new Ca({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ia=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Aa(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=gn(e,["challenge","user","excludeCredentials"]),a=qs(t).buffer,i=Object.assign(Object.assign({},n),{id:qs(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:qs(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Ta(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=gn(e,["challenge","allowCredentials"]),s=qs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:qs(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function Oa(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ra(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fs(new Uint8Array(s.authenticatorData)),clientDataJSON:Fs(new Uint8Array(s.clientDataJSON)),signature:Fs(new Uint8Array(s.signature)),userHandle:s.userHandle?Fs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function La(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ma(){var e,t;return!!(Hs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const za={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Da={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ba(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];for(const i of s)if(i)for(const r in i){const s=i[r];if(void 0!==s)if(Array.isArray(s))n[r]=s;else if(t(s))n[r]=s;else if(e(s)){const t=n[r];e(t)?n[r]=Ba(t,s):n[r]=Ba(s)}else n[r]=s}return n}class Va{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:s,signal:a}=e;try{const{data:e,error:i}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:i};const o=null!==a&&void 0!==a?a:Ia.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(s)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Ba(za,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:s,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",t)}:{data:null,error:new ka("Empty credential response",t)}}catch(t){return{data:null,error:Ea({error:t,options:e})}}}({publicKey:r,signal:o});return s?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:s}},error:null}:{data:null,error:a}}case"request":{const r=function(e,t){return Ba(Da,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:s,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",t)}:{data:null,error:new ka("Empty credential response",t)}}catch(t){return{data:null,error:Pa({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:o}));return s?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:s}},error:null}:{data:null,error:a}}}}catch(i){return xs(i)?{data:null,error:i}:{data:null,error:new js("Unexpected error in challenge",i)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!r)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!Ma())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:s,credential_response:o.credential_response}})}catch(i){return xs(i)?{data:null,error:i}:{data:null,error:new js("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!r)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!Ma())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:s,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return xs(i)?{data:null,error:i}:{data:null,error:new js("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Ua={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fs,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qa(e,t,n){return await n()}const Fa={};class Ha{get jwks(){var e,t;return null!==(t=null===(e=Fa[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Fa[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Ua),e);if(this.storageKey=s.storageKey,this.instanceID=null!==(t=Ha.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,"function"===typeof s.debug&&(this.logger=s.debug),this.instanceID>0&&Hs()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ya({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zs(s.fetch),this.lock=s.lock||qa,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Hs()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=_a:this.lock=qa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Va(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Gs()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ba(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ba(this.memoryStorage)),Hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(hs,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Hs()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Hs()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return xs(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return{error:s}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xs(t)?this._returnResult({error:t}):this._returnResult({error:new js("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await da(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ua}),{data:a,error:i}=s;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ta(this.storage,this.storageKey)),s=await da(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:ua})}else{if(!("phone"in e))throw new Cs("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;s=await da(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ua})}}const{data:a,error:i}=s;if(i||!a)return await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ha})}else{if(!("phone"in e))throw new Cs("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ha})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Ss;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(xs(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,s,a,i,o,l,c,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:m,options:f}=e;let g;if(Hs())if("object"===typeof u)g=u;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof u||!(null===f||void 0===f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const v=new URL(null!==(t=null===f||void 0===f?void 0:f.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Na(y[0]);let x=null===(n=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!x){const e=await g.request({method:"eth_chainId"});x=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const p=Na(e.address),m=d?"".concat(d,"://").concat(r):r,f=e.statement?"".concat(e.statement,"\n"):"",g="".concat(m," wants you to sign in with your Ethereum account:\n").concat(p,"\n\n").concat(f);let v="URI: ".concat(u,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(a.toISOString());if(s&&(v+="\nExpiration Time: ".concat(s.toISOString())),o&&(v+="\nNot Before: ".concat(o.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:b,statement:m,uri:v.href,version:"1",chainId:x,nonce:null===(r=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(s=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(i=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[Sa(h),b]})}try{const{data:t,error:n}=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:ua});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ss;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(xs(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var t,n,r,s,a,i,o,l,c,d,u,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let v;if(Hs())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:n}=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Fs(m)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ua});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ss;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(f){if(xs(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const t=await Ks(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new Ps;const{data:t,error:s}=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ua});if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;if(!t||!t.session||!t.user){const e=new Ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s})}catch(s){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:a}=e,i=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ua}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Ss;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(xs(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,s,a;try{if("email"in e){const{email:r,options:s}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await ta(this.storage,this.storageKey));const{error:o}=await da(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await da(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new Cs("You must provide either an email or phone number.")}catch(i){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await da(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ua});if(i)throw i;if(!a){throw new Error("An error occurred on token verification.")}const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(xs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,s,a;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ta(this.storage,this.storageKey));const l=await da(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ma});return(null===(s=l.data)||void 0===s?void 0:s.url)&&Hs()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ns;const{error:r}=await da(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(xs(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:a}=await da(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:a,error:i}=await da(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i})}throw new Cs("You must provide either an email or phone number and a type")}catch(t){if(xs(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<ms;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Ks(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=aa()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await da(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:pa}):await this._useSession(async e=>{var t,n,r;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await da(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:pa}):{data:{user:null},error:new Ns}})}catch(t){if(xs(t))return function(e){return xs(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await $s(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new Ns;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ta(this.storage,this.storageKey));const{data:l,error:c}=await da(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:pa});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:a}=Xs(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(xs(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Ns;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(xs(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Hs())throw new ks("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ks(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Es("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ks("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Es("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!s||!i||!a||!l)throw new ks("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const h=u-c;1e3*h<=ps&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const p=u-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,c);const{data:m,error:f}=await this._getUser(s);if(f)throw f;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(xs(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ks(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({error:s});const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return xs(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await $s(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await ta(this.storage,this.storageKey,!0));try{return await da(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await da(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Hs()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(xs(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:s}}=t;if(r)throw r;const{options:a,provider:i,token:o,access_token:l,nonce:c}=e,d=await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===s||void 0===s?void 0:s.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ua}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Ss})}catch(r){if(await $s(this.storage,"".concat(this.storageKey,"-code-verifier")),xs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)throw a;return await da(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await da(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ua})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&As(t)&&Date.now()+n-s<ps},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(s){if(!r(a,s))return void t(s)}})()}))}catch(s){if(this._debug(t,"error",s),xs(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Hs()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ks(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Ks(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Js(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:aa()}else if(s&&!s.user&&!s.user){const e=await Ks(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await $s(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,s)):s.user=aa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<ms;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(ms,"s")),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),As(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Ys;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Ns;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),xs(s)){const e={data:null,error:s};return As(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $s(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Js(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=ia(e);await Js(this.storage,this.storageKey,r)}else{const e=ia(t);await Js(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $s(this.storage,this.storageKey),await $s(this.storage,this.storageKey+"-code-verifier"),await $s(this.storage,this.storageKey+"-user"),this.userStorage&&await $s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hs()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/ps);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(ps,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof wa))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hs()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await ta(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?this._returnResult({data:null,error:s}):await da(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await da(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Oa(e.webauthn.credential_response):Ra(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await da(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:a,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await da(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(a.error)return a;const{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Aa(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ta(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(s),"verified"===s.status&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Xs(n.access_token);let a=null;s.aal&&(a=s.aal);let i=a;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await da(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Ns});const a=await da(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Hs()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(xs(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Ns});const a=await da(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Hs()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(xs(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await da(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(e){if(xs(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await da(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ns})})}catch(t){if(xs(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await da(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:s,signature:a,raw:{header:i,payload:o}}=Xs(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,function(e){const t=[];return Us(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Os("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(n){if(xs(n))return this._returnResult({data:null,error:n});throw n}}}Ha.nextInstanceID={};const Wa=Ha;let Ga="";Ga="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Za={headers:{"X-Client-Info":"supabase-js-".concat(Ga,"/").concat("2.91.1")}},Ja={schema:"public"},Ka={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$a={};function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e){var t=function(e,t){if("object"!=Ya(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ya(t)?t:t+""}function Qa(e,t,n){return(t=Xa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(t){Qa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ni=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),s=Headers;return async(n,a)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,ti(ti({},a),{},{headers:l}))}};var ri=class extends Wa{constructor(e){super(e)}},si=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const i="sb-".concat(a.hostname.split(".")[0],"-auth-token"),o=function(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:ti(ti({},l),s),auth:ti(ti({},c),a),realtime:ti(ti({},d),i),storage:{},global:ti(ti(ti({},u),o),{},{headers:ti(ti({},null!==(n=null===u||void 0===u?void 0:u.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Ja,realtime:$a,auth:ti(ti({},Ka),{},{storageKey:i}),global:Za});var l;(this.storageKey=null!==(r=o.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=o.global.headers)&&void 0!==s?s:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=ni(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(ti({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new In(new URL("rest/v1",a).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new us(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new _n(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,userStorage:o,storageKey:l,flowType:c,lock:d,debug:u,throwOnError:h}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new ri({url:this.authUrl.href,headers:ti(ti({},p),t),storageKey:l,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,userStorage:o,flowType:c,lock:d,debug:u,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new hr(this.realtimeUrl.href,ti(ti({},e),{},{params:ti(ti({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const{supabaseUrl:ai,supabaseAnonKey:ii}=(()=>{var e,t;let n="https://supabase.vecinoactivo.cl",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE";return n=null===(e=n)||void 0===e?void 0:e.trim(),r=null===(t=r)||void 0===t?void 0:t.trim(),{supabaseUrl:n,supabaseAnonKey:r}})();ai&&ii?console.log("\u2705 Supabase configurado correctamente"):(console.warn("\u26a0\ufe0f Supabase URL o Anon Key no configurados"),console.warn("Aseg\xfarate de tener las variables de entorno:"),console.warn("- REACT_APP_SUPABASE_URL"),console.warn("- REACT_APP_SUPABASE_ANON_KEY"));const oi=((e,t,n)=>new si(e,t,n))(ai,ii,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:"undefined"!==typeof window?window.localStorage:void 0,storageKey:"vecino-activo-auth"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vecino-activo-web"}}});const li=new class{async register(e){let{email:t,password:n,name:r,phone:s,bio:a,neighborhoodId:i,neighborhoodName:o,neighborhoodCode:l}=e;try{const{data:e,error:c}=await oi.auth.signUp({email:t,password:n,options:{emailRedirectTo:void 0,data:{name:r,phone:s,bio:a,neighborhood_id:i,neighborhood_name:o,neighborhood_code:l}}});if(c)throw c;if(!e.user)throw new Error("No se pudo crear el usuario. El email puede estar ya registrado.");const{data:d,error:u}=await oi.from("users").insert([{id:e.user.id,email:t,name:r,phone:s,bio:a,neighborhood_id:i,neighborhood_name:o,neighborhood_code:l,avatar:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(r),"&background=667eea&color=fff"),verified:!1,email_verified:!0}]).select().single();if(u)throw u;return{user:d,session:e.session}}catch(c){throw console.error("Error en registro:",c),c}}async login(e,t){try{const{data:n,error:r}=await oi.auth.signInWithPassword({email:e,password:t});if(r)throw r;const{data:s,error:a}=await oi.from("users").select("*").eq("id",n.user.id).single();if(a)throw a;return await oi.from("users").update({last_login:(new Date).toISOString()}).eq("id",n.user.id),{user:s,session:n.session}}catch(n){throw console.error("Error en login:",n),n}}async logout(){try{const{error:e}=await oi.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error en logout:",e),e}}async getCurrentUser(){try{const{data:{user:e},error:t}=await oi.auth.getUser();if(t)throw t;if(!e)return null;const{data:n,error:r}=await oi.from("users").select("*").eq("id",e.id).single();if(r)throw r;return n}catch(e){return console.error("Error al obtener usuario:",e),null}}async getCurrentSession(){try{const{data:{session:e},error:t}=await oi.auth.getSession();if(t)throw t;return e}catch(e){return console.error("Error al obtener sesi\xf3n:",e),null}}async updateProfile(e,t){try{const{data:n,error:r}=await oi.from("users").update(z(z({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw r;return n}catch(n){throw console.error("Error al actualizar perfil:",n),n}}async updateAvatar(e,t){try{const{data:n,error:r}=await oi.from("users").update({avatar:t,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw r;return n}catch(n){throw console.error("Error al actualizar avatar:",n),n}}async changePassword(e){try{const{data:t,error:n}=await oi.auth.updateUser({password:e});if(n)throw n;return t}catch(t){throw console.error("Error al cambiar contrase\xf1a:",t),t}}async resetPassword(e){try{const{data:t,error:n}=await oi.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(n)throw n;return t}catch(t){throw console.error("Error al recuperar contrase\xf1a:",t),t}}async verifyEmail(e){try{const{data:t,error:n}=await oi.auth.verifyOtp({token_hash:e,type:"email"});if(n)throw n;return t}catch(t){throw console.error("Error al verificar email:",t),t}}onAuthStateChange(e){return oi.auth.onAuthStateChange((t,n)=>{e(t,n)})}},ci=Ct("auth/login",async(e,t)=>{let{email:n,password:r}=e,{rejectWithValue:s}=t;try{const{user:e}=await li.login(n,r);return e}catch(a){return s(a.message||"Credenciales inv\xe1lidas")}}),di=Ct("auth/register",async(e,t)=>{let{rejectWithValue:n}=t;try{const{user:t}=await li.register(e);return t}catch(r){return n(r.message||"Error al registrar usuario")}}),ui=Ct("auth/restoreSession",async(e,t)=>{let{rejectWithValue:n}=t;try{const e=await li.getCurrentUser();return e||n("No hay sesi\xf3n")}catch(r){return n(r.message||"Error al restaurar sesi\xf3n")}}),hi=Tt({name:"auth",initialState:{user:null,loading:!0,error:null,sessionExpired:!1,isAuthenticated:!1},reducers:{logout:e=>(console.log("\ud83d\udd34 LOGOUT EJECUTADO - Limpiando estado"),li.logout().catch(e=>console.error("Error en logout:",e)),{user:null,loading:!1,error:null,sessionExpired:!1,isAuthenticated:!1}),updateUser:(e,t)=>{var n;e.user=z(z({},e.user),t.payload),null!==(n=e.user)&&void 0!==n&&n.id&&li.updateProfile(e.user.id,t.payload).catch(e=>console.error("Error al actualizar perfil:",e))},updateUserAvatar:(e,t)=>{e.user&&(e.user.avatar=t.payload,li.updateAvatar(e.user.id,t.payload).catch(e=>console.error("Error al actualizar avatar:",e)))},clearError:e=>{e.error=null},clearSessionExpired:e=>{e.sessionExpired=!1}},extraReducers:e=>{e.addCase(ci.pending,e=>{e.loading=!0,e.error=null}).addCase(ci.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.isAuthenticated=!0,e.error=null}).addCase(ci.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}).addCase(di.pending,e=>{e.loading=!0,e.error=null}).addCase(di.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.isAuthenticated=!0,e.error=null}).addCase(di.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}).addCase(ui.pending,e=>{e.loading=!0}).addCase(ui.fulfilled,(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,e.loading=!1,e.sessionExpired=!1}).addCase(ui.rejected,(e,t)=>{e.sessionExpired="Sesi\xf3n expirada"===t.payload,e.loading=!1,e.isAuthenticated=!1})}}),{logout:pi,updateUser:mi,updateUserAvatar:fi,clearError:gi,clearSessionExpired:vi}=hi.actions,yi=hi.reducer;const bi=new class{async getPosts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{const{data:n,error:r}=await oi.from("posts").select("\n          *,\n          author:users!posts_author_id_fkey(id, name, avatar, verified),\n          reactions:post_reactions(id, emoji, user_id),\n          comments:comments(\n            id, \n            content, \n            likes, \n            created_at,\n            author:users!comments_author_id_fkey(id, name, avatar)\n          )\n        ").order("created_at",{ascending:!1}).range(t,t+e-1);if(r)throw r;return n}catch(n){throw console.error("Error al obtener posts:",n),n}}async getUserPosts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const{data:n,error:r}=await oi.from("posts").select("\n          *,\n          author:users!posts_author_id_fkey(id, name, avatar, verified),\n          reactions:post_reactions(id, emoji, user_id),\n          comments:comments(count)\n        ").eq("author_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return n}catch(n){throw console.error("Error al obtener posts del usuario:",n),n}}async createPost(e){let{authorId:t,content:n,image:r,feeling:s,location:a,privacy:i,category:o,hashtags:l}=e;try{const{data:e,error:c}=await oi.from("posts").insert([{author_id:t,content:n,image:r,feeling:s,location:a,privacy:i||"public",category:o||"general",hashtags:l||[]}]).select("\n          *,\n          author:users!posts_author_id_fkey(id, name, avatar, verified)\n        ").single();if(c)throw c;return e}catch(c){throw console.error("Error al crear post:",c),c}}async updatePost(e,t){try{const{data:n,error:r}=await oi.from("posts").update(z(z({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw r;return n}catch(n){throw console.error("Error al actualizar post:",n),n}}async deletePost(e){try{const{error:t}=await oi.from("posts").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error al eliminar post:",t),t}}async addReaction(e,t,n){try{const{data:r}=await oi.from("post_reactions").select("id").eq("post_id",e).eq("user_id",t).eq("emoji",n).single();if(r){const{error:e}=await oi.from("post_reactions").delete().eq("id",r.id);if(e)throw e;return{removed:!0}}{const{data:r,error:s}=await oi.from("post_reactions").insert([{post_id:e,user_id:t,emoji:n}]).select().single();if(s)throw s;return{added:!0,data:r}}}catch(r){throw console.error("Error al agregar reacci\xf3n:",r),r}}async addComment(e,t,n){try{const{data:r,error:s}=await oi.from("comments").insert([{post_id:e,author_id:t,content:n}]).select("\n          *,\n          author:users!comments_author_id_fkey(id, name, avatar)\n        ").single();if(s)throw s;return await oi.rpc("increment_post_comments",{post_id:e}),r}catch(r){throw console.error("Error al agregar comentario:",r),r}}async getComments(e){try{const{data:t,error:n}=await oi.from("comments").select("\n          *,\n          author:users!comments_author_id_fkey(id, name, avatar)\n        ").eq("post_id",e).order("created_at",{ascending:!0});if(n)throw n;return t}catch(t){throw console.error("Error al obtener comentarios:",t),t}}async likeComment(e){try{const{data:t,error:n}=await oi.rpc("increment_comment_likes",{comment_id:e});if(n)throw n;return t}catch(t){throw console.error("Error al dar like a comentario:",t),t}}subscribeToNewPosts(e){return oi.channel("posts").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},e).subscribe()}subscribeToPost(e,t){return oi.channel("post:".concat(e)).on("postgres_changes",{event:"*",schema:"public",table:"posts",filter:"id=eq.".concat(e)},t).subscribe()}},xi=Ct("posts/load",async(e,t)=>{let{neighborhoodId:n,limit:r=50,offset:s=0}=e,{rejectWithValue:a}=t;try{return await bi.getPosts(n,r,s)}catch(i){return a(i.message)}}),wi=Ct("posts/create",async(e,t)=>{let{getState:n,rejectWithValue:r}=t;try{const{auth:t}=n(),r=t.user;if(!r)throw new Error("Usuario no autenticado");return await bi.createPost({content:e.content,authorId:r.id,neighborhoodId:r.neighborhoodId,images:e.images||[],feeling:e.feeling||null,location:e.location||null,privacy:e.privacy||"public",category:e.category||"general",hashtags:e.hashtags||[]})}catch(s){return r(s.message)}}),ji=Ct("posts/update",async(e,t)=>{let{postId:n,updates:r}=e,{getState:s,rejectWithValue:a}=t;try{const{auth:e}=s();return await bi.updatePost(n,r,e.user.id)}catch(i){return a(i.message)}}),_i=Ct("posts/delete",async(e,t)=>{let{getState:n,rejectWithValue:r}=t;try{const{auth:t}=n();return await bi.deletePost(e,t.user.id),e}catch(s){return r(s.message)}}),Ni=Ct("posts/addReaction",async(e,t)=>{let{postId:n,emoji:r}=e,{getState:s,rejectWithValue:a}=t;try{const{auth:e}=s();return z({postId:n},await bi.likePost(n,e.user.id))}catch(i){return a(i.message)}}),Si=Ct("posts/addComment",async(e,t)=>{let{postId:n,content:r}=e,{getState:s,rejectWithValue:a}=t;try{const{auth:e}=s(),t=e.user;if(!t)throw new Error("Usuario no autenticado");return{postId:n,comment:await bi.addComment(n,{content:r,authorId:t.id})}}catch(i){return a(i.message)}}),Ci=Ct("posts/share",async(e,t)=>{let{getState:n,rejectWithValue:r}=t;try{const{auth:t}=n();return await bi.sharePost(e,t.user.id),e}catch(s){return r(s.message)}}),ki=Tt({name:"posts",initialState:{items:[],loading:!1,error:null,hasMore:!0,subscription:null},reducers:{clearError:e=>{e.error=null},addPost:(e,t)=>{e.items.find(e=>e.id===t.payload.id)||e.items.unshift(t.payload)},addNewPost:(e,t)=>{e.items.unshift(t.payload)},updatePostAction:(e,t)=>{const n=e.items.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.items[n]=z(z({},e.items[n]),t.payload))},removePost:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)},setSubscription:(e,t)=>{e.subscription=t.payload},addPostFromRealtime:(e,t)=>{e.items.find(e=>e.id===t.payload.id)||e.items.unshift(t.payload)},updatePostFromRealtime:(e,t)=>{const n=e.items.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.items[n]=z(z({},e.items[n]),t.payload))},removePostFromRealtime:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)}},extraReducers:e=>{e.addCase(xi.pending,e=>{e.loading=!0,e.error=null}).addCase(xi.fulfilled,(e,t)=>{e.items=t.payload,e.hasMore=t.payload.length>=50,e.loading=!1}).addCase(xi.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(wi.pending,e=>{e.loading=!0}).addCase(wi.fulfilled,(e,t)=>{e.items.unshift(t.payload),e.loading=!1}).addCase(wi.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(ji.fulfilled,(e,t)=>{const n=e.items.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.items[n]=t.payload)}).addCase(ji.rejected,(e,t)=>{e.error=t.payload}).addCase(_i.fulfilled,(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)}).addCase(_i.rejected,(e,t)=>{e.error=t.payload}).addCase(Ni.fulfilled,(e,t)=>{const{postId:n}=t.payload,r=e.items.find(e=>e.id===n);r&&(r.likes=(r.likes||0)+(t.payload.added?1:-1))}).addCase(Si.fulfilled,(e,t)=>{const{postId:n,comment:r}=t.payload,s=e.items.find(e=>e.id===n);s&&(s.comments=(s.comments||0)+1)}).addCase(Ci.fulfilled,(e,t)=>{const n=e.items.find(e=>e.id===t.payload);n&&(n.shares=(n.shares||0)+1)})}}),{clearError:Ei,addPost:Pi,addNewPost:Ii,updatePostAction:Ai,removePost:Ti,setSubscription:Oi,addPostFromRealtime:Ri,updatePostFromRealtime:Li,removePostFromRealtime:Mi}=ki.actions,zi=ki.reducer;const Di=new class{async getNotifications(e){const{data:t,error:n}=await oi.from("notifications").select("*, from_user:users!notifications_from_user_id_fkey(id, name, avatar)").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);if(n)throw n;return t}async getUnreadCount(e){const{count:t,error:n}=await oi.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("read",!1);if(n)throw n;return t}async markAsRead(e){const{error:t}=await oi.from("notifications").update({read:!0}).eq("id",e);if(t)throw t;return!0}async markAllAsRead(e){const{data:t,error:n}=await oi.rpc("mark_notifications_read",{user_id_param:e});if(n)throw n;return t}async createNotification(e){let{userId:t,type:n,fromUserId:r,message:s,postId:a,eventId:i,projectId:o}=e;const{data:l,error:c}=await oi.from("notifications").insert([{user_id:t,type:n,from_user_id:r,message:s,post_id:a,event_id:i,project_id:o}]).select().single();if(c)throw c;return l}subscribeToNotifications(e,t){return oi.channel("notifications:".concat(e)).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e)},t).subscribe()}},Bi=Ct("notifications/load",async(e,t)=>{let{userId:n,limit:r=50,offset:s=0}=e,{rejectWithValue:a}=t;try{return await Di.getNotifications(n,r,s)}catch(i){return a(i.message)}}),Vi=Ct("notifications/create",async(e,t)=>{let{rejectWithValue:n}=t;try{return e}catch(r){return n(r.message)}}),Ui=Ct("notifications/markAsRead",async(e,t)=>{let{notificationId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await Di.markAsRead(n,r),n}catch(a){return s(a.message)}}),qi=Ct("notifications/markAllAsRead",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Di.markAllAsRead(e),!0}catch(r){return n(r.message)}}),Fi=Ct("notifications/delete",async(e,t)=>{let{notificationId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await Di.deleteNotification(n,r),n}catch(a){return s(a.message)}}),Hi=Tt({name:"notifications",initialState:{items:[],loading:!1,error:null,unreadCount:0,subscription:null},reducers:{clearError:e=>{e.error=null},addNotification:(e,t)=>{e.items.find(e=>e.id===t.payload.id)||(e.items.unshift(t.payload),t.payload.read||(e.unreadCount+=1))},addNewNotification:(e,t)=>{e.items.unshift(t.payload),t.payload.read||(e.unreadCount+=1)},removeNotification:(e,t)=>{const n=e.items.find(e=>e.id===t.payload);n&&!n.read&&(e.unreadCount=Math.max(0,e.unreadCount-1)),e.items=e.items.filter(e=>e.id!==t.payload)},setSubscription:(e,t)=>{e.subscription=t.payload},addNotificationFromRealtime:(e,t)=>{e.items.find(e=>e.id===t.payload.id)||(e.items.unshift(t.payload),t.payload.read||(e.unreadCount+=1))},updateNotificationFromRealtime:(e,t)=>{const n=e.items.findIndex(e=>e.id===t.payload.id);if(-1!==n){const r=e.items[n],s=!r.read,a=t.payload.read;e.items[n]=z(z({},r),t.payload),s&&a?e.unreadCount=Math.max(0,e.unreadCount-1):s||a||(e.unreadCount+=1)}},removeNotificationFromRealtime:(e,t)=>{const n=e.items.find(e=>e.id===t.payload);n&&!n.read&&(e.unreadCount=Math.max(0,e.unreadCount-1)),e.items=e.items.filter(e=>e.id!==t.payload)}},extraReducers:e=>{e.addCase(Bi.pending,e=>{e.loading=!0,e.error=null}).addCase(Bi.fulfilled,(e,t)=>{e.items=t.payload,e.unreadCount=t.payload.filter(e=>!e.read).length,e.loading=!1}).addCase(Bi.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Vi.fulfilled,(e,t)=>{e.items.unshift(t.payload),t.payload.read||(e.unreadCount+=1)}).addCase(Ui.fulfilled,(e,t)=>{const n=e.items.find(e=>e.id===t.payload);n&&!n.read&&(n.read=!0,e.unreadCount=Math.max(0,e.unreadCount-1))}).addCase(qi.fulfilled,e=>{e.items.forEach(e=>{e.read=!0}),e.unreadCount=0}).addCase(Fi.fulfilled,(e,t)=>{const n=e.items.find(e=>e.id===t.payload);n&&!n.read&&(e.unreadCount=Math.max(0,e.unreadCount-1)),e.items=e.items.filter(e=>e.id!==t.payload)})}}),{clearError:Wi,addNotification:Gi,addNewNotification:Zi,removeNotification:Ji,setSubscription:Ki,addNotificationFromRealtime:$i,updateNotificationFromRealtime:Yi,removeNotificationFromRealtime:Xi}=Hi.actions,Qi=Hi.reducer;const eo=new class{async getFriends(e){const{data:t,error:n}=await oi.from("friendships").select("friend:users!friendships_friend_id_fkey(id, name, avatar, verified)").eq("user_id",e).eq("status","accepted");if(n)throw n;return t.map(e=>e.friend)}async getFriendRequests(e){const{data:t,error:n}=await oi.from("friendships").select("id, user:users!friendships_user_id_fkey(id, name, avatar), created_at").eq("friend_id",e).eq("status","pending");if(n)throw n;return t}async sendFriendRequest(e,t){const{data:n,error:r}=await oi.from("friendships").insert([{user_id:e,friend_id:t,status:"pending"}]).select().single();if(r)throw r;return await oi.from("notifications").insert([{user_id:t,type:"friend_request",from_user_id:e,message:"Te envi\xf3 una solicitud de amistad"}]),n}async acceptFriendRequest(e,t){const{error:n}=await oi.from("friendships").update({status:"accepted",accepted_at:(new Date).toISOString()}).eq("user_id",t).eq("friend_id",e);if(n)throw n;return await oi.from("friendships").insert([{user_id:e,friend_id:t,status:"accepted",accepted_at:(new Date).toISOString()}]),await oi.from("notifications").insert([{user_id:t,type:"friend_accepted",from_user_id:e,message:"Acept\xf3 tu solicitud de amistad"}]),!0}async rejectFriendRequest(e,t){const{error:n}=await oi.from("friendships").update({status:"rejected"}).eq("user_id",t).eq("friend_id",e);if(n)throw n;return!0}async removeFriend(e,t){return await oi.from("friendships").delete().eq("user_id",e).eq("friend_id",t),await oi.from("friendships").delete().eq("user_id",t).eq("friend_id",e),!0}},to=Ct("friends/loadFriends",async(e,t)=>{let{rejectWithValue:n}=t;try{return await eo.getFriends(e)}catch(r){return n(r.message)}}),no=Ct("friends/loadRequests",async(e,t)=>{let{rejectWithValue:n}=t;try{return await eo.getFriendRequests(e)}catch(r){return n(r.message)}}),ro=Ct("friends/sendRequest",async(e,t)=>{let{fromUserId:n,toUserId:r}=e,{rejectWithValue:s}=t;try{return await eo.sendFriendRequest(n,r)}catch(a){return s(a.message)}}),so=Ct("friends/acceptRequest",async(e,t)=>{let{requestId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await eo.acceptFriendRequest(n,r),n}catch(a){return s(a.message)}}),ao=Ct("friends/rejectRequest",async(e,t)=>{let{requestId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await eo.rejectFriendRequest(n,r),n}catch(a){return s(a.message)}}),io=Ct("friends/removeFriend",async(e,t)=>{let{userId:n,friendId:r}=e,{rejectWithValue:s}=t;try{return await eo.removeFriend(n,r),r}catch(a){return s(a.message)}}),oo=Tt({name:"friends",initialState:{friends:[],requests:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(to.pending,e=>{e.loading=!0,e.error=null}).addCase(to.fulfilled,(e,t)=>{e.loading=!1,e.friends=t.payload}).addCase(to.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(no.fulfilled,(e,t)=>{e.requests=t.payload}).addCase(ro.pending,e=>{e.loading=!0}).addCase(ro.fulfilled,(e,t)=>{e.loading=!1}).addCase(ro.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(so.fulfilled,(e,t)=>{e.requests=e.requests.filter(e=>e.id!==t.payload)}).addCase(ao.fulfilled,(e,t)=>{e.requests=e.requests.filter(e=>e.id!==t.payload)}).addCase(io.fulfilled,(e,t)=>{e.friends=e.friends.filter(e=>e.id!==t.payload)})}}),{clearError:lo}=oo.actions,co=oo.reducer;const uo=new class{async getGroups(){const{data:e,error:t}=await oi.from("groups").select("*, creator:users!groups_created_by_fkey(id, name, avatar), members:group_members(count)").order("created_at",{ascending:!1});if(t)throw t;return e}async getUserGroups(e){const{data:t,error:n}=await oi.from("group_members").select("group:groups(*, creator:users!groups_created_by_fkey(id, name, avatar), members:group_members(count))").eq("user_id",e);if(n)throw n;return t.map(e=>e.group)}async createGroup(e){let{name:t,description:n,image:r,createdBy:s,privacy:a}=e;const i=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:o,error:l}=await oi.from("groups").insert([{slug:i,name:t,description:n,image:r,created_by:s,privacy:a||"public"}]).select().single();if(l)throw l;return await this.joinGroup(o.id,s,"admin"),o}async joinGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"member";const{data:r,error:s}=await oi.from("group_members").insert([{group_id:e,user_id:t,role:n}]).select().single();if(s)throw s;return r}async leaveGroup(e,t){const{error:n}=await oi.from("group_members").delete().eq("group_id",e).eq("user_id",t);if(n)throw n;return!0}async updateGroup(e,t){const{data:n,error:r}=await oi.from("groups").update(t).eq("id",e).select().single();if(r)throw r;return n}async deleteGroup(e){const{error:t}=await oi.from("groups").delete().eq("id",e);if(t)throw t;return!0}async postToGroup(e,t,n,r){const{data:s,error:a}=await oi.from("group_posts").insert([{group_id:e,user_id:t,content:n,image:r}]).select().single();if(a)throw a;return s}async getGroupPosts(e){const{data:t,error:n}=await oi.from("group_posts").select("*, user:users(id, name, avatar)").eq("group_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}},ho=Ct("groups/loadGroups",async(e,t)=>{let{rejectWithValue:n}=t;try{return await uo.getGroups(e)}catch(r){return n(r.message)}}),po=Ct("groups/createGroup",async(e,t)=>{let{rejectWithValue:n}=t;try{return await uo.createGroup(e)}catch(r){return n(r.message)}}),mo=Ct("groups/updateGroup",async(e,t)=>{let{groupId:n,updates:r,userId:s}=e,{rejectWithValue:a}=t;try{return await uo.updateGroup(n,r,s)}catch(i){return a(i.message)}}),fo=Ct("groups/joinGroup",async(e,t)=>{let{groupId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await uo.joinGroup(n,r),{groupId:n,userId:r}}catch(a){return s(a.message)}}),go=Ct("groups/leaveGroup",async(e,t)=>{let{groupId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await uo.leaveGroup(n,r),{groupId:n,userId:r}}catch(a){return s(a.message)}}),vo=Ct("groups/getMembers",async(e,t)=>{let{rejectWithValue:n}=t;try{return{groupId:e,members:await uo.getGroupMembers(e)}}catch(r){return n(r.message)}}),yo=Tt({name:"groups",initialState:{groups:[],myGroups:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null},setMyGroups:(e,t)=>{e.myGroups=t.payload}},extraReducers:e=>{e.addCase(ho.pending,e=>{e.loading=!0,e.error=null}).addCase(ho.fulfilled,(e,t)=>{e.loading=!1,e.groups=t.payload}).addCase(ho.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(po.pending,e=>{e.loading=!0}).addCase(po.fulfilled,(e,t)=>{e.loading=!1,e.groups.push(t.payload),e.myGroups.push(t.payload)}).addCase(po.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(mo.fulfilled,(e,t)=>{const n=e.groups.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.groups[n]=t.payload);const r=e.myGroups.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.myGroups[r]=t.payload)}).addCase(fo.fulfilled,(e,t)=>{const{groupId:n}=t.payload,r=e.groups.find(e=>e.id===n);r&&(r.member_count=(r.member_count||0)+1,e.myGroups.find(e=>e.id===n)||e.myGroups.push(r))}).addCase(go.fulfilled,(e,t)=>{const{groupId:n}=t.payload,r=e.groups.find(e=>e.id===n);r&&(r.member_count=Math.max(0,(r.member_count||0)-1)),e.myGroups=e.myGroups.filter(e=>e.id!==n)}).addCase(vo.fulfilled,(e,t)=>{const{groupId:n,members:r}=t.payload,s=e.groups.find(e=>e.id===n);s&&(s.members=r)})}}),{clearError:bo,setMyGroups:xo}=yo.actions,wo=yo.reducer;const jo=new class{async getEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;try{const{data:t,error:n}=await oi.from("events").select("\n          *,\n          creator:users!events_created_by_fkey(id, name, avatar),\n          attendees:event_attendees(\n            id,\n            status,\n            user:users(id, name, avatar)\n          )\n        ").order("date",{ascending:!0}).limit(e);if(n)throw n;return t}catch(t){throw console.error("Error al obtener eventos:",t),t}}async getUserEvents(e){try{const{data:t,error:n}=await oi.from("event_attendees").select("\n          event:events(\n            *,\n            creator:users!events_created_by_fkey(id, name, avatar),\n            attendees:event_attendees(count)\n          )\n        ").eq("user_id",e);if(n)throw n;return t.map(e=>e.event)}catch(t){throw console.error("Error al obtener eventos del usuario:",t),t}}async createEvent(e){let{title:t,description:n,date:r,time:s,location:a,image:i,createdBy:o,category:l,privacy:c}=e;try{const e=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:d,error:u}=await oi.from("events").insert([{slug:e,title:t,description:n,date:r,time:s,location:a,image:i,created_by:o,category:l,privacy:c||"public"}]).select("\n          *,\n          creator:users!events_created_by_fkey(id, name, avatar)\n        ").single();if(u)throw u;return await this.rsvpEvent(d.id,o,"going"),d}catch(d){throw console.error("Error al crear evento:",d),d}}async rsvpEvent(e,t,n){try{if(await oi.from("event_attendees").delete().eq("event_id",e).eq("user_id",t),"not-going"!==n){const{data:r,error:s}=await oi.from("event_attendees").insert([{event_id:e,user_id:t,status:n}]).select().single();if(s)throw s;return r}return{removed:!0}}catch(r){throw console.error("Error al confirmar asistencia:",r),r}}async updateEvent(e,t){try{const{data:n,error:r}=await oi.from("events").update(t).eq("id",e).select().single();if(r)throw r;return n}catch(n){throw console.error("Error al actualizar evento:",n),n}}async deleteEvent(e){try{const{error:t}=await oi.from("events").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error al eliminar evento:",t),t}}subscribeToEvents(e){return oi.channel("events").on("postgres_changes",{event:"*",schema:"public",table:"events"},e).subscribe()}},_o=Ct("events/loadEvents",async(e,t)=>{let{neighborhoodId:n,filters:r={}}=e,{rejectWithValue:s}=t;try{return await jo.getEvents(n,r)}catch(a){return s(a.message)}}),No=Ct("events/createEvent",async(e,t)=>{let{rejectWithValue:n}=t;try{return await jo.createEvent(e)}catch(r){return n(r.message)}}),So=Ct("events/rsvpEvent",async(e,t)=>{let{eventId:n,userId:r,status:s}=e,{rejectWithValue:a}=t;try{return await jo.rsvpToEvent(n,r,s),{eventId:n,status:s}}catch(i){return a(i.message)}}),Co=Ct("events/updateEvent",async(e,t)=>{let{eventId:n,updates:r,userId:s}=e,{rejectWithValue:a}=t;try{return await jo.updateEvent(n,r,s)}catch(i){return a(i.message)}}),ko=Ct("events/deleteEvent",async(e,t)=>{let{eventId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await jo.deleteEvent(n,r),n}catch(a){return s(a.message)}}),Eo=Ct("events/getAttendees",async(e,t)=>{let{rejectWithValue:n}=t;try{return{eventId:e,attendees:await jo.getEventAttendees(e)}}catch(r){return n(r.message)}}),Po=Tt({name:"events",initialState:{allEvents:[],myEvents:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null},setMyEvents:(e,t)=>{e.myEvents=t.payload}},extraReducers:e=>{e.addCase(_o.pending,e=>{e.loading=!0,e.error=null}).addCase(_o.fulfilled,(e,t)=>{e.loading=!1,e.allEvents=t.payload}).addCase(_o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(No.pending,e=>{e.loading=!0}).addCase(No.fulfilled,(e,t)=>{e.loading=!1,e.allEvents.push(t.payload),e.myEvents.push(t.payload)}).addCase(No.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(So.fulfilled,(e,t)=>{const{eventId:n,status:r}=t.payload,s=e.allEvents.find(e=>e.id===n);s&&(s.rsvp_status=r)}).addCase(Co.fulfilled,(e,t)=>{const n=e.allEvents.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.allEvents[n]=t.payload);const r=e.myEvents.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.myEvents[r]=t.payload)}).addCase(ko.fulfilled,(e,t)=>{e.allEvents=e.allEvents.filter(e=>e.id!==t.payload),e.myEvents=e.myEvents.filter(e=>e.id!==t.payload)}).addCase(Eo.fulfilled,(e,t)=>{const{eventId:n,attendees:r}=t.payload,s=e.allEvents.find(e=>e.id===n);s&&(s.attendees=r)})}}),{clearError:Io,setMyEvents:Ao}=Po.actions,To=Po.reducer;const Oo=new class{async getConversations(e){try{const{data:t,error:n}=await oi.rpc("get_user_conversations",{user_id_param:e});if(n)throw n;return t}catch(t){throw console.error("Error al obtener conversaciones:",t),t}}async getMessages(e,t){try{const{data:n,error:r}=await oi.from("messages").select("*").or("and(sender_id.eq.".concat(e,",recipient_id.eq.").concat(t,"),and(sender_id.eq.").concat(t,",recipient_id.eq.").concat(e,")")).order("created_at",{ascending:!0});if(r)throw r;return n}catch(n){throw console.error("Error al obtener mensajes:",n),n}}async sendMessage(e,t,n){try{const{data:r,error:s}=await oi.from("messages").insert([{sender_id:e,recipient_id:t,content:n,read:!1}]).select().single();if(s)throw s;return await oi.from("notifications").insert([{user_id:t,type:"new_message",from_user_id:e,message:"Te envi\xf3 un mensaje"}]),r}catch(r){throw console.error("Error al enviar mensaje:",r),r}}async markAsRead(e){try{const{error:t}=await oi.from("messages").update({read:!0}).eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error al marcar mensaje como le\xeddo:",t),t}}async markConversationAsRead(e,t){try{const{error:n}=await oi.from("messages").update({read:!0}).eq("sender_id",t).eq("recipient_id",e).eq("read",!1);if(n)throw n;return!0}catch(n){throw console.error("Error al marcar conversaci\xf3n como le\xedda:",n),n}}async deleteMessage(e){try{const{error:t}=await oi.from("messages").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error("Error al eliminar mensaje:",t),t}}subscribeToMessages(e,t){return oi.channel("messages:".concat(e)).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:"recipient_id=eq.".concat(e)},t).subscribe()}},Ro=Ct("messages/loadConversations",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Oo.getConversations(e)}catch(r){return n(r.message)}}),Lo=Ct("messages/loadMessages",async(e,t)=>{let{conversationId:n,limit:r=50,offset:s=0}=e,{rejectWithValue:a}=t;try{return{conversationId:n,messages:await Oo.getMessages(n,r,s)}}catch(i){return a(i.message)}}),Mo=Ct("messages/sendMessage",async(e,t)=>{let{conversationId:n,senderId:r,recipientId:s,content:a,type:i="text"}=e,{rejectWithValue:o}=t;try{if(!a.trim())throw new Error("El mensaje no puede estar vac\xedo");return await Oo.sendMessage({conversationId:n,senderId:r,recipientId:s,content:a,type:i})}catch(l){return o(l.message)}}),zo=Ct("messages/markAsRead",async(e,t)=>{let{messageId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await Oo.markAsRead(n,r),n}catch(a){return s(a.message)}}),Do=Ct("messages/markConversationAsRead",async(e,t)=>{let{conversationId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await Oo.markConversationAsRead(n,r),n}catch(a){return s(a.message)}}),Bo=Ct("messages/deleteMessage",async(e,t)=>{let{messageId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await Oo.deleteMessage(n,r),n}catch(a){return s(a.message)}}),Vo=Tt({name:"messages",initialState:{conversations:[],messagesByConversation:{},loading:!1,error:null,subscription:null},reducers:{clearMessagesError:e=>{e.error=null},addMessage:(e,t)=>{const n=t.payload,r=n.conversation_id;e.messagesByConversation[r]||(e.messagesByConversation[r]=[]);e.messagesByConversation[r].find(e=>e.id===n.id)||e.messagesByConversation[r].push(n)},addNewMessage:(e,t)=>{const{conversationId:n,message:r}=t.payload;e.messagesByConversation[n]||(e.messagesByConversation[n]=[]),e.messagesByConversation[n].push(r)},updateMessage:(e,t)=>{const n=t.payload,r=n.conversation_id;if(e.messagesByConversation[r]){const t=e.messagesByConversation[r].findIndex(e=>e.id===n.id);-1!==t&&(e.messagesByConversation[r][t]=n)}},setSubscription:(e,t)=>{e.subscription=t.payload}},extraReducers:e=>{e.addCase(Ro.pending,e=>{e.loading=!0,e.error=null}).addCase(Ro.fulfilled,(e,t)=>{e.loading=!1,e.conversations=t.payload}).addCase(Ro.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Lo.pending,e=>{e.loading=!0,e.error=null}).addCase(Lo.fulfilled,(e,t)=>{e.loading=!1;const{conversationId:n,messages:r}=t.payload;e.messagesByConversation[n]=r}).addCase(Lo.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Mo.pending,e=>{e.loading=!0,e.error=null}).addCase(Mo.fulfilled,(e,t)=>{e.loading=!1;const n=t.payload,r=n.conversation_id;e.messagesByConversation[r]||(e.messagesByConversation[r]=[]),e.messagesByConversation[r].push(n);const s=e.conversations.find(e=>e.id===r);s&&(s.last_message=n,s.updated_at=n.created_at)}).addCase(Mo.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(zo.fulfilled,(e,t)=>{const n=t.payload;Object.values(e.messagesByConversation).forEach(e=>{const t=e.find(e=>e.id===n);t&&(t.read=!0)})}).addCase(Do.fulfilled,(e,t)=>{const n=t.payload,r=e.messagesByConversation[n];r&&r.forEach(e=>{e.read=!0})}).addCase(Bo.fulfilled,(e,t)=>{const n=t.payload;Object.keys(e.messagesByConversation).forEach(t=>{e.messagesByConversation[t]=e.messagesByConversation[t].filter(e=>e.id!==n)})})}}),{clearMessagesError:Uo,addMessage:qo,addNewMessage:Fo,updateMessage:Ho,setSubscription:Wo}=Vo.actions,Go=Vo.reducer;const Zo=new class{async getProjects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=oi.from("projects").select("\n        *,\n        creator:users!projects_creator_id_fkey(id, name, avatar),\n        volunteers:project_volunteers(user:users(id, name, avatar)),\n        voters:project_voters(count)\n      ").order("created_at",{ascending:!1});e&&(t=t.eq("neighborhood_id",e));const{data:n,error:r}=await t;if(r)throw r;return n}async createProject(e){let{title:t,description:n,category:r,creatorId:s,neighborhoodId:a,neighborhoodName:i,neighborhoodCode:o,budget:l,fundingGoal:c,startDate:d,endDate:u,tags:h,images:p}=e;const m=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:f,error:g}=await oi.from("projects").insert([{slug:m,title:t,description:n,category:r,creator_id:s,neighborhood_id:a,neighborhood_name:i,neighborhood_code:o,budget:l||0,funding_goal:c||0,start_date:d,end_date:u,tags:h||[],images:p||[]}]).select("*, creator:users!projects_creator_id_fkey(id, name, avatar)").single();if(g)throw g;return f}async voteProject(e,t){const{data:n}=await oi.from("project_voters").select("id").eq("project_id",e).eq("user_id",t).single();return n?(await oi.from("project_voters").delete().eq("id",n.id),await oi.rpc("decrement_project_votes",{project_id:e}),{removed:!0}):(await oi.from("project_voters").insert([{project_id:e,user_id:t}]),await oi.rpc("increment_project_votes",{project_id:e}),{added:!0})}async joinAsVolunteer(e,t){const{data:n}=await oi.from("project_volunteers").select("id").eq("project_id",e).eq("user_id",t).single();if(n)return await oi.from("project_volunteers").delete().eq("id",n.id),{removed:!0};{const{data:n,error:r}=await oi.from("project_volunteers").insert([{project_id:e,user_id:t}]).select().single();if(r)throw r;return{added:!0,data:n}}}async addUpdate(e,t,n,r){const{data:s,error:a}=await oi.from("project_updates").insert([{project_id:e,author_id:t,content:n,images:r||[]}]).select("*, author:users!project_updates_author_id_fkey(id, name, avatar)").single();if(a)throw a;return s}async getUpdates(e){const{data:t,error:n}=await oi.from("project_updates").select("*, author:users!project_updates_author_id_fkey(id, name, avatar)").eq("project_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}async updateStatus(e,t){const n={status:t};"completado"===t&&(n.completion_date=(new Date).toISOString());const{data:r,error:s}=await oi.from("projects").update(n).eq("id",e).select().single();if(s)throw s;return r}async updateProject(e,t){const{data:n,error:r}=await oi.from("projects").update(t).eq("id",e).select().single();if(r)throw r;return n}async deleteProject(e){const{error:t}=await oi.from("projects").delete().eq("id",e);if(t)throw t;return!0}},Jo=Ct("projects/loadProjects",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Zo.getProjects(e)}catch(r){return n(r.message)}}),Ko=Ct("projects/createProject",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Zo.createProject(e)}catch(r){return n(r.message)}}),$o=Ct("projects/voteProject",async(e,t)=>{let{projectId:n,userId:r}=e,{rejectWithValue:s}=t;try{return z({projectId:n},await Zo.voteProject(n,r))}catch(a){return s(a.message)}}),Yo=Ct("projects/joinAsVolunteer",async(e,t)=>{let{projectId:n,userId:r}=e,{rejectWithValue:s}=t;try{return z({projectId:n},await Zo.joinAsVolunteer(n,r))}catch(a){return s(a.message)}}),Xo=Ct("projects/addUpdate",async(e,t)=>{let{projectId:n,authorId:r,content:s,images:a}=e,{rejectWithValue:i}=t;try{return{projectId:n,update:await Zo.addUpdate(n,r,s,a)}}catch(o){return i(o.message)}}),Qo=Ct("projects/getUpdates",async(e,t)=>{let{rejectWithValue:n}=t;try{return{projectId:e,updates:await Zo.getUpdates(e)}}catch(r){return n(r.message)}}),el=Ct("projects/updateStatus",async(e,t)=>{let{projectId:n,newStatus:r}=e,{rejectWithValue:s}=t;try{return await Zo.updateStatus(n,r)}catch(a){return s(a.message)}}),tl=Ct("projects/updateProject",async(e,t)=>{let{projectId:n,updates:r}=e,{rejectWithValue:s}=t;try{return await Zo.updateProject(n,r)}catch(a){return s(a.message)}}),nl=Ct("projects/deleteProject",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Zo.deleteProject(e),e}catch(r){return n(r.message)}}),rl=Tt({name:"projects",initialState:{projects:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(Jo.pending,e=>{e.loading=!0,e.error=null}).addCase(Jo.fulfilled,(e,t)=>{e.loading=!1,e.projects=t.payload}).addCase(Jo.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Ko.pending,e=>{e.loading=!0}).addCase(Ko.fulfilled,(e,t)=>{e.loading=!1,e.projects.push(t.payload)}).addCase(Ko.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase($o.fulfilled,(e,t)=>{const{projectId:n,added:r}=t.payload,s=e.projects.find(e=>e.id===n);s&&(s.votes=(s.votes||0)+(r?1:-1))}).addCase(Yo.fulfilled,(e,t)=>{const{projectId:n,added:r}=t.payload,s=e.projects.find(e=>e.id===n);s&&(s.volunteer_count=(s.volunteer_count||0)+(r?1:-1))}).addCase(Xo.fulfilled,(e,t)=>{const{projectId:n,update:r}=t.payload,s=e.projects.find(e=>e.id===n);s&&(s.updates||(s.updates=[]),s.updates.unshift(r))}).addCase(Qo.fulfilled,(e,t)=>{const{projectId:n,updates:r}=t.payload,s=e.projects.find(e=>e.id===n);s&&(s.updates=r)}).addCase(el.fulfilled,(e,t)=>{const n=e.projects.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.projects[n]=t.payload)}).addCase(tl.fulfilled,(e,t)=>{const n=e.projects.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.projects[n]=t.payload)}).addCase(nl.fulfilled,(e,t)=>{e.projects=e.projects.filter(e=>e.id!==t.payload)})}}),{clearError:sl}=rl.actions,al=rl.reducer;const il=new class{async getPolls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=oi.from("polls").select("\n        *,\n        creator:users!polls_creator_id_fkey(id, name, avatar),\n        options:poll_options(\n          *,\n          votes:poll_votes(count)\n        )\n      ").order("created_at",{ascending:!1});e&&(t=t.eq("neighborhood_id",e));const{data:n,error:r}=await t;if(r)throw r;return n.map(e=>z(z({},e),{},{options:e.options.map(e=>{var t;return z(z({},e),{},{votes:(null===(t=e.votes[0])||void 0===t?void 0:t.count)||0})}),totalVotes:e.options.reduce((e,t)=>{var n;return e+((null===(n=t.votes[0])||void 0===n?void 0:n.count)||0)},0)}))}async createPoll(e){let{title:t,description:n,options:r,endsAt:s,creatorId:a,neighborhoodId:i}=e;const{data:o,error:l}=await oi.from("polls").insert([{title:t,description:n,ends_at:s,creator_id:a,neighborhood_id:i,status:"active"}]).select("*, creator:users!polls_creator_id_fkey(id, name, avatar)").single();if(l)throw l;const c=r.map((e,t)=>({poll_id:o.id,text:e,position:t})),{data:d,error:u}=await oi.from("poll_options").insert(c).select();if(u)throw u;return z(z({},o),{},{options:d.map(e=>z(z({},e),{},{votes:0})),totalVotes:0})}async vote(e,t,n){const{data:r}=await oi.from("poll_votes").select("id").eq("poll_id",e).eq("user_id",n).single();if(r)throw new Error("Ya has votado en esta encuesta");const{data:s,error:a}=await oi.from("poll_votes").insert([{poll_id:e,option_id:t,user_id:n}]).select().single();if(a)throw a;return s}async closePoll(e,t){const{data:n}=await oi.from("polls").select("creator_id").eq("id",e).single();if(!n||n.creator_id!==t)throw new Error("No autorizado");const{data:r,error:s}=await oi.from("polls").update({status:"closed"}).eq("id",e).select().single();if(s)throw s;return r}async deletePoll(e,t){const{data:n}=await oi.from("polls").select("creator_id").eq("id",e).single();if(!n||n.creator_id!==t)throw new Error("No autorizado");const{error:r}=await oi.from("polls").delete().eq("id",e);if(r)throw r;return!0}async hasUserVoted(e,t){const{data:n,error:r}=await oi.from("poll_votes").select("id").eq("poll_id",e).eq("user_id",t).single();if(r&&"PGRST116"!==r.code)throw r;return!!n}},ol=Ct("polls/loadPolls",async(e,t)=>{let{rejectWithValue:n}=t;try{return await il.getPolls(e)}catch(r){return n(r.message)}}),ll=Ct("polls/createPoll",async(e,t)=>{let{rejectWithValue:n}=t;try{return await il.createPoll(e)}catch(r){return n(r.message)}}),cl=Ct("polls/vote",async(e,t)=>{let{pollId:n,optionId:r,userId:s}=e,{rejectWithValue:a}=t;try{return await il.vote(n,r,s),{pollId:n,optionId:r}}catch(i){return a(i.message)}}),dl=Ct("polls/closePoll",async(e,t)=>{let{pollId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await il.closePoll(n,r),n}catch(a){return s(a.message)}}),ul=Ct("polls/deletePoll",async(e,t)=>{let{pollId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await il.deletePoll(n,r),n}catch(a){return s(a.message)}}),hl=Tt({name:"polls",initialState:{polls:[],loading:!1,error:null},reducers:{clearPollsError:e=>{e.error=null}},extraReducers:e=>{e.addCase(ol.pending,e=>{e.loading=!0,e.error=null}).addCase(ol.fulfilled,(e,t)=>{e.loading=!1,e.polls=t.payload}).addCase(ol.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(ll.pending,e=>{e.loading=!0}).addCase(ll.fulfilled,(e,t)=>{e.loading=!1,e.polls.push(t.payload)}).addCase(ll.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(cl.fulfilled,(e,t)=>{const{pollId:n,optionId:r}=t.payload,s=e.polls.find(e=>e.id===n);if(s){const e=s.options.find(e=>e.id===r);e&&(e.votes=(e.votes||0)+1),s.totalVotes=(s.totalVotes||0)+1}}).addCase(dl.fulfilled,(e,t)=>{const n=e.polls.find(e=>e.id===t.payload);n&&(n.status="closed")}).addCase(ul.fulfilled,(e,t)=>{e.polls=e.polls.filter(e=>e.id!==t.payload)})}}),{clearPollsError:pl}=hl.actions,ml=hl.reducer;const fl=new class{async getHelpRequests(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=oi.from("help_requests").select("\n        *,\n        requester:users!help_requests_requester_id_fkey(id, name, avatar, phone),\n        offers:help_offers(\n          *,\n          helper:users!help_offers_helper_id_fkey(id, name, avatar, phone)\n        )\n      ").order("created_at",{ascending:!1});e&&(n=n.eq("neighborhood_id",e)),t&&(n=n.eq("status",t));const{data:r,error:s}=await n;if(s)throw s;return r}async getHelpRequestById(e){const{data:t,error:n}=await oi.from("help_requests").select("\n        *,\n        requester:users!help_requests_requester_id_fkey(id, name, avatar, phone),\n        offers:help_offers(\n          *,\n          helper:users!help_offers_helper_id_fkey(id, name, avatar, phone)\n        )\n      ").eq("id",e).single();if(n)throw n;return t}async createHelpRequest(e){const t=e.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:n,error:r}=await oi.from("help_requests").insert([{slug:t,type:e.type,title:e.title,description:e.description,urgency:e.urgency||"normal",requester_id:e.requesterId,neighborhood_id:e.neighborhoodId,location:e.location||null,images:e.images||[],status:"abierta"}]).select("*, requester:users!help_requests_requester_id_fkey(id, name, avatar, phone)").single();if(r)throw r;return n}async updateHelpRequest(e,t,n){const{data:r}=await oi.from("help_requests").select("requester_id").eq("id",e).single();if(!r||r.requester_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("help_requests").update(t).eq("id",e).select().single();if(a)throw a;return s}async offerHelp(e){const{data:t,error:n}=await oi.from("help_offers").insert([{request_id:e.requestId,helper_id:e.helperId,message:e.message,availability:e.availability}]).select("*, helper:users!help_offers_helper_id_fkey(id, name, avatar, phone)").single();if(n)throw n;return t}async acceptOffer(e,t,n){const{data:r}=await oi.from("help_requests").select("requester_id").eq("id",e).single();if(!r||r.requester_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("help_requests").update({status:"en_proceso",accepted_offer_id:t}).eq("id",e).select().single();if(a)throw a;return s}async resolveRequest(e,t){const{data:n}=await oi.from("help_requests").select("requester_id").eq("id",e).single();if(!n||n.requester_id!==t)throw new Error("No autorizado");const{data:r,error:s}=await oi.from("help_requests").update({status:"resuelta",resolved_at:(new Date).toISOString()}).eq("id",e).select().single();if(s)throw s;return r}async cancelRequest(e,t){const{data:n}=await oi.from("help_requests").select("requester_id").eq("id",e).single();if(!n||n.requester_id!==t)throw new Error("No autorizado");const{data:r,error:s}=await oi.from("help_requests").update({status:"cancelada"}).eq("id",e).select().single();if(s)throw s;return r}async deleteRequest(e,t){const{data:n}=await oi.from("help_requests").select("requester_id").eq("id",e).single();if(!n||n.requester_id!==t)throw new Error("No autorizado");const{error:r}=await oi.from("help_requests").delete().eq("id",e);if(r)throw r;return!0}async getMyRequests(e){const{data:t,error:n}=await oi.from("help_requests").select("\n        *,\n        requester:users!help_requests_requester_id_fkey(id, name, avatar, phone),\n        offers:help_offers(count)\n      ").eq("requester_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}async getMyOffers(e){const{data:t,error:n}=await oi.from("help_offers").select("\n        *,\n        request:help_requests!help_offers_request_id_fkey(\n          *,\n          requester:users!help_requests_requester_id_fkey(id, name, avatar, phone)\n        )\n      ").eq("helper_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}},gl=Ct("helpRequests/loadHelpRequests",async(e,t)=>{let{neighborhoodId:n,status:r}=e,{rejectWithValue:s}=t;try{return await fl.getHelpRequests(n,r)}catch(a){return s(a.message)}}),vl=Ct("helpRequests/createHelpRequest",async(e,t)=>{let{rejectWithValue:n}=t;try{return await fl.createHelpRequest(e)}catch(r){return n(r.message)}}),yl=Ct("helpRequests/offerHelp",async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fl.offerHelp(e);return{requestId:e.requestId,offer:t}}catch(r){return n(r.message)}}),bl=Ct("helpRequests/acceptOffer",async(e,t)=>{let{requestId:n,offerId:r,userId:s}=e,{rejectWithValue:a}=t;try{return await fl.acceptOffer(n,r,s)}catch(i){return a(i.message)}}),xl=Ct("helpRequests/resolveRequest",async(e,t)=>{let{requestId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await fl.resolveRequest(n,r)}catch(a){return s(a.message)}}),wl=Ct("helpRequests/cancelRequest",async(e,t)=>{let{requestId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await fl.cancelRequest(n,r)}catch(a){return s(a.message)}}),jl=Ct("helpRequests/deleteRequest",async(e,t)=>{let{requestId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await fl.deleteRequest(n,r),n}catch(a){return s(a.message)}}),_l=Ct("helpRequests/getMyRequests",async(e,t)=>{let{rejectWithValue:n}=t;try{return await fl.getMyRequests(e)}catch(r){return n(r.message)}}),Nl=Ct("helpRequests/getMyOffers",async(e,t)=>{let{rejectWithValue:n}=t;try{return await fl.getMyOffers(e)}catch(r){return n(r.message)}}),Sl=Tt({name:"helpRequests",initialState:{helpRequests:[],myRequests:[],myOffers:[],loading:!1,error:null},reducers:{clearHelpRequestsError:e=>{e.error=null}},extraReducers:e=>{e.addCase(gl.pending,e=>{e.loading=!0,e.error=null}).addCase(gl.fulfilled,(e,t)=>{e.loading=!1,e.helpRequests=t.payload}).addCase(gl.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(vl.pending,e=>{e.loading=!0}).addCase(vl.fulfilled,(e,t)=>{e.loading=!1,e.helpRequests.push(t.payload),e.myRequests.push(t.payload)}).addCase(vl.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(yl.fulfilled,(e,t)=>{const{requestId:n,offer:r}=t.payload,s=e.helpRequests.find(e=>e.id===n);s&&(s.offers||(s.offers=[]),s.offers.push(r))}).addCase(bl.fulfilled,(e,t)=>{const n=e.helpRequests.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.helpRequests[n]=t.payload)}).addCase(xl.fulfilled,(e,t)=>{const n=e.helpRequests.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.helpRequests[n]=t.payload)}).addCase(wl.fulfilled,(e,t)=>{const n=e.helpRequests.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.helpRequests[n]=t.payload)}).addCase(jl.fulfilled,(e,t)=>{e.helpRequests=e.helpRequests.filter(e=>e.id!==t.payload),e.myRequests=e.myRequests.filter(e=>e.id!==t.payload)}).addCase(_l.fulfilled,(e,t)=>{e.myRequests=t.payload}).addCase(Nl.fulfilled,(e,t)=>{e.myOffers=t.payload})}}),{clearHelpRequestsError:Cl}=Sl.actions,kl=Sl.reducer;const El=new class{async getResources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=oi.from("shared_resources").select("\n        *,\n        owner:users!shared_resources_owner_id_fkey(id, name, avatar, phone),\n        reviews:resource_reviews(\n          *,\n          user:users!resource_reviews_user_id_fkey(id, name, avatar)\n        )\n      ").eq("is_available",!0).order("created_at",{ascending:!1});e&&(n=n.eq("neighborhood_id",e)),t&&(n=n.eq("category",t));const{data:r,error:s}=await n;if(s)throw s;return r}async getResourceById(e){const{data:t,error:n}=await oi.from("shared_resources").select("\n        *,\n        owner:users!shared_resources_owner_id_fkey(id, name, avatar, phone),\n        reviews:resource_reviews(\n          *,\n          user:users!resource_reviews_user_id_fkey(id, name, avatar)\n        )\n      ").eq("id",e).single();if(n)throw n;return t}async addResource(e){const t=e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:n,error:r}=await oi.from("shared_resources").insert([{slug:t,name:e.name,description:e.description,category:e.category,subcategory:e.subcategory,owner_id:e.ownerId,neighborhood_id:e.neighborhoodId,condition:e.condition||"bueno",images:e.images||[],requires_deposit:e.requiresDeposit||!1,deposit_amount:e.depositAmount||0,max_loan_days:e.maxLoanDays||7,rules:e.rules||null,is_available:!0}]).select("*, owner:users!shared_resources_owner_id_fkey(id, name, avatar, phone)").single();if(r)throw r;return n}async updateResource(e,t,n){const{data:r}=await oi.from("shared_resources").select("owner_id").eq("id",e).single();if(!r||r.owner_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("shared_resources").update(t).eq("id",e).select().single();if(a)throw a;return s}async deleteResource(e,t){const{data:n}=await oi.from("shared_resources").select("owner_id").eq("id",e).single();if(!n||n.owner_id!==t)throw new Error("No autorizado");const{error:r}=await oi.from("shared_resources").delete().eq("id",e);if(r)throw r;return!0}async getReservations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=oi.from("resource_reservations").select("\n        *,\n        resource:shared_resources!resource_reservations_resource_id_fkey(id, name, images),\n        owner:users!resource_reservations_owner_id_fkey(id, name, avatar, phone),\n        borrower:users!resource_reservations_borrower_id_fkey(id, name, avatar, phone)\n      ").order("created_at",{ascending:!1});e&&(n=n.or("borrower_id.eq.".concat(e,",owner_id.eq.").concat(e))),t&&(n=n.eq("resource_id",t));const{data:r,error:s}=await n;if(s)throw s;return r}async reserveResource(e){const{data:t}=await oi.from("resource_reservations").select("id").eq("resource_id",e.resourceId).eq("status","activa").or("start_date.lte.".concat(e.endDate,",end_date.gte.").concat(e.startDate));if(t&&t.length>0)throw new Error("Ya hay una reserva en esas fechas");const{data:n,error:r}=await oi.from("resource_reservations").insert([{resource_id:e.resourceId,owner_id:e.ownerId,borrower_id:e.borrowerId,start_date:e.startDate,end_date:e.endDate,purpose:e.purpose||null,status:"pendiente"}]).select("\n        *,\n        resource:shared_resources!resource_reservations_resource_id_fkey(id, name, images),\n        owner:users!resource_reservations_owner_id_fkey(id, name, avatar, phone),\n        borrower:users!resource_reservations_borrower_id_fkey(id, name, avatar, phone)\n      ").single();if(r)throw r;return n}async approveReservation(e,t){const{data:n}=await oi.from("resource_reservations").select("owner_id").eq("id",e).single();if(!n||n.owner_id!==t)throw new Error("No autorizado");const{data:r,error:s}=await oi.from("resource_reservations").update({status:"activa"}).eq("id",e).select().single();if(s)throw s;return r}async completeReservation(e,t,n){const{data:r}=await oi.from("resource_reservations").select("owner_id, resource_id").eq("id",e).single();if(!r||r.owner_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("resource_reservations").update({status:"completada",returned_in_good_condition:t.inGoodCondition,borrower_rating:t.rating}).eq("id",e).select().single();if(a)throw a;return await oi.rpc("increment_resource_loans",{resource_id:r.resource_id}),s}async cancelReservation(e,t){const{data:n}=await oi.from("resource_reservations").select("borrower_id, owner_id").eq("id",e).single();if(!n||n.borrower_id!==t&&n.owner_id!==t)throw new Error("No autorizado");const{data:r,error:s}=await oi.from("resource_reservations").update({status:"cancelada"}).eq("id",e).select().single();if(s)throw s;return r}async addReview(e,t){const{data:n,error:r}=await oi.from("resource_reviews").insert([{resource_id:e,user_id:t.userId,rating:t.rating,comment:t.comment}]).select("*, user:users!resource_reviews_user_id_fkey(id, name, avatar)").single();if(r)throw r;return await oi.rpc("update_resource_rating",{resource_id:e}),n}},Pl=Ct("sharedResources/loadResources",async(e,t)=>{let{neighborhoodId:n,category:r}=e,{rejectWithValue:s}=t;try{return await El.getResources(n,r)}catch(a){return s(a.message)}}),Il=Ct("sharedResources/loadReservations",async(e,t)=>{let{userId:n,resourceId:r}=e,{rejectWithValue:s}=t;try{return await El.getReservations(n,r)}catch(a){return s(a.message)}}),Al=Ct("sharedResources/addResource",async(e,t)=>{let{rejectWithValue:n}=t;try{return await El.addResource(e)}catch(r){return n(r.message)}}),Tl=Ct("sharedResources/reserveResource",async(e,t)=>{let{rejectWithValue:n}=t;try{return await El.reserveResource(e)}catch(r){return n(r.message)}}),Ol=Ct("sharedResources/approveReservation",async(e,t)=>{let{reservationId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await El.approveReservation(n,r)}catch(a){return s(a.message)}}),Rl=Ct("sharedResources/completeReservation",async(e,t)=>{let{reservationId:n,returnData:r,userId:s}=e,{rejectWithValue:a}=t;try{return await El.completeReservation(n,r,s)}catch(i){return a(i.message)}}),Ll=Ct("sharedResources/cancelReservation",async(e,t)=>{let{reservationId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await El.cancelReservation(n,r)}catch(a){return s(a.message)}}),Ml=Ct("sharedResources/updateResource",async(e,t)=>{let{resourceId:n,updates:r,userId:s}=e,{rejectWithValue:a}=t;try{return await El.updateResource(n,r,s)}catch(i){return a(i.message)}}),zl=Ct("sharedResources/deleteResource",async(e,t)=>{let{resourceId:n,userId:r}=e,{rejectWithValue:s}=t;try{return await El.deleteResource(n,r),n}catch(a){return s(a.message)}}),Dl=Tt({name:"sharedResources",initialState:{resources:[],reservations:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(Pl.pending,e=>{e.loading=!0,e.error=null}).addCase(Pl.fulfilled,(e,t)=>{e.resources=t.payload,e.loading=!1}).addCase(Pl.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Il.fulfilled,(e,t)=>{e.reservations=t.payload}).addCase(Al.pending,e=>{e.loading=!0}).addCase(Al.fulfilled,(e,t)=>{e.resources.push(t.payload),e.loading=!1}).addCase(Al.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Tl.fulfilled,(e,t)=>{e.reservations.push(t.payload)}).addCase(Ol.fulfilled,(e,t)=>{const n=e.reservations.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.reservations[n]=t.payload)}).addCase(Rl.fulfilled,(e,t)=>{const n=e.reservations.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.reservations[n]=t.payload)}).addCase(Ll.fulfilled,(e,t)=>{const n=e.reservations.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.reservations[n]=t.payload)}).addCase(Ml.fulfilled,(e,t)=>{const n=e.resources.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.resources[n]=t.payload)}).addCase(zl.fulfilled,(e,t)=>{e.resources=e.resources.filter(e=>e.id!==t.payload)})}}),{clearError:Bl}=Dl.actions,Vl=Dl.reducer;const Ul=new class{async getBusinesses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=oi.from("businesses").select("\n        *,\n        owner:users!businesses_owner_id_fkey(id, name, avatar),\n        reviews:business_reviews(\n          *,\n          user:users!business_reviews_user_id_fkey(id, name, avatar)\n        ),\n        offers:business_offers(*)\n      ").eq("is_active",!0).order("created_at",{ascending:!1});e&&(n=n.eq("neighborhood_id",e)),t&&(n=n.eq("category",t));const{data:r,error:s}=await n;if(s)throw s;return r}async getBusinessById(e){const{data:t,error:n}=await oi.from("businesses").select("\n        *,\n        owner:users!businesses_owner_id_fkey(id, name, avatar, phone, email),\n        reviews:business_reviews(\n          *,\n          user:users!business_reviews_user_id_fkey(id, name, avatar)\n        ),\n        offers:business_offers(*)\n      ").eq("id",e).single();if(n)throw n;return t}async registerBusiness(e){const{data:t,error:n}=await oi.from("businesses").insert([{name:e.name,description:e.description,category:e.category,subcategory:e.subcategory,owner_id:e.ownerId,neighborhood_id:e.neighborhoodId,address:e.address,phone:e.phone,email:e.email,website:e.website||null,whatsapp:e.whatsapp||null,instagram:e.instagram||null,facebook:e.facebook||null,hours:e.hours||{},images:e.images||[],logo:e.logo||null,tags:e.tags||[],services:e.services||[],price_range:e.priceRange||"medio",accepts_cards:e.acceptsCards||!1,has_delivery:e.hasDelivery||!1,is_verified:!1,is_active:!0}]).select("*, owner:users!businesses_owner_id_fkey(id, name, avatar)").single();if(n)throw n;return t}async updateBusiness(e,t,n){const{data:r}=await oi.from("businesses").select("owner_id").eq("id",e).single();if(!r||r.owner_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("businesses").update(t).eq("id",e).select().single();if(a)throw a;return s}async addReview(e,t){const{data:n}=await oi.from("business_reviews").select("id").eq("business_id",e).eq("user_id",t.userId).single();if(n)throw new Error("Ya has dejado una rese\xf1a");const{data:r,error:s}=await oi.from("business_reviews").insert([{business_id:e,user_id:t.userId,rating:t.rating,comment:t.comment,images:t.images||[]}]).select("*, user:users!business_reviews_user_id_fkey(id, name, avatar)").single();if(s)throw s;return await oi.rpc("update_business_rating",{business_id:e}),r}async createOffer(e,t,n){const{data:r}=await oi.from("businesses").select("owner_id").eq("id",e).single();if(!r||r.owner_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("business_offers").insert([{business_id:e,title:t.title,description:t.description,discount:t.discount,valid_until:t.validUntil,code:t.code||null,terms:t.terms||null,is_active:!0}]).select().single();if(a)throw a;return s}async updateOffer(e,t,n){const{data:r}=await oi.from("business_offers").select("business_id, businesses!inner(owner_id)").eq("id",e).single();if(!r||r.businesses.owner_id!==n)throw new Error("No autorizado");const{data:s,error:a}=await oi.from("business_offers").update(t).eq("id",e).select().single();if(a)throw a;return s}async deleteOffer(e,t){const{data:n}=await oi.from("business_offers").select("business_id, businesses!inner(owner_id)").eq("id",e).single();if(!n||n.businesses.owner_id!==t)throw new Error("No autorizado");const{error:r}=await oi.from("business_offers").delete().eq("id",e);if(r)throw r;return!0}async searchBusinesses(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=oi.from("businesses").select("\n        *,\n        owner:users!businesses_owner_id_fkey(id, name, avatar)\n      ").eq("is_active",!0).ilike("name","%".concat(e,"%"));t.category&&(n=n.eq("category",t.category)),t.neighborhoodId&&(n=n.eq("neighborhood_id",t.neighborhoodId)),t.hasDelivery&&(n=n.eq("has_delivery",!0));const{data:r,error:s}=await n;if(s)throw s;return r}},ql=Ct("localBusiness/loadBusinesses",async(e,t)=>{let{neighborhoodId:n,category:r}=e,{rejectWithValue:s}=t;try{return await Ul.getBusinesses(n,r)}catch(a){return s(a.message)}}),Fl=Ct("localBusiness/registerBusiness",async(e,t)=>{let{rejectWithValue:n}=t;try{return await Ul.registerBusiness(e)}catch(r){return n(r.message)}}),Hl=Ct("localBusiness/addReview",async(e,t)=>{let{businessId:n,reviewData:r}=e,{rejectWithValue:s}=t;try{return{businessId:n,review:await Ul.addReview(n,r)}}catch(a){return s(a.message)}}),Wl=Ct("localBusiness/createOffer",async(e,t)=>{let{businessId:n,offerData:r,userId:s}=e,{rejectWithValue:a}=t;try{return{businessId:n,offer:await Ul.createOffer(n,r,s)}}catch(i){return a(i.message)}}),Gl=Ct("localBusiness/updateBusiness",async(e,t)=>{let{businessId:n,updates:r,userId:s}=e,{rejectWithValue:a}=t;try{return await Ul.updateBusiness(n,r,s)}catch(i){return a(i.message)}}),Zl=Ct("localBusiness/searchBusinesses",async(e,t)=>{let{searchTerm:n,filters:r}=e,{rejectWithValue:s}=t;try{return await Ul.searchBusinesses(n,r)}catch(a){return s(a.message)}}),Jl=Tt({name:"localBusiness",initialState:{businesses:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(ql.pending,e=>{e.loading=!0,e.error=null}).addCase(ql.fulfilled,(e,t)=>{e.businesses=t.payload,e.loading=!1}).addCase(ql.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Fl.pending,e=>{e.loading=!0}).addCase(Fl.fulfilled,(e,t)=>{e.businesses.push(t.payload),e.loading=!1}).addCase(Fl.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Hl.fulfilled,(e,t)=>{const n=e.businesses.find(e=>e.id===t.payload.businessId);n&&(n.reviews||(n.reviews=[]),n.reviews.push(t.payload.review),n.total_reviews=(n.total_reviews||0)+1)}).addCase(Wl.fulfilled,(e,t)=>{const n=e.businesses.find(e=>e.id===t.payload.businessId);n&&(n.offers||(n.offers=[]),n.offers.push(t.payload.offer))}).addCase(Gl.fulfilled,(e,t)=>{const n=e.businesses.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.businesses[n]=t.payload)}).addCase(Zl.fulfilled,(e,t)=>{e.businesses=t.payload})}}),{clearError:Kl}=Jl.actions,$l=Jl.reducer;var Yl=n(695),Xl=n.n(Yl);const Ql=Xl().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Xl().stopTimer),e.addEventListener("mouseleave",Xl().resumeTimer)}}),ec=e=>{Ql.fire({icon:"success",title:e})},tc=e=>{Ql.fire({icon:"error",title:e})},nc=e=>{Ql.fire({icon:"info",title:e})},rc=(e,t)=>Xl().fire({icon:"success",title:e,text:t,confirmButtonColor:"#1877f2",confirmButtonText:"OK"}),sc=(e,t)=>Xl().fire({icon:"error",title:e,text:t,confirmButtonColor:"#f02849",confirmButtonText:"OK"}),ac=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"S\xed",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"No";return Xl().fire({title:e,text:t,icon:"question",showCancelButton:!0,confirmButtonColor:"#1877f2",cancelButtonColor:"#65676b",confirmButtonText:n,cancelButtonText:r})},ic=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return Xl().fire({title:e,input:n,inputPlaceholder:t,showCancelButton:!0,confirmButtonColor:"#1877f2",cancelButtonColor:"#65676b",confirmButtonText:"Enviar",cancelButtonText:"Cancelar",inputValidator:e=>{if(!e)return"\xa1Necesitas escribir algo!"}})},oc=Ct("communityCalendar/loadCalendarEvents",async()=>{const e=localStorage.getItem("communityCalendar");return e?JSON.parse(e):[]}),lc=Ct("communityCalendar/createEvent",async(e,t)=>{let{eventData:n,user:r}=e,{getState:s}=t;if(!r)throw new Error("Usuario no autenticado");const a={id:Date.now(),title:n.title,description:n.description,type:n.type,date:n.date,startTime:n.startTime,endTime:n.endTime,location:n.location,organizerId:r.id,organizerName:r.name,organizerAvatar:r.avatar,neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,isRecurring:n.isRecurring||!1,recurrencePattern:n.recurrencePattern||null,maxAttendees:n.maxAttendees||null,attendees:[],reminders:n.reminders||[],images:n.images||[],tags:n.tags||[],isPublic:!1!==n.isPublic,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},{calendarEvents:i}=s().communityCalendar,o=[...i,a];return localStorage.setItem("communityCalendar",JSON.stringify(o)),ec("\xa1Evento creado exitosamente!"),a}),cc=Ct("communityCalendar/attendEvent",async(e,t)=>{let{eventId:n,user:r}=e,{getState:s,dispatch:a}=t;if(!r)throw new Error("Usuario no autenticado");const{calendarEvents:i}=s().communityCalendar,o=i.find(e=>e.id===n);if(!o)throw new Error("Evento no encontrado");const l=o.attendees.some(e=>e.id===r.id);if(!l&&o.maxAttendees&&o.attendees.length>=o.maxAttendees)throw new Error("Evento lleno");l||o.organizerId===r.id||a(Vi({userId:o.organizerId,type:"event_attendance",from:r.id,fromName:r.name,fromAvatar:r.avatar,eventId:n,message:"".concat(r.name,' confirm\xf3 asistencia a "').concat(o.title,'"'),read:!1}));const c=i.map(e=>e.id===n?z(z({},e),{},{attendees:l?e.attendees.filter(e=>e.id!==r.id):[...e.attendees,{id:r.id,name:r.name,avatar:r.avatar,confirmedAt:(new Date).toISOString()}]}):e);return localStorage.setItem("communityCalendar",JSON.stringify(c)),{eventId:n,userId:r.id,isAttending:l}}),dc=Ct("communityCalendar/updateEvent",async(e,t)=>{let{eventId:n,updates:r,user:s}=e,{getState:a}=t;if(!s)throw new Error("Usuario no autenticado");const{calendarEvents:i}=a().communityCalendar,o=i.find(e=>e.id===n);if(!o||o.organizerId!==s.id)throw new Error("No autorizado");const l=i.map(e=>e.id===n?z(z(z({},e),r),{},{updatedAt:(new Date).toISOString()}):e);return localStorage.setItem("communityCalendar",JSON.stringify(l)),ec("Evento actualizado"),{eventId:n,updates:r}}),uc=Ct("communityCalendar/deleteEvent",async(e,t)=>{let{eventId:n,user:r}=e,{getState:s}=t;if(!r)throw new Error("Usuario no autenticado");const{calendarEvents:a}=s().communityCalendar,i=a.find(e=>e.id===n);if(!i||i.organizerId!==r.id)throw new Error("No autorizado");const o=a.filter(e=>e.id!==n);return localStorage.setItem("communityCalendar",JSON.stringify(o)),ec("Evento eliminado"),n}),hc=Tt({name:"communityCalendar",initialState:{calendarEvents:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(oc.pending,e=>{e.loading=!0}).addCase(oc.fulfilled,(e,t)=>{e.calendarEvents=t.payload,e.loading=!1}).addCase(lc.fulfilled,(e,t)=>{e.calendarEvents.push(t.payload)}).addCase(cc.fulfilled,(e,t)=>{const n=e.calendarEvents.find(e=>e.id===t.payload.eventId);n&&(n.attendees=t.payload.isAttending?n.attendees.filter(e=>e.id!==t.payload.userId):[...n.attendees,t.meta.arg.user])}).addCase(dc.fulfilled,(e,t)=>{const n=e.calendarEvents.find(e=>e.id===t.payload.eventId);n&&Object.assign(n,t.payload.updates)}).addCase(uc.fulfilled,(e,t)=>{e.calendarEvents=e.calendarEvents.filter(e=>e.id!==t.payload)})}}),{clearError:pc}=hc.actions,mc=hc.reducer,fc=Ct("neighborhood/loadNeighborhoods",async()=>{const e=await fetch("/data/geo/unidades_vecinales_simple.geojson");return(await e.json()).features.map(e=>({id:e.properties.t_id_uv_ca,codigo:e.properties.uv_carto,nombre:e.properties.t_uv_nom,comuna:e.properties.t_com_nom,region:e.properties.t_reg_nom,personas:e.properties.PERSONAS||0,hogares:e.properties.HOGARES||0,geometry:e.geometry,properties:e.properties}))}),gc=Tt({name:"neighborhood",initialState:{neighborhoods:[],selectedNeighborhood:null,loading:!1,error:null},reducers:{setSelectedNeighborhood:(e,t)=>{e.selectedNeighborhood=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(fc.pending,e=>{e.loading=!0,e.error=null}).addCase(fc.fulfilled,(e,t)=>{e.neighborhoods=t.payload,e.loading=!1}).addCase(fc.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message})}}),{setSelectedNeighborhood:vc,clearError:yc}=gc.actions,bc=gc.reducer,xc=Ct("neighborhoods/loadList",async()=>{const e=localStorage.getItem("neighborhoods");return e?JSON.parse(e):[]}),wc=Ct("neighborhoods/add",async(e,t)=>{let{getState:n}=t;const{neighborhoods:r}=n().neighborhoods,s=[...r,z(z({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()})];return localStorage.setItem("neighborhoods",JSON.stringify(s)),s}),jc=Tt({name:"neighborhoods",initialState:{neighborhoods:[],loading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(xc.fulfilled,(e,t)=>{e.neighborhoods=t.payload,e.loading=!1}).addCase(wc.fulfilled,(e,t)=>{e.neighborhoods=t.payload})}}),{clearError:_c}=jc.actions,Nc=jc.reducer,Sc=Ct("neighborhoodExpansion/load",async()=>({neighborhoods:JSON.parse(localStorage.getItem("neighborhoods")||"[]"),stats:JSON.parse(localStorage.getItem("neighborhoodStats")||"{}")})),Cc=Tt({name:"neighborhoodExpansion",initialState:{neighborhoods:[],stats:{},recommendations:{},loading:!1},reducers:{},extraReducers:e=>{e.addCase(Sc.fulfilled,(e,t)=>{e.neighborhoods=t.payload.neighborhoods,e.stats=t.payload.stats,e.loading=!1})}}).reducer,kc=Ct("photos/load",async e=>({albums:JSON.parse(localStorage.getItem("albums_".concat(e))||"[]"),photos:JSON.parse(localStorage.getItem("photos_".concat(e))||"[]")})),Ec=Ct("photos/upload",async(e,t)=>{let{userId:n,photoData:r}=e,{getState:s}=t;const{photos:a}=s().photos,i=z(z({},r),{},{id:Date.now(),uploadedAt:(new Date).toISOString()}),o=[...a,i];return localStorage.setItem("photos_".concat(n),JSON.stringify(o)),ec("Foto subida exitosamente"),i}),Pc=Tt({name:"photos",initialState:{albums:[],photos:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(kc.fulfilled,(e,t)=>{e.albums=t.payload.albums,e.photos=t.payload.photos,e.loading=!1}).addCase(Ec.fulfilled,(e,t)=>{e.photos.push(t.payload)})}}).reducer,Ic=Ct("reports/load",async()=>JSON.parse(localStorage.getItem("reports")||"[]")),Ac=Ct("reports/create",async(e,t)=>{let{reportData:n,user:r}=e,{getState:s}=t;const{reports:a}=s().reports,i=z(z({},n),{},{id:Date.now(),reporterId:r.id,createdAt:(new Date).toISOString(),status:"pending"}),o=[...a,i];return localStorage.setItem("reports",JSON.stringify(o)),i}),Tc=Tt({name:"reports",initialState:{reports:[],blockedUsers:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Ic.fulfilled,(e,t)=>{e.reports=t.payload,e.loading=!1}).addCase(Ac.fulfilled,(e,t)=>{e.reports.push(t.payload)})}}).reducer,Oc=Ct("security/loadReports",async()=>JSON.parse(localStorage.getItem("securityReports")||"[]")),Rc=Ct("security/createReport",async(e,t)=>{let{reportData:n,user:r}=e,{getState:s}=t;const{reports:a}=s().security,i=z(z({},n),{},{id:Date.now(),reporterId:r.id,createdAt:(new Date).toISOString()}),o=[...a,i];return localStorage.setItem("securityReports",JSON.stringify(o)),i}),Lc=Tt({name:"security",initialState:{reports:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Oc.fulfilled,(e,t)=>{e.reports=t.payload,e.loading=!1}).addCase(Rc.fulfilled,(e,t)=>{e.reports.push(t.payload)})}}).reducer,Mc=Ct("moderation/load",async()=>({reports:JSON.parse(localStorage.getItem("moderationReports")||"[]"),moderators:JSON.parse(localStorage.getItem("moderators")||"[]")})),zc=Tt({name:"moderation",initialState:{reports:[],moderators:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Mc.fulfilled,(e,t)=>{e.reports=t.payload.reports,e.moderators=t.payload.moderators,e.loading=!1})}}).reducer,Dc=Ct("verification/load",async()=>JSON.parse(localStorage.getItem("verificationRequests")||"[]")),Bc=Ct("verification/submit",async(e,t)=>{let{requestData:n,user:r}=e,{getState:s}=t;const{requests:a}=s().verification,i=z(z({},n),{},{id:Date.now(),userId:r.id,status:"pending",createdAt:(new Date).toISOString()}),o=[...a,i];return localStorage.setItem("verificationRequests",JSON.stringify(o)),i}),Vc=Tt({name:"verification",initialState:{requests:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Dc.fulfilled,(e,t)=>{e.requests=t.payload,e.loading=!1}).addCase(Bc.fulfilled,(e,t)=>{e.requests.push(t.payload)})}}).reducer,Uc=Ct("communityActions/load",async()=>JSON.parse(localStorage.getItem("communityActions")||"[]")),qc=Ct("communityActions/create",async(e,t)=>{let{actionData:n,user:r}=e,{getState:s}=t;const{actions:a}=s().communityActions,i=z(z({},n),{},{id:Date.now(),creatorId:r.id,createdAt:(new Date).toISOString()}),o=[...a,i];return localStorage.setItem("communityActions",JSON.stringify(o)),i}),Fc=Tt({name:"communityActions",initialState:{actions:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Uc.fulfilled,(e,t)=>{e.actions=t.payload,e.loading=!1}).addCase(qc.fulfilled,(e,t)=>{e.actions.push(t.payload)})}}).reducer,Hc=Ct("localNeeds/load",async()=>JSON.parse(localStorage.getItem("localNeeds")||"[]")),Wc=Ct("localNeeds/create",async(e,t)=>{let{needData:n,user:r}=e,{getState:s}=t;const{needs:a}=s().localNeeds,i=z(z({},n),{},{id:Date.now(),creatorId:r.id,createdAt:(new Date).toISOString()}),o=[...a,i];return localStorage.setItem("localNeeds",JSON.stringify(o)),i}),Gc=Tt({name:"localNeeds",initialState:{needs:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Hc.fulfilled,(e,t)=>{e.needs=t.payload,e.loading=!1}).addCase(Wc.fulfilled,(e,t)=>{e.needs.push(t.payload)})}}).reducer,Zc=Ct("services/load",async()=>JSON.parse(localStorage.getItem("services")||"[]")),Jc=Tt({name:"services",initialState:{services:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Zc.fulfilled,(e,t)=>{e.services=t.payload,e.loading=!1})}}).reducer,Kc=Ct("gamification/load",async e=>({userStats:JSON.parse(localStorage.getItem("gamification_".concat(e))||"null"),leaderboard:JSON.parse(localStorage.getItem("leaderboard")||"[]")})),$c=Ct("gamification/awardPoints",async(e,t)=>{let{userId:n,points:r,reason:s}=e,{getState:a}=t;const{userStats:i}=a().gamification,o=z(z({},i),{},{points:((null===i||void 0===i?void 0:i.points)||0)+r});return localStorage.setItem("gamification_".concat(n),JSON.stringify(o)),o}),Yc=Tt({name:"gamification",initialState:{userStats:null,leaderboard:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Kc.fulfilled,(e,t)=>{e.userStats=t.payload.userStats,e.leaderboard=t.payload.leaderboard,e.loading=!1}).addCase($c.fulfilled,(e,t)=>{e.userStats=t.payload})}}).reducer,Xc=Ct("connections/load",async()=>JSON.parse(localStorage.getItem("connections")||"[]")),Qc=Ct("connections/sendRequest",async(e,t)=>{let{fromUserId:n,toUserId:r}=e,{getState:s}=t;const{connections:a}=s().connections,i={id:Date.now(),fromUserId:n,toUserId:r,status:"pending",createdAt:(new Date).toISOString()},o=[...a,i];return localStorage.setItem("connections",JSON.stringify(o)),i}),ed=Tt({name:"connections",initialState:{connections:[],loading:!1},reducers:{},extraReducers:e=>{e.addCase(Xc.fulfilled,(e,t)=>{e.connections=t.payload,e.loading=!1}).addCase(Qc.fulfilled,(e,t)=>{e.connections.push(t.payload)})}}).reducer,td=Tt({name:"app",initialState:{darkMode:JSON.parse(localStorage.getItem("friendbook_darkMode")||"false"),sidebarCollapsed:!1,language:"es",notifications:[],messages:[]},reducers:{toggleDarkMode:e=>{e.darkMode=!e.darkMode,localStorage.setItem("friendbook_darkMode",JSON.stringify(e.darkMode))},toggleSidebar:e=>{e.sidebarCollapsed=!e.sidebarCollapsed},setLanguage:(e,t)=>{e.language=t.payload}}}),{toggleDarkMode:nd,toggleSidebar:rd,setLanguage:sd}=td.actions,ad=td.reducer,id={key:"vecino-activo-root",storage:fn.A,whitelist:["auth"]},od={auth:yi,posts:zi,notifications:Qi,friends:co,groups:wo,events:To,messages:Go,projects:al,polls:ml,helpRequests:kl,sharedResources:Vl,localBusiness:$l,communityCalendar:mc,neighborhood:bc,neighborhoods:Nc,neighborhoodExpansion:Cc,photos:Pc,reports:Tc,security:Lc,moderation:zc,verification:Vc,communityActions:Fc,localNeeds:Gc,services:Jc,gamification:Yc,connections:ed,app:ad},ld=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=null!==e&&void 0!==e?e:{};let a=new ut;return t&&("boolean"===typeof t?a.push(at):a.push(it(t.extraArgument))),a},{reducer:n,middleware:r,devTools:s=!0,duplicateMiddlewareCheck:a=!0,preloadedState:i,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!et(n))throw new Error(Ut(1));l=nt(n)}c="function"===typeof r?r(t):t();let d=rt;s&&(d=lt(z({trace:!1},"object"===typeof s&&s)));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const s=e(n,r);let a=()=>{throw new Error($e(15))};const i={getState:s.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},o=t.map(e=>e(i));return a=rt(...o)(s.dispatch),z(z({},s),{},{dispatch:a})}}(...c),h=gt(u);return tt(l,i,d(..."function"===typeof o?o(h):h()))}({reducer:function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?Xt:e.stateReconciler),s=e.getStoredState||tn,a=void 0!==e.timeout?e.timeout:5e3,i=null,o=!1,l=!0,c=function(e){return e._persist.rehydrated&&i&&!l&&i.update(e),e};return function(d,u){var h=d||{},p=h._persist,m=ln(h,["_persist"]);if(u.type===Gt){var f=!1,g=function(t,n){f||(u.rehydrate(e.key,t,n),f=!0)};if(a&&setTimeout(function(){!f&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),l=!1,i||(i=Qt(e)),p)return an({},t(m,u),{_persist:p});if("function"!==typeof u.rehydrate||"function"!==typeof u.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return u.register(e.key),s(e).then(function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then(function(e){g(e)},function(e){g(void 0,e)})},function(e){g(void 0,e)}),an({},t(m,u),{_persist:{version:n,rehydrated:!1}})}if(u.type===Zt)return o=!0,u.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:qt).concat(e.key);return t.removeItem(n,rn)}(e)),an({},t(m,u),{_persist:p});if(u.type===Ft)return u.result(i&&i.flush()),an({},t(m,u),{_persist:p});if(u.type===Wt)l=!0;else if(u.type===Ht){if(o)return an({},m,{_persist:an({},p,{rehydrated:!0})});if(u.key===e.key){var v=t(m,u),y=u.payload,b=an({},!1!==r&&void 0!==y?r(y,d,v,e):v,{_persist:an({},p,{rehydrated:!0})});return c(b)}}if(!p)return t(d,u);var x=t(m,u);return x===m?d:c(an({},x,{_persist:p}))}}(id,(e,t)=>{"auth/logout"===t.type&&(fn.A.removeItem("persist:vecino-activo-root"),e=void 0);const n={};return Object.keys(od).forEach(r=>{var s;n[r]=od[r](null===(s=e)||void 0===s?void 0:s[r],t)}),n}),middleware:e=>e({serializableCheck:{ignoredActions:[Ft,Ht,Wt,Gt,Zt,Jt]}}).concat([]),devTools:!1}),cd=function(e,t,n){var r=n||!1,s=tt(mn,pn,t&&t.enhancer?t.enhancer:void 0),a=function(e){s.dispatch({type:Jt,key:e})},i=function(t,n,a){var i={type:Ht,payload:n,err:a,key:t};e.dispatch(i),s.dispatch(i),r&&o.getState().bootstrapped&&(r(),r=!1)},o=un({},s,{purge:function(){var t=[];return e.dispatch({type:Zt,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:Ft,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Wt})},persist:function(){e.dispatch({type:Gt,register:a,rehydrate:i})}});return t&&t.manualPersist||o.persist(),o}(ld);function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(this,arguments)}var ud;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ud||(ud={}));const hd="popstate";function pd(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function md(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function fd(e,t){return{usr:e.state,key:e.key,idx:t}}function gd(e,t,n,r){return void 0===n&&(n=null),dd({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?yd(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function vd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bd(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=ud.Pop,l=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){o=ud.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:vd(e);return n=n.replace(/ $/,"%20"),pd(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,i.replaceState(dd({},i.state,{idx:c}),""));let p={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hd,u),l=e,()=>{s.removeEventListener(hd,u),l=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=ud.Push;let r=gd(p.location,e,t);n&&n(r,e),c=d()+1;let u=fd(r,c),h=p.createHref(r);try{i.pushState(u,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(h)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o=ud.Replace;let r=gd(p.location,e,t);n&&n(r,e),c=d();let s=fd(r,c),u=p.createHref(r);i.replaceState(s,"",u),a&&l&&l({action:o,location:p.location,delta:0})},go:e=>i.go(e)};return p}var xd;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(xd||(xd={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function wd(e,t,n){return void 0===n&&(n="/"),jd(e,t,n,!1)}function jd(e,t,n,r){let s=Md(("string"===typeof t?yd(t):t).pathname||"/",n);if(null==s)return null;let a=_d(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=Ld(s);i=Od(a[o],e,r)}return i}function _d(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(pd(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=Hd([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(pd(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_d(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Td(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Nd(e.path))s(e,t,r);else s(e,t)}),t}function Nd(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=Nd(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const Sd=/^:[\w-]+$/,Cd=3,kd=2,Ed=1,Pd=10,Id=-2,Ad=e=>"*"===e;function Td(e,t){let n=e.split("/"),r=n.length;return n.some(Ad)&&(r+=Id),t&&(r+=kd),n.filter(e=>!Ad(e)).reduce((e,t)=>e+(Sd.test(t)?Cd:""===t?Ed:Pd),r)}function Od(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=Rd({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Rd({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:Hd([a,d.pathname]),pathnameBase:Wd(Hd([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=Hd([a,d.pathnameBase]))}return i}function Rd(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);md("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function Ld(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return md(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Md(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Dd(e,t){void 0===t&&(t="/");let n,{pathname:r,search:s="",hash:a=""}="string"===typeof e?yd(e):e;if(r)if(i=r,zd.test(i))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),md(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?Bd(r.substring(1),"/"):Bd(r,t)}else n=t;var i;return{pathname:n,search:Gd(s),hash:Zd(a)}}function Bd(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Vd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ud(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function qd(e,t){let n=Ud(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Fd(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=yd(e):(s=dd({},e),pd(!s.pathname||!s.pathname.includes("?"),Vd("?","pathname","search",s)),pd(!s.pathname||!s.pathname.includes("#"),Vd("#","pathname","hash",s)),pd(!s.search||!s.search.includes("#"),Vd("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=Dd(s,a),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Hd=e=>e.join("/").replace(/\/\/+/g,"/"),Wd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Zd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Jd(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Kd=["post","put","patch","delete"],$d=(new Set(Kd),["get",...Kd]);new Set($d),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}const Xd=e.createContext(null);const Qd=e.createContext(null);const eu=e.createContext(null);const tu=e.createContext(null);const nu=e.createContext({outlet:null,matches:[],isDataRoute:!1});const ru=e.createContext(null);function su(){return null!=e.useContext(tu)}function au(){return su()||pd(!1),e.useContext(tu).location}function iu(t){e.useContext(eu).static||e.useLayoutEffect(t)}function ou(){let{isDataRoute:t}=e.useContext(nu);return t?function(){let{router:t}=vu(fu.UseNavigateStable),n=bu(gu.UseNavigateStable),r=e.useRef(!1);return iu(()=>{r.current=!0}),e.useCallback(function(e,s){void 0===s&&(s={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Yd({fromRouteId:n},s)))},[t,n])}():function(){su()||pd(!1);let t=e.useContext(Xd),{basename:n,future:r,navigator:s}=e.useContext(eu),{matches:a}=e.useContext(nu),{pathname:i}=au(),o=JSON.stringify(qd(a,r.v7_relativeSplatPath)),l=e.useRef(!1);return iu(()=>{l.current=!0}),e.useCallback(function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void s.go(e);let a=Fd(e,JSON.parse(o),i,"path"===r.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:Hd([n,a.pathname])),(r.replace?s.replace:s.push)(a,r.state,r)},[n,s,o,i,t])}()}function lu(){let{matches:t}=e.useContext(nu),n=t[t.length-1];return n?n.params:{}}function cu(t,n,r,s){su()||pd(!1);let{navigator:a}=e.useContext(eu),{matches:i}=e.useContext(nu),o=i[i.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,u=au();if(n){var h;let e="string"===typeof n?yd(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||pd(!1),d=e}else d=u;let p=d.pathname||"/",m=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=wd(t,{pathname:m});let g=mu(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Hd([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Hd([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,s);return n&&g?e.createElement(tu.Provider,{value:{location:Yd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ud.Pop}},g):g}function du(){let t=function(){var t;let n=e.useContext(ru),r=yu(gu.UseRouteError),s=bu(gu.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[s]}(),n=Jd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}const uu=e.createElement(du,null);class hu extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(nu.Provider,{value:this.props.routeContext},e.createElement(ru.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pu(t){let{routeContext:n,match:r,children:s}=t,a=e.useContext(Xd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(nu.Provider,{value:n},s)}function mu(t,n,r,s){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==t){var i;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let o=t,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||pd(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((t,s,a)=>{let i,u=!1,h=null,p=null;var m;r&&(i=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||uu,c&&(d<0&&0===a?(m="route-fallback",!1||xu[m]||(xu[m]=!0),u=!0,p=null):d===a&&(u=!0,p=s.route.hydrateFallbackElement||null)));let f=n.concat(o.slice(0,a+1)),g=()=>{let n;return n=i?h:u?p:s.route.Component?e.createElement(s.route.Component,null):s.route.element?s.route.element:t,e.createElement(pu,{match:s,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?e.createElement(hu,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var fu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fu||{}),gu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gu||{});function vu(t){let n=e.useContext(Xd);return n||pd(!1),n}function yu(t){let n=e.useContext(Qd);return n||pd(!1),n}function bu(t){let n=function(){let t=e.useContext(nu);return t||pd(!1),t}(),r=n.matches[n.matches.length-1];return r.route.id||pd(!1),r.route.id}const xu={};function wu(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}t.startTransition;function ju(t){let{to:n,replace:r,state:s,relative:a}=t;su()||pd(!1);let{future:i,static:o}=e.useContext(eu),{matches:l}=e.useContext(nu),{pathname:c}=au(),d=ou(),u=Fd(n,qd(l,i.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(u);return e.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:a}),[d,h,a,r,s]),null}function _u(e){pd(!1)}function Nu(t){let{basename:n="/",children:r=null,location:s,navigationType:a=ud.Pop,navigator:i,static:o=!1,future:l}=t;su()&&pd(!1);let c=n.replace(/^\/*/,"/"),d=e.useMemo(()=>({basename:c,navigator:i,static:o,future:Yd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);"string"===typeof s&&(s=yd(s));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:f="default"}=s,g=e.useMemo(()=>{let e=Md(u,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:m,key:f},navigationType:a}},[c,u,h,p,m,f,a]);return null==g?null:e.createElement(eu.Provider,{value:d},e.createElement(tu.Provider,{children:r,value:g}))}function Su(e){let{children:t,location:n}=e;return cu(Cu(t),n)}new Promise(()=>{});e.Component;function Cu(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,(t,s)=>{if(!e.isValidElement(t))return;let a=[...n,s];if(t.type===e.Fragment)return void r.push.apply(r,Cu(t.props.children,a));t.type!==_u&&pd(!1),t.props.index&&t.props.children&&pd(!1);let i={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=Cu(t.props.children,a)),r.push(i)}),r}var ku=n(119),Eu=n.t(ku,2);function Pu(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(TN){}new Map;const Iu=t.startTransition;Eu.flushSync,t.useId;function Au(t){let{basename:n,children:r,future:s,window:a}=t,i=e.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),bd(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return gd("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:vd(t)},null,o)));let l=i.current,[c,d]=e.useState({action:l.action,location:l.location}),{v7_startTransition:u}=s||{},h=e.useCallback(e=>{u&&Iu?Iu(()=>d(e)):d(e)},[d,u]);return e.useLayoutEffect(()=>l.listen(h),[l,h]),e.useEffect(()=>wu(s),[s]),e.createElement(Nu,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Tu,Ou;function Ru(t){let n=e.useRef(Pu(t)),r=e.useRef(!1),s=au(),a=e.useMemo(()=>function(e,t){let n=Pu(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(s.search,r.current?null:n.current),[s.search]),i=ou(),o=e.useCallback((e,t)=>{const n=Pu("function"===typeof e?e(a):e);r.current=!0,i("?"+n,t)},[i,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tu||(Tu={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ou||(Ou={}));const Lu=e=>e.auth.user,Mu=e=>e.auth.isAuthenticated,zu=e=>e.auth.loading,Du=e=>e.auth.error,Bu=e=>e.auth.sessionExpired,Vu="friendbook_posts",Uu="friendbook_users",qu="friendbook_friends",Fu="friendbook_friend_requests",Hu="friendbook_comments",Wu="friendbook_reactions",Gu="friendbook_notifications",Zu="friendbook_current_user",Ju="friendbook_pages",Ku="friendbook_liked_pages",$u="friendbook_groups",Yu="friendbook_favorites",Xu="friendbook_search_history",Qu="vecino_neighborhoods",eh="vecino_connections",th="vecino_local_needs",nh="vecino_community_actions",rh="vecino_direct_messages",sh="vecino_reports",ah="vecino_moderators";const ih=new class{get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error getting ".concat(e," from localStorage:"),t),null}}set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.error("Error setting ".concat(e," in localStorage:"),n),!1}}remove(e){try{return localStorage.removeItem(e),!0}catch(t){return console.error("Error removing ".concat(e," from localStorage:"),t),!1}}clear(){try{return localStorage.clear(),!0}catch(e){return console.error("Error clearing localStorage:",e),!1}}getPosts(){return this.get(Vu)||[]}savePosts(e){return this.set(Vu,e)}addPost(e){const t=this.getPosts();return t.unshift(e),this.savePosts(t)}updatePost(e,t){const n=this.getPosts(),r=n.findIndex(t=>t.id===e);return-1!==r&&(n[r]=z(z({},n[r]),t),this.savePosts(n))}deletePost(e){const t=this.getPosts().filter(t=>t.id!==e);return this.savePosts(t)}getUsers(){return this.get(Uu)||[]}saveUsers(e){return this.set(Uu,e)}addUser(e){const t=this.getUsers();return t.push(e),this.saveUsers(t)}getUserByEmail(e){return this.getUsers().find(t=>t.email===e)}updateUser(e,t){const n=this.getUsers(),r=n.findIndex(t=>t.id===e);if(-1!==r){n[r]=z(z({},n[r]),t),this.saveUsers(n);const s=this.getCurrentUser();return s&&s.id===e&&this.setCurrentUser(z(z({},s),t)),!0}return!1}getCurrentUser(){return this.get(Zu)}setCurrentUser(e){return this.set(Zu,e)}clearCurrentUser(){return this.remove(Zu)}getFriends(e){return(this.get(qu)||{})[e]||[]}addFriend(e,t){const n=this.get(qu)||{};return n[e]||(n[e]=[]),n[e].includes(t)||n[e].push(t),n[t]||(n[t]=[]),n[t].includes(e)||n[t].push(e),this.set(qu,n)}removeFriend(e,t){const n=this.get(qu)||{};return n[e]&&(n[e]=n[e].filter(e=>e!==t)),n[t]&&(n[t]=n[t].filter(t=>t!==e)),this.set(qu,n)}isFriend(e,t){return this.getFriends(e).includes(t)}getFriendRequests(e){return(this.get(Fu)||{})[e]||[]}sendFriendRequest(e,t){const n=this.get(Fu)||{};n[t]||(n[t]=[]);const r={id:Date.now(),from:e,to:t,status:"pending",createdAt:(new Date).toISOString()};return n[t].push(r),this.set(Fu,n)}acceptFriendRequest(e,t){const n=this.get(Fu)||{},r=n[e]||[],s=r.find(e=>e.id===t);return!!s&&(this.addFriend(e,s.from),n[e]=r.filter(e=>e.id!==t),this.set(Fu,n),!0)}rejectFriendRequest(e,t){const n=this.get(Fu)||{},r=n[e]||[];return n[e]=r.filter(e=>e.id!==t),this.set(Fu,n)}getComments(e){return(this.get(Hu)||{})[e]||[]}addComment(e,t){const n=this.get(Hu)||{};return n[e]||(n[e]=[]),n[e].push(t),this.set(Hu,n)}deleteComment(e,t){const n=this.get(Hu)||{};return!!n[e]&&(n[e]=n[e].filter(e=>e.id!==t),this.set(Hu,n))}getReactions(e){return(this.get(Wu)||{})[e]||[]}addReaction(e,t){const n=this.get(Wu)||{};return n[e]||(n[e]=[]),n[e]=n[e].filter(e=>e.userId!==t.userId),n[e].push(t),this.set(Wu,n)}removeReaction(e,t){const n=this.get(Wu)||{};return!!n[e]&&(n[e]=n[e].filter(e=>e.userId!==t),this.set(Wu,n))}getNotifications(e){return(this.get(Gu)||{})[e]||[]}addNotification(e,t){const n=this.get(Gu)||{};return n[e]||(n[e]=[]),n[e].unshift(t),this.set(Gu,n)}markNotificationAsRead(e,t){const n=this.get(Gu)||{};if(n[e]){const r=n[e].find(e=>e.id===t);if(r)return r.read=!0,this.set(Gu,n)}return!1}markAllNotificationsAsRead(e){const t=this.get(Gu)||{};return!!t[e]&&(t[e].forEach(e=>e.read=!0),this.set(Gu,t))}getFavorites(e){return(this.get(Yu)||{})[e]||[]}addFavorite(e,t){const n=this.get(Yu)||{};return n[e]||(n[e]=[]),n[e].unshift(t),this.set(Yu,n)}removeFavorite(e,t){const n=this.get(Yu)||{};return!!n[e]&&(n[e]=n[e].filter(e=>e.id!==t),this.set(Yu,n))}isFavorite(e,t){return this.getFavorites(e).some(e=>e.id===t)}getSearchHistory(e){return(this.get(Xu)||{})[e]||[]}addSearchHistory(e,t){const n=this.get(Xu)||{};return n[e]||(n[e]=[]),n[e]=n[e].filter(e=>e!==t),n[e].unshift(t),n[e].length>10&&(n[e]=n[e].slice(0,10)),this.set(Xu,n)}clearSearchHistory(e){const t=this.get(Xu)||{};return t[e]=[],this.set(Xu,t)}getPages(){return this.get(Ju)||[]}savePages(e){return this.set(Ju,e)}getLikedPages(e){return(this.get(Ku)||{})[e]||[]}likePage(e,t){const n=this.get(Ku)||{};return n[e]||(n[e]=[]),!n[e].includes(t)&&(n[e].push(t),this.set(Ku,n))}unlikePage(e,t){const n=this.get(Ku)||{};return!!n[e]&&(n[e]=n[e].filter(e=>e!==t),this.set(Ku,n))}getGroups(){return this.get($u)||[]}saveGroups(e){return this.set($u,e)}getNeighborhoods(){return this.get(Qu)||[]}saveNeighborhoods(e){return this.set(Qu,e)}getConnections(){return this.get(eh)||[]}saveConnections(e){return this.set(eh,e)}getLocalNeeds(){return this.get(th)||[]}saveLocalNeeds(e){return this.set(th,e)}getCommunityActions(){return this.get(nh)||[]}saveCommunityActions(e){return this.set(nh,e)}getMessages(){return this.get(rh)||[]}saveMessages(e){return this.set(rh,e)}getReports(){return this.get(sh)||[]}saveReports(e){return this.set(sh,e)}getModerators(){return this.get(ah)||[]}saveModerators(e){return this.set(ah,e)}getUser(e){return this.getUsers().find(t=>t.id===e)}initializeMockData(){const e=this.getPages();if(e.length>0&&!e[0].slug){const t=e.map(e=>z(z({},e),{},{slug:e.slug||e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),image:e.image||e.avatar}));this.savePages(t)}const t=this.getGroups();if(t.length>0&&!t[0].slug){const e=t.map(e=>z(z({},e),{},{slug:e.slug||e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),image:e.image||e.avatar}));this.saveGroups(e)}if(0===this.getPages().length){const e=[{id:1,name:"Dise\xf1o Gr\xe1fico",slug:"diseno-grafico",category:"Arte y Dise\xf1o",likes:23,avatar:"https://i.pravatar.cc/150?img=30",image:"https://i.pravatar.cc/150?img=30",cover:"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=1200&h=400&fit=crop",description:"Comunidad de dise\xf1adores gr\xe1ficos",location:"Santiago, Chile",website:"disenografico.cl",verified:!1},{id:2,name:"Dise\xf1ador Web",slug:"disenador-web",category:"Tecnolog\xeda",likes:18,avatar:"https://i.pravatar.cc/150?img=31",image:"https://i.pravatar.cc/150?img=31",cover:"https://images.unsplash.com/photo-1547658719-da2b51169166?w=1200&h=400&fit=crop",description:"Dise\xf1o y desarrollo web profesional",location:"Santiago, Chile",website:"disenadorweb.cl",verified:!1},{id:3,name:"Desarrollador Web",slug:"desarrollador-web",category:"Tecnolog\xeda",likes:31,avatar:"https://i.pravatar.cc/150?img=32",image:"https://i.pravatar.cc/150?img=32",cover:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=1200&h=400&fit=crop",description:"Comunidad de desarrolladores web",location:"Santiago, Chile",website:"desarrolladorweb.cl",verified:!0},{id:4,name:"Experto SEO",slug:"experto-seo",category:"Marketing Digital",likes:15,avatar:"https://i.pravatar.cc/150?img=33",image:"https://i.pravatar.cc/150?img=33",cover:"https://images.unsplash.com/photo-1432888498266-38ffec3eaf0a?w=1200&h=400&fit=crop",description:"Optimizaci\xf3n para motores de b\xfasqueda",location:"Santiago, Chile",website:"expertoseo.cl",verified:!1},{id:5,name:"Dise\xf1ador UI/UX",slug:"disenador-ui-ux",category:"Dise\xf1o",likes:27,avatar:"https://i.pravatar.cc/150?img=34",image:"https://i.pravatar.cc/150?img=34",cover:"https://images.unsplash.com/photo-1559028012-481c04fa702d?w=1200&h=400&fit=crop",description:"Dise\xf1o de interfaces y experiencia de usuario",location:"Santiago, Chile",website:"uiuxdesign.cl",verified:!1},{id:6,name:"Fotograf\xeda Profesional",slug:"fotografia-profesional",category:"Arte",likes:42,avatar:"https://i.pravatar.cc/150?img=35",image:"https://i.pravatar.cc/150?img=35",cover:"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=1200&h=400&fit=crop",description:"Compartiendo momentos \xfanicos",location:"Santiago, Chile",website:"fotoprof.cl",verified:!0},{id:7,name:"Marketing Digital",slug:"marketing-digital",category:"Marketing",likes:36,avatar:"https://i.pravatar.cc/150?img=36",image:"https://i.pravatar.cc/150?img=36",cover:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1200&h=400&fit=crop",description:"Estrategias de marketing online",location:"Santiago, Chile",website:"marketingdigital.cl",verified:!1},{id:8,name:"Desarrollo M\xf3vil",slug:"desarrollo-movil",category:"Tecnolog\xeda",likes:19,avatar:"https://i.pravatar.cc/150?img=37",image:"https://i.pravatar.cc/150?img=37",cover:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=1200&h=400&fit=crop",description:"Apps para iOS y Android",location:"Santiago, Chile",website:"desarrollomovil.cl",verified:!1}];this.savePages(e)}if(0===this.getGroups().length){const e=[{id:1,name:"Grupo de Dise\xf1o",slug:"grupo-de-diseno",category:"Arte y Dise\xf1o",memberCount:12,members:[101,102,103,104,105],avatar:"https://i.pravatar.cc/150?img=40",image:"https://i.pravatar.cc/150?img=40",cover:"https://images.unsplash.com/photo-1558655146-9f40138edfeb?w=1200&h=400&fit=crop",description:"Comunidad para dise\xf1adores gr\xe1ficos, UI/UX y m\xe1s",location:"Santiago, Chile",isPrivate:!1,createdAt:"2024-01-15"},{id:2,name:"Fotograf\xeda",slug:"fotografia",category:"Arte",memberCount:8,members:[101,103,106,107],avatar:"https://i.pravatar.cc/150?img=41",image:"https://i.pravatar.cc/150?img=41",cover:"https://images.unsplash.com/photo-1452587925148-ce544e77e70d?w=1200&h=400&fit=crop",description:"Comparte tus fotos y aprende de otros fot\xf3grafos",location:"Santiago, Chile",isPrivate:!1,createdAt:"2024-02-20"},{id:3,name:"Desarrolladores Chile",slug:"desarrolladores-chile",category:"Tecnolog\xeda",memberCount:15,members:[101,102,104,108],avatar:"https://i.pravatar.cc/150?img=42",image:"https://i.pravatar.cc/150?img=42",cover:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=1200&h=400&fit=crop",description:"Grupo de desarrolladores de software en Chile",location:"Santiago, Chile",isPrivate:!1,createdAt:"2024-03-10"},{id:4,name:"Marketing Digital",slug:"marketing-digital-grupo",category:"Negocios",memberCount:6,members:[101,105],avatar:"https://i.pravatar.cc/150?img=43",image:"https://i.pravatar.cc/150?img=43",cover:"https://images.unsplash.com/photo-1553484771-371a605b060b?w=1200&h=400&fit=crop",description:"Aprende y comparte sobre marketing digital",location:"Santiago, Chile",isPrivate:!1,createdAt:"2024-01-25"},{id:5,name:"Vecinos de Chamisero",slug:"vecinos-de-chamisero",category:"Comunidad",memberCount:9,members:[101],avatar:"https://i.pravatar.cc/150?img=44",image:"https://i.pravatar.cc/150?img=44",cover:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=1200&h=400&fit=crop",description:"Comunidad del barrio de Chamisero",location:"Chamisero, Colina",isPrivate:!1,createdAt:"2024-02-01"}];this.saveGroups(e)}const n=this.get(Ku)||{};n[101]||(n[101]=[1,3,6],this.set(Ku,n)),this.migrateReactionsToVecinal()}migrateReactionsToVecinal(){const e=this.getPosts(),t=["\ud83d\ude0a","\ud83d\ude0d","\ud83d\ude2e","\ud83d\udc4d","\ud83d\udc4e","\ud83d\ude22","\ud83d\ude21"],n=["\ud83e\udd1d","\u2764\ufe0f","\ud83d\udc4f","\ud83d\udca1","\ud83d\ude4c"];let r=!1;const s=e.map(e=>{if(e.reactions&&e.reactions.some(e=>t.includes(e))){const s=e.reactions.map(e=>t.includes(e)?n[Math.floor(Math.random()*n.length)]:e);return r=!0,z(z({},e),{},{reactions:s})}return e});r&&(this.savePosts(s),console.log("\u2705 Reacciones migradas a formato vecinal"))}},oh=ih;var lh=n(414);const ch=(0,e.createContext)(),dh=()=>{const t=(0,e.useContext)(ch);if(!t)throw new Error("useApp must be used within an AppProvider");return t},uh=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)(()=>"true"===localStorage.getItem("friendbook_darkMode")),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([{id:1,user:"Josephin Water",message:"Hey! Como estas?",time:"hace 2 min",unread:!0,avatar:"https://i.pravatar.cc/40?img=8",online:!0,location:"Chamisero, Colina"},{id:2,user:"Carlos Mendoza",message:"Nos vemos ma\xf1ana!",time:"hace 1 hora",unread:!0,avatar:"https://i.pravatar.cc/40?img=11",online:!0,location:"Chamisero, Colina"},{id:3,user:"Maria Elena Rodriguez",message:"Gracias por la ayuda",time:"hace 3 horas",unread:!1,avatar:"https://i.pravatar.cc/40?img=5",online:!1,location:"Chamisero, Colina"},{id:4,user:"Roberto Carlos Gomez",message:"Excelente publicacion!",time:"hace 5 horas",unread:!1,avatar:"https://i.pravatar.cc/40?img=13",online:!1,location:"Chicureo, Colina"},{id:5,user:"Ana Maria Fernandez",message:"Pongamonos al dia pronto",time:"hace 1 dia",unread:!1,avatar:"https://i.pravatar.cc/40?img=9",online:!1,location:"Chamisero, Colina"}]);(0,e.useEffect)(()=>{if(r){const e=oh.getNotifications(r.id);o(e)}},[r]),(0,e.useEffect)(()=>{s?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[s]);const d=i.filter(e=>!e.read).length,u=l.filter(e=>e.unread).length,h={darkMode:s,toggleDarkMode:()=>{const e=!s;a(e),localStorage.setItem("friendbook_darkMode",e.toString())},notifications:i,markNotificationAsRead:e=>{r&&(oh.markNotificationAsRead(r.id,e),o(i.map(t=>t.id===e?z(z({},t),{},{read:!0}):t)))},markAllNotificationsAsRead:()=>{r&&(oh.markAllNotificationsAsRead(r.id),o(i.map(e=>z(z({},e),{},{read:!0}))))},addNotification:e=>{if(!r)return;const t=z(z({id:Date.now()},e),{},{read:!1,createdAt:(new Date).toISOString()});oh.addNotification(r.id,t),o([t,...i])},unreadNotificationsCount:d,messages:l,unreadMessagesCount:u};return(0,lh.jsx)(ch.Provider,{value:h,children:n})},hh=(0,e.createContext)(),ph=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!1),d=()=>{if(!r)return;const e=oh.getSearchHistory(r.id);o(e)},u={searchResults:s,searchHistory:i,loading:l,search:e=>{if(!e.trim())return void a([]);c(!0);const t=e.toLowerCase(),n=[...oh.getUsers().filter(e=>e.id!==(null===r||void 0===r?void 0:r.id)&&(e.name.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t)||e.bio&&e.bio.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t))).map(e=>({type:"user",id:e.id,name:e.name,avatar:e.avatar,subtitle:e.location||e.email,data:e})),...oh.getPosts().filter(e=>e.content.toLowerCase().includes(t)||e.hashtags&&e.hashtags.some(e=>e.toLowerCase().includes(t))).map(e=>({type:"post",id:e.id,name:e.content.substring(0,50)+"...",avatar:e.avatar,subtitle:"Por ".concat(e.author," - ").concat(e.time),data:e}))].slice(0,20);a(n),r&&(oh.addSearchHistory(r.id,e),d()),c(!1)},loadSearchHistory:d,clearSearchHistory:()=>{r&&(oh.clearSearchHistory(r.id),o([]))},getTrendingSearches:()=>["Fotograf\xeda","Dise\xf1o Web","Tutorial React","Consejos de viaje","Objetivos fitness","Recetas saludables","M\xfasica","Eventos","Grupos","P\xe1ginas"],clearResults:()=>a([])};return(0,lh.jsx)(hh.Provider,{value:u,children:n})},mh=(0,e.createContext)(),fh=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)(null);(0,e.useEffect)(()=>{r&&(l(),c())},[r]),(0,e.useEffect)(()=>{r&&i&&localStorage.setItem("activeConversation_".concat(r.id),JSON.stringify(i))},[i,r]);const l=()=>{const e=JSON.parse(localStorage.getItem("conversations")||"[]").filter(e=>e.participants.includes(r.id));a(e)},c=()=>{const e=localStorage.getItem("activeConversation_".concat(r.id));if(e)try{const t=JSON.parse(e),n=JSON.parse(localStorage.getItem("conversations")||"[]").find(e=>e.id===t.id);n&&o(n)}catch(t){console.error("Error loading active conversation:",t)}},d={conversations:s,activeConversation:i,setActiveConversation:o,createConversation:e=>{const t=JSON.parse(localStorage.getItem("conversations")||"[]"),n=t.find(t=>t.participants.includes(r.id)&&t.participants.includes(e));if(n)return n;const s={id:Date.now(),participants:[r.id,e],messages:[],createdAt:(new Date).toISOString(),lastMessage:null,lastMessageTime:null};return t.push(s),localStorage.setItem("conversations",JSON.stringify(t)),l(),s},sendMessage:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";const s=JSON.parse(localStorage.getItem("conversations")||"[]"),a=s.findIndex(t=>t.id===e);if(-1===a)return;const c={id:Date.now(),senderId:r.id,text:t,type:n,timestamp:(new Date).toISOString(),read:!1};if(s[a].messages.push(c),s[a].lastMessage=t,s[a].lastMessageTime=c.timestamp,localStorage.setItem("conversations",JSON.stringify(s)),l(),(null===i||void 0===i?void 0:i.id)===e){const e=s[a];o(e),localStorage.setItem("activeConversation_".concat(r.id),JSON.stringify(e))}return c},getMessages:e=>{const t=JSON.parse(localStorage.getItem("conversations")||"[]").find(t=>t.id===e);return(null===t||void 0===t?void 0:t.messages)||[]},markAsRead:e=>{const t=JSON.parse(localStorage.getItem("conversations")||"[]"),n=t.findIndex(t=>t.id===e);-1!==n&&(t[n].messages=t[n].messages.map(e=>e.senderId!==r.id?z(z({},e),{},{read:!0}):e),localStorage.setItem("conversations",JSON.stringify(t)),l())},deleteMessage:(e,t)=>{const n=JSON.parse(localStorage.getItem("conversations")||"[]"),r=n.findIndex(t=>t.id===e);-1!==r&&(n[r].messages=n[r].messages.filter(e=>e.id!==t),localStorage.setItem("conversations",JSON.stringify(n)),l())},getUnreadCount:()=>s.reduce((e,t)=>e+t.messages.filter(e=>e.senderId!==r.id&&!e.read).length,0),loadConversations:l,clearActiveConversation:()=>{o(null),r&&localStorage.removeItem("activeConversation_".concat(r.id))}};return(0,lh.jsx)(mh.Provider,{value:d,children:n})},gh=(0,e.createContext)(),vh=()=>{const t=(0,e.useContext)(gh);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},yh=t=>{let{children:n}=t;const[r,s]=(0,e.useState)(!1),[a,i]=(0,e.useState)(!1);return(0,lh.jsx)(gh.Provider,{value:{isRightSidebarCollapsed:r,setIsRightSidebarCollapsed:s,toggleRightSidebar:()=>{s(e=>!e)},isMobileSidebarOpen:a,setIsMobileSidebarOpen:i,toggleMobileSidebar:()=>{i(e=>!e)},closeMobileSidebar:()=>{i(!1)}},children:n})},bh=(0,e.createContext)(),xh=()=>{const t=(0,e.useContext)(bh);if(!t)throw new Error("useNeighborhood must be used within NeighborhoodProvider");return t},wh=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[o,l]=(0,e.useState)(null);(0,e.useEffect)(()=>{c()},[]);const c=async()=>{try{i(!0);const e=await fetch("/data/geo/unidades_vecinales_simple.geojson"),t=(await e.json()).features.map(e=>({id:e.properties.t_id_uv_ca,codigo:e.properties.uv_carto,nombre:e.properties.t_uv_nom,comuna:e.properties.t_com_nom,region:e.properties.t_reg_nom,personas:e.properties.PERSONAS||0,hogares:e.properties.HOGARES||0,geometry:e.geometry,properties:e.properties}));s(t),i(!1)}catch(e){console.error("Error loading neighborhoods:",e),i(!1)}},d={neighborhoods:r,loading:a,selectedNeighborhood:o,setSelectedNeighborhood:l,findNeighborhoodByCoords:(e,t)=>r.find(e=>!0),getNeighborhoodById:e=>r.find(t=>t.id===e)};return(0,lh.jsx)(bh.Provider,{value:d,children:n})},jh=(0,e.createContext)(),_h=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]);(0,e.useEffect)(()=>{i()},[]);const i=()=>{const e=JSON.parse(localStorage.getItem("securityReports")||"[]");if(0===e.length){const e=[{id:1,userId:1,userName:"Juan P\xe9rez",userAvatar:"https://i.pravatar.cc/100?img=11",type:"robo",title:"Intento de robo a veh\xedculo",description:"Rompieron vidrio de auto estacionado. Carabineros ya vino. Ojo con dejar cosas a la vista.",lat:-33.4489,lng:-70.6693,timestamp:new Date(Date.now()-72e5).toISOString(),neighborhoodId:null},{id:2,userId:2,userName:"Mar\xeda Gonz\xe1lez",userAvatar:"https://i.pravatar.cc/100?img=5",type:"sospechoso",title:"Persona sospechosa merodeando",description:"Persona merodeando hace 20 min, probando manillas de autos. Vest\xeda ropa oscura.",lat:-33.4495,lng:-70.67,timestamp:new Date(Date.now()-18e5).toISOString(),neighborhoodId:null},{id:3,userId:3,userName:"Carlos Mu\xf1oz",userAvatar:"https://i.pravatar.cc/100?img=12",type:"vehiculo",title:"Auto sospechoso",description:"Auto sin patente dando vueltas por la cuadra. Ya pas\xf3 3 veces.",lat:-33.448,lng:-70.6685,timestamp:new Date(Date.now()-18e6).toISOString(),neighborhoodId:null}];localStorage.setItem("securityReports",JSON.stringify(e)),a(e)}else a(e)},o={reports:s,createReport:e=>{const t=z({id:Date.now(),userId:null===r||void 0===r?void 0:r.id,userName:null===r||void 0===r?void 0:r.name,userAvatar:null===r||void 0===r?void 0:r.avatar,timestamp:(new Date).toISOString()},e),n=[t,...s];return a(n),localStorage.setItem("securityReports",JSON.stringify(n)),t},getReportsByNeighborhood:e=>s.filter(t=>t.neighborhoodId===e),getRecentReports:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24;const t=new Date,n=new Date(t.getTime()-60*e*60*1e3);return s.filter(e=>new Date(e.timestamp)>n)},loadReports:i};return(0,lh.jsx)(jh.Provider,{value:o,children:n})},Nh=(0,e.createContext)(),Sh=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]);(0,e.useEffect)(()=>{a()},[]);const a=()=>{const e=JSON.parse(localStorage.getItem("services")||"[]");if(0===e.length){const e=[{id:1,name:"Carlos Mu\xf1oz",category:"plomero",avatar:"https://i.pravatar.cc/100?img=11",rating:4.9,reviews:28,verified:!0,verifiedBy:18,yearsInNeighborhood:5,priceRange:"$$",availability:"Lun-S\xe1b 8am-6pm",phone:"+56 9 1234 5678",email:"carlos@plomeria.cl",description:"Plomero profesional con m\xe1s de 10 a\xf1os de experiencia",neighborhoodId:null},{id:2,name:"Ana Silva",category:"electricista",avatar:"https://i.pravatar.cc/100?img=5",rating:4.7,reviews:15,verified:!0,verifiedBy:12,yearsInNeighborhood:3,priceRange:"$$$",availability:"Lun-Vie 9am-7pm",phone:"+56 9 8765 4321",email:"ana@electricidad.cl",description:"Electricista certificada, trabajos residenciales y comerciales",neighborhoodId:null}];localStorage.setItem("services",JSON.stringify(e)),s(e)}else s(e)},i={services:r,addService:e=>{const t=z({id:Date.now(),rating:0,reviews:0,verified:!1,verifiedBy:0},e),n=[...r,t];return s(n),localStorage.setItem("services",JSON.stringify(n)),t},getServicesByCategory:e=>"all"===e?r:r.filter(t=>t.category===e),getServicesByNeighborhood:e=>r.filter(t=>t.neighborhoodId===e||!t.neighborhoodId),loadServices:a};return(0,lh.jsx)(Nh.Provider,{value:i,children:n})};function Ch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var kh=e=>Array.isArray(e)?e:[e];function Eh(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Ph="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ih(){return{s:0,v:void 0,o:null,p:null}}function Ah(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let s,a=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Ih(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Ih(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,d,u;const e=null!==(c=null===(d=s)||void 0===d||null===(u=d.deref)||void 0===u?void 0:u.call(d))&&void 0!==c?c:s;null!=e&&r(e,l)&&(l=e,0!==a&&a--);s="object"===typeof l&&null!==l||"function"===typeof l?new Ph(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function Th(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,i=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),Ch(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=z(z({},s),o),{memoize:d,memoizeOptions:u=[],argsMemoize:h=Ah,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,f=kh(u),g=kh(p),v=Eh(t),y=d(function(){return a++,l.apply(null,arguments)},...f);const b=h(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r},...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var Oh=Th(Ah),Rh=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oh;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Rh});const Lh=e=>e.friends.friends,Mh=e=>e.friends.friendRequests,zh=e=>e.friends.loading,Dh=e=>e.friends.error,Bh=Oh([Lh],e=>(null===e||void 0===e?void 0:e.length)||0),Vh=Oh([Mh],e=>(null===e||void 0===e?void 0:e.length)||0),Uh=(Oh([Lh,(e,t)=>t],(e,t)=>e.some(e=>e.id===t)),Oh([Mh,(e,t)=>t],(e,t)=>e.some(e=>e.fromUserId===t)),()=>{const e=w(),t=N(Lu);return{friends:N(Lh),friendRequests:N(Mh),loading:N(zh),error:N(Dh),friendsCount:N(Bh),pendingRequestsCount:N(Vh),loadFriends:()=>{t&&e(to(t.id))},loadFriendRequests:()=>{t&&e(no(t.id))},sendFriendRequest:async(n,r)=>{if(!t)return{success:!1,error:"Usuario no autenticado"};try{return await e(ro({fromUserId:t.id,toUserId:n})).unwrap(),e(Vi({userId:n,type:"friend_request",from:t.id,fromName:t.name,fromAvatar:t.avatar,message:"".concat(t.name," te envi\xf3 una solicitud de amistad"),read:!1})),ec("\xa1Solicitud de amistad enviada a ".concat(r,"!")),{success:!0}}catch(s){return nc("Ya enviaste una solicitud a este usuario"),{success:!1,error:s}}},acceptFriendRequest:async(n,r)=>{if(!t)return{success:!1,error:"Usuario no autenticado"};try{return await e(so({userId:t.id,fromUserId:n})).unwrap(),e(Vi({userId:n,type:"friend_accept",from:t.id,fromName:t.name,fromAvatar:t.avatar,message:"".concat(t.name," acept\xf3 tu solicitud de amistad"),read:!1})),ec("\xa1Ahora eres amigo de ".concat(r,"!")),{success:!0}}catch(s){return{success:!1,error:s}}},rejectFriendRequest:async n=>{if(!t)return{success:!1,error:"Usuario no autenticado"};try{return await e(ao({userId:t.id,fromUserId:n})).unwrap(),ec("Solicitud rechazada"),{success:!0}}catch(r){return{success:!1,error:r}}},removeFriend:async(n,r)=>{if(!t)return{success:!1,error:"Usuario no autenticado"};try{return await e(io({userId:t.id,friendId:n})).unwrap(),ec("".concat(r," eliminado de tus amigos")),{success:!0}}catch(s){return{success:!1,error:s}}},clearError:()=>{e(lo())}}}),qh=(0,e.createContext)(),Fh=t=>{let{children:n}=t;const r=N(Lu),s=Uh();(0,e.useEffect)(()=>{r&&(s.loadFriends(),s.loadFriendRequests())},[r]);const a=z(z({},s),{},{isFriend:e=>!!r&&oh.isFriend(r.id,e),getFriendSuggestions:()=>{if(!r)return[];const e=oh.getUsers(),t=oh.getFriends(r.id);return e.filter(e=>e.id!==r.id&&!t.includes(e.id)).slice(0,10)},searchFriends:e=>{if(!e.trim())return s.friends;const t=e.toLowerCase();return s.friends.filter(e=>e.name.toLowerCase().includes(t)||e.email&&e.email.toLowerCase().includes(t)||e.location&&e.location.toLowerCase().includes(t))},refreshFriends:s.loadFriends});return(0,lh.jsx)(qh.Provider,{value:a,children:n})},Hh=e=>e.events.allEvents,Wh=e=>e.events.myEvents,Gh=e=>e.events.loading,Zh=e=>e.events.error,Jh=Oh([Hh],e=>{if(!e)return[];const t=new Date;return e.filter(e=>new Date(e.date)>=t).sort((e,t)=>new Date(e.date)-new Date(t.date))}),Kh=Oh([Hh],e=>{if(!e)return[];const t=new Date;return e.filter(e=>new Date(e.date)<t).sort((e,t)=>new Date(t.date)-new Date(e.date))}),$h=Oh([Hh,(e,t)=>t],(e,t)=>null===e||void 0===e?void 0:e.find(e=>e.id===t)),Yh=(Oh([$h,(e,t,n)=>n],(e,t)=>{var n,r;return e?null!==(n=e.attendees)&&void 0!==n&&n.includes(t)?"going":null!==(r=e.interested)&&void 0!==r&&r.includes(t)?"interested":"not-going":null}),(0,e.createContext)()),Xh=t=>{let{children:n}=t;const r=N(Lu),s=(()=>{const e=w(),t=N(Lu),n=N(Hh),r=N(Wh),s=N(Gh),a=N(Zh),i=N(Jh),o=N(Kh),l=async(n,r)=>{if(!t)return!1;try{return await e(So({eventId:n,userId:t.id,status:r})).unwrap(),ec({going:"\xa1Confirmaste tu asistencia!",interested:"Marcado como interesado","not-going":"Asistencia cancelada"}[r]||"Estado actualizado"),!0}catch(a){return tc(a||"Error al actualizar RSVP"),!1}};return{events:n,myEvents:r,loading:s,error:a,upcomingEvents:i,pastEvents:o,loadEvents:()=>{t&&e(_o(t.id))},createEvent:async n=>{if(!t)return null;try{const r=await e(No({eventData:n,userId:t.id})).unwrap();return ec("\xa1Evento creado exitosamente!"),r}catch(a){return tc(a||"Error al crear evento"),null}},rsvpEvent:l,attendEvent:e=>l(e,"going"),cancelAttendance:e=>l(e,"not-going"),getUserRSVP:e=>{var r,s;const a=n.find(t=>t.id===e);return a&&t?null!==(r=a.attendees)&&void 0!==r&&r.includes(t.id)?"going":null!==(s=a.interested)&&void 0!==s&&s.includes(t.id)?"interested":"not-going":null},updateEvent:async(n,r)=>{if(!t)return!1;try{return await e(Co({eventId:n,updates:r,userId:t.id})).unwrap(),ec("Evento actualizado"),!0}catch(a){return tc(a||"Error al actualizar evento"),!1}},deleteEvent:async n=>{if(!t)return!1;try{return await e(ko({eventId:n,userId:t.id})).unwrap(),ec("Evento eliminado"),!0}catch(a){return tc(a||"Error al eliminar evento"),!1}},searchEvents:e=>{if(!e||!e.trim())return n;const t=e.toLowerCase();return n.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.location.toLowerCase().includes(t))},getUpcomingEvents:()=>i,getPastEvents:()=>o,clearError:()=>e(Io())}})();(0,e.useEffect)(()=>{r&&s.loadEvents()},[r]);const a=z(z({},s),{},{inviteToEvent:(e,t)=>{const n=JSON.parse(localStorage.getItem("notifications")||"[]");return n.push({id:Date.now(),userId:t,type:"event-invite",message:"te invit\xf3 a un evento",eventId:e,read:!1,createdAt:(new Date).toISOString()}),localStorage.setItem("notifications",JSON.stringify(n)),!0}});return(0,lh.jsx)(Yh.Provider,{value:a,children:n})},Qh=e=>e.groups.allGroups,ep=e=>e.groups.myGroups,tp=e=>e.groups.loading,np=e=>e.groups.error,rp=Oh([ep],e=>(null===e||void 0===e?void 0:e.length)||0),sp=Oh([Qh,ep],(e,t)=>{if(!e||!t)return[];const n=t.map(e=>e.id);return e.filter(e=>!n.includes(e.id))}),ap=Oh([Qh,(e,t)=>t],(e,t)=>null===e||void 0===e?void 0:e.find(e=>e.id===t)),ip=(Oh([ep,(e,t)=>t],(e,t)=>(null===e||void 0===e?void 0:e.some(e=>e.id===t))||!1),Oh([ap],e=>(null===e||void 0===e?void 0:e.posts)||[]),Oh([Qh,(e,t)=>t],(e,t)=>{if(!e)return[];if(!t||!t.trim())return e;const n=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n))}),(0,e.createContext)()),op=t=>{let{children:n}=t;const r=N(Lu),s=(()=>{const e=w(),t=N(Lu),n=N(Qh),r=N(ep),s=N(tp),a=N(np),i=N(rp),o=N(sp);return{groups:n,myGroups:r,loading:s,error:a,myGroupsCount:i,suggestedGroups:o,loadGroups:()=>{t&&e(ho(t.id))},createGroup:async n=>{if(!t)return tc("Debes iniciar sesi\xf3n"),null;try{const r=await e(po({groupData:n,userId:t.id})).unwrap();return ec("\xa1Grupo creado exitosamente!"),r}catch(a){return tc(a||"Error al crear grupo"),null}},joinGroup:async n=>{if(!t)return tc("Debes iniciar sesi\xf3n"),!1;try{return await e(fo({groupId:n,userId:t.id})).unwrap(),ec("\xa1Te has unido al grupo!"),!0}catch(a){return tc(a||"Error al unirse al grupo"),!1}},leaveGroup:async n=>{if(!t)return tc("Debes iniciar sesi\xf3n"),!1;try{return await e(go({groupId:n,userId:t.id})).unwrap(),ec("Has salido del grupo"),!0}catch(a){return tc(a||"Error al salir del grupo"),!1}},updateGroup:async(n,r)=>{if(!t)return tc("Debes iniciar sesi\xf3n"),!1;try{return await e(mo({groupId:n,updates:r,userId:t.id})).unwrap(),ec("Grupo actualizado"),!0}catch(a){return tc(a||"Error al actualizar grupo"),!1}},getGroupPosts:e=>{const t=n.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.posts)||[]},searchGroups:e=>{if(!e||!e.trim())return n;const t=e.toLowerCase();return n.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))},clearError:()=>{e(bo())}}})();(0,e.useEffect)(()=>{r&&s.loadGroups()},[r]);const a=z({},s);return(0,lh.jsx)(ip.Provider,{value:a,children:n})},lp=()=>{const e=w();return{user:N(Lu),isAuthenticated:N(Mu),loading:N(zu),error:N(Du),sessionExpired:N(Bu),login:async(t,n)=>{const r=await e(ci({email:t,password:n}));return ci.fulfilled.match(r)?{success:!0}:{success:!1,error:r.payload}},register:async t=>{const n=await e(di(t));return di.fulfilled.match(n)?{success:!0}:{success:!1,error:n.payload}},logout:()=>{console.log("\ud83d\udd35 handleLogout llamado"),e(pi()),console.log("\ud83d\udd35 Logout dispatch completado"),window.location.href="/iniciar-sesion"},updateUser:t=>{e(mi(t))},updateUserProfile:t=>{const n=e(mi(t));return mi.fulfilled.match(n)?{success:!0}:{success:!1,error:n.payload}},updateUserAvatar:t=>{e(fi(t))},verifyUserEmail:t=>{e(mi({emailVerified:!0,email:t}))},clearError:()=>{e(gi())},clearSessionExpired:()=>{e(vi())}}},cp=(0,e.createContext)(),dp=()=>{const t=(0,e.useContext)(cp);if(!t)throw new Error("useVerification must be used within VerificationProvider");return t},up=t=>{let{children:n}=t;const r=N(Lu),s=w(),{updateUser:a}=lp(),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{d()},[]);const d=()=>{const e=localStorage.getItem("verificationRequests");e&&o(JSON.parse(e))},u=e=>{localStorage.setItem("verificationRequests",JSON.stringify(e)),o(e)},h={verificationRequests:i,loading:l,requestVerification:async e=>{c(!0);try{const t={id:Date.now().toString(),userId:r.id,userName:r.name,userEmail:r.email,neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,documentType:e.documentType,documentNumber:e.documentNumber,address:e.address,proofImage:e.proofImage,additionalInfo:e.additionalInfo,status:"pending",requestDate:(new Date).toISOString(),reviewDate:null,reviewedBy:null,reviewNotes:null},n=[...i,t];return u(n),a(z(z({},r),{},{verificationStatus:"pending",verificationRequestId:t.id})),c(!1),{success:!0,request:t}}catch(t){return console.error("Error requesting verification:",t),c(!1),{success:!1,error:t.message}}},approveVerification:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=i.map(n=>n.id===e?z(z({},n),{},{status:"approved",reviewDate:(new Date).toISOString(),reviewedBy:r.id,reviewNotes:t}):n);u(n);const a=n.find(t=>t.id===e);if(a){const e=JSON.parse(localStorage.getItem("users")||"[]"),t=e.findIndex(e=>e.id===a.userId);-1!==t&&(e[t].isVerifiedNeighbor=!0,e[t].verifiedBy=r.id,e[t].verifiedDate=(new Date).toISOString(),e[t].verificationStatus="approved",localStorage.setItem("users",JSON.stringify(e)),s(Vi({userId:a.userId,type:"verification_approved",message:"\xa1Tu verificaci\xf3n ha sido aprobada! Ahora eres un Vecino Verificado",read:!1})))}return{success:!0}},rejectVerification:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=i.map(n=>n.id===e?z(z({},n),{},{status:"rejected",reviewDate:(new Date).toISOString(),reviewedBy:r.id,reviewNotes:t}):n);u(n);const a=n.find(t=>t.id===e);if(a){const e=JSON.parse(localStorage.getItem("users")||"[]"),n=e.findIndex(e=>e.id===a.userId);-1!==n&&(e[n].verificationStatus="rejected",localStorage.setItem("users",JSON.stringify(e)),s(Vi({userId:a.userId,type:"verification_rejected",message:"Tu solicitud de verificaci\xf3n fue rechazada. Motivo: ".concat(t||"No especificado"),read:!1})))}return{success:!0}},getUserVerificationRequest:()=>r?i.find(e=>e.userId===r.id&&"pending"===e.status):null,getPendingRequests:()=>i.filter(e=>"pending"===e.status),getVerificationStatus:e=>{if(!e)return null;const t=JSON.parse(localStorage.getItem("users")||"[]").find(t=>t.id===e);if(!t)return null;if(t.isVerifiedNeighbor)return{verified:!0,status:"approved",verifiedDate:t.verifiedDate};const n=i.find(t=>t.userId===e);return n?{verified:!1,status:n.status,requestDate:n.requestDate,reviewDate:n.reviewDate,reviewNotes:n.reviewNotes}:{verified:!1,status:null}}};return(0,lh.jsx)(cp.Provider,{value:h,children:n})},hp=(0,e.createContext)(),pp=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)([]);(0,e.useEffect)(()=>{l(),c()},[]);const l=()=>{const e=localStorage.getItem("reports");e&&a(JSON.parse(e))},c=()=>{const e=localStorage.getItem("blockedUsers");e&&o(JSON.parse(e))},d=e=>{localStorage.setItem("reports",JSON.stringify(e)),a(e)},u=e=>{localStorage.setItem("blockedUsers",JSON.stringify(e)),o(e)},h={reports:s,blockedUsers:i,reportContent:e=>{const t={id:Date.now().toString(),reporterId:r.id,reporterName:r.name,type:e.type,targetId:e.targetId,targetType:e.targetType,reason:e.reason,description:e.description,status:"pending",createdAt:(new Date).toISOString(),reviewedAt:null,reviewedBy:null,action:null},n=[...s,t];return d(n),{success:!0,report:t}},blockUser:e=>{if(!r)return{success:!1};const t={id:Date.now().toString(),blockerId:r.id,blockedUserId:e,createdAt:(new Date).toISOString()},n=[...i,t];return u(n),{success:!0}},unblockUser:e=>{const t=i.filter(t=>!(t.blockerId===r.id&&t.blockedUserId===e));return u(t),{success:!0}},isUserBlocked:e=>i.some(t=>t.blockerId===(null===r||void 0===r?void 0:r.id)&&t.blockedUserId===e),getBlockedUsers:()=>i.filter(e=>e.blockerId===(null===r||void 0===r?void 0:r.id)),reviewReport:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=s.map(s=>s.id===e?z(z({},s),{},{status:"reviewed",reviewedAt:(new Date).toISOString(),reviewedBy:r.id,action:t,reviewNotes:n}):s);return d(a),{success:!0}},getPendingReports:()=>s.filter(e=>"pending"===e.status),getUserReports:()=>s.filter(e=>e.reporterId===(null===r||void 0===r?void 0:r.id))};return(0,lh.jsx)(hp.Provider,{value:h,children:n})},mp=(0,e.createContext)(),fp=()=>{const t=(0,e.useContext)(mp);if(!t)throw new Error("useProjects must be used within ProjectsProvider");return t},gp=t=>{let{children:n}=t;const r=N(Lu),s=w(),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{c()},[]);const c=()=>{const e=localStorage.getItem("communityProjects");e&&i(JSON.parse(e)),l(!1)},d=e=>{localStorage.setItem("communityProjects",JSON.stringify(e)),i(e)},u={projects:a,loading:o,createProject:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.map(e=>e.slug),n=((e,t)=>{let n=e.toLowerCase().replace(/[^a-z0-9\xe1\xe9\xed\xf3\xfa\xf1\xfc\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),r=n,s=1;for(;t.includes(r);)r="".concat(n,"-").concat(s),s++;return r})(e.title,t),s={id:Date.now(),slug:n,title:e.title,description:e.description,category:e.category,status:"propuesta",creatorId:r.id,creatorName:r.name,creatorAvatar:r.avatar,neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,budget:e.budget||0,fundingGoal:e.fundingGoal||0,currentFunding:0,volunteers:[],votes:0,voters:[],updates:[],images:e.images||[],startDate:e.startDate||null,endDate:e.endDate||null,completionDate:null,priority:"media",tags:e.tags||[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},i=[...a,s];return d(i),ec("\xa1Proyecto creado exitosamente!"),{success:!0,project:s}},voteProject:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.map(t=>t.id===e?t.voters.includes(r.id)?z(z({},t),{},{votes:t.votes-1,voters:t.voters.filter(e=>e!==r.id)}):(t.creatorId!==r.id&&s(Vi({userId:t.creatorId,type:"project_vote",from:r.id,fromName:r.name,fromAvatar:r.avatar,projectId:e,message:"".concat(r.name,' vot\xf3 por tu proyecto "').concat(t.title,'"'),read:!1})),z(z({},t),{},{votes:t.votes+1,voters:[...t.voters,r.id]})):t);return d(t),{success:!0}},joinAsVolunteer:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.map(t=>{if(t.id===e){return t.volunteers.some(e=>e.id===r.id)?z(z({},t),{},{volunteers:t.volunteers.filter(e=>e.id!==r.id)}):(t.creatorId!==r.id&&s(Vi({userId:t.creatorId,type:"project_volunteer",from:r.id,fromName:r.name,fromAvatar:r.avatar,projectId:e,message:"".concat(r.name,' se uni\xf3 como voluntario a "').concat(t.title,'"'),read:!1})),z(z({},t),{},{volunteers:[...t.volunteers,{id:r.id,name:r.name,avatar:r.avatar,joinedAt:(new Date).toISOString()}]}))}return t});return d(t),ec("\xa1Te uniste como voluntario!"),{success:!0}},addProjectUpdate:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=a.map(n=>{if(n.id===e){const e={id:Date.now(),authorId:r.id,authorName:r.name,authorAvatar:r.avatar,content:t.content,images:t.images||[],createdAt:(new Date).toISOString()};return z(z({},n),{},{updates:[...n.updates,e],updatedAt:(new Date).toISOString()})}return n});return d(n),ec("Actualizaci\xf3n agregada"),{success:!0}},updateProjectStatus:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=a.map(n=>{if(n.id===e&&n.creatorId===r.id){const e={status:t,updatedAt:(new Date).toISOString()};return"completado"===t&&(e.completionDate=(new Date).toISOString()),z(z({},n),e)}return n});return d(n),{success:!0}},getProjectsByNeighborhood:e=>a.filter(t=>t.neighborhoodId===e),getProjectsByStatus:e=>a.filter(t=>t.status===e),getProjectsByCategory:e=>a.filter(t=>t.category===e),refreshProjects:c};return(0,lh.jsx)(mp.Provider,{value:u,children:n})},vp=(0,e.createContext)(),yp=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(w(),(0,e.useState)([])),[i,o]=(0,e.useState)(!0);(0,e.useEffect)(()=>{l()},[]);const l=()=>{const e=localStorage.getItem("communityPolls");if(e){const t=JSON.parse(e).map(e=>z(z({},e),{},{options:e.options.map(e=>z(z({},e),{},{voters:e.voters||[]}))}));a(t)}else{const e=[{id:1,title:"\xbfDeber\xedamos instalar c\xe1maras de seguridad en la entrada?",description:"Votaci\xf3n para decidir si instalamos un sistema de c\xe1maras de seguridad en la entrada principal del vecindario.",options:[{id:1,text:"S\xed, es necesario",votes:45,voters:[]},{id:2,text:"No, es muy costoso",votes:12,voters:[]},{id:3,text:"Necesito m\xe1s informaci\xf3n",votes:8,voters:[]}],totalVotes:65,endsAt:"2025-02-15",status:"active",creatorId:1,creatorName:"Admin",createdAt:(new Date).toISOString()},{id:2,title:"Horario para recolecci\xf3n de basura",description:"\xbfQu\xe9 horario prefieres para la recolecci\xf3n de basura?",options:[{id:1,text:"Ma\xf1ana (7:00 - 9:00)",votes:32,voters:[]},{id:2,text:"Tarde (14:00 - 16:00)",votes:28,voters:[]},{id:3,text:"Noche (19:00 - 21:00)",votes:15,voters:[]}],totalVotes:75,endsAt:"2025-02-10",status:"active",creatorId:1,creatorName:"Admin",createdAt:(new Date).toISOString()}];localStorage.setItem("communityPolls",JSON.stringify(e)),a(e)}o(!1)},c=e=>{localStorage.setItem("communityPolls",JSON.stringify(e)),a(e)},d={polls:s,loading:i,createPoll:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t={id:Date.now(),title:e.title,description:e.description,options:e.options.map((e,t)=>({id:t+1,text:e,votes:0,voters:[]})),totalVotes:0,endsAt:e.endsAt,status:"active",creatorId:r.id,creatorName:r.name,creatorAvatar:r.avatar,neighborhoodId:r.neighborhoodId,createdAt:(new Date).toISOString()},n=[...s,t];return c(n),ec("\xa1Votaci\xf3n creada exitosamente!"),{success:!0,poll:t}},vote:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=s.map(n=>{if(n.id===e){if(n.options.some(e=>e.voters.includes(r.id)))return n;const e=n.options.map(e=>e.id===t?z(z({},e),{},{votes:e.votes+1,voters:[...e.voters,r.id]}):e);return z(z({},n),{},{options:e,totalVotes:n.totalVotes+1})}return n});return c(n),ec("\xa1Voto registrado!"),{success:!0}},closePoll:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=s.map(t=>t.id===e&&t.creatorId===r.id?z(z({},t),{},{status:"closed"}):t);return c(t),{success:!0}},getUserVote:e=>{if(!r)return null;const t=s.find(t=>t.id===e);if(!t)return null;for(const n of t.options)if(n.voters&&n.voters.includes(r.id))return n.id;return null},refreshPolls:l};return(0,lh.jsx)(vp.Provider,{value:d,children:n})},bp=(0,e.createContext)(),xp=()=>{const t=(0,e.useContext)(bp);if(!t)throw new Error("useCommunityCalendar must be used within CommunityCalendarProvider");return t},wp=t=>{let{children:n}=t;const r=N(Lu),s=w(),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{c()},[]);const c=()=>{const e=localStorage.getItem("communityCalendar");e&&i(JSON.parse(e)),l(!1)},d=e=>{localStorage.setItem("communityCalendar",JSON.stringify(e)),i(e)},u={calendarEvents:a,loading:o,createEvent:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t={id:Date.now(),title:e.title,description:e.description,type:e.type,date:e.date,startTime:e.startTime,endTime:e.endTime,location:e.location,organizerId:r.id,organizerName:r.name,organizerAvatar:r.avatar,neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,isRecurring:e.isRecurring||!1,recurrencePattern:e.recurrencePattern||null,maxAttendees:e.maxAttendees||null,attendees:[],reminders:e.reminders||[],images:e.images||[],tags:e.tags||[],isPublic:!1!==e.isPublic,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},n=[...a,t];return d(n),ec("\xa1Evento creado exitosamente!"),{success:!0,event:t}},attendEvent:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.map(t=>{if(t.id===e){return t.attendees.some(e=>e.id===r.id)?z(z({},t),{},{attendees:t.attendees.filter(e=>e.id!==r.id)}):t.maxAttendees&&t.attendees.length>=t.maxAttendees?(ec("Evento lleno"),t):(t.organizerId!==r.id&&s(Vi({userId:t.organizerId,type:"event_attendance",from:r.id,fromName:r.name,fromAvatar:r.avatar,eventId:e,message:"".concat(r.name,' confirm\xf3 asistencia a "').concat(t.title,'"'),read:!1})),z(z({},t),{},{attendees:[...t.attendees,{id:r.id,name:r.name,avatar:r.avatar,confirmedAt:(new Date).toISOString()}]}))}return t});return d(t),{success:!0}},updateEvent:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=a.map(n=>n.id===e&&n.organizerId===r.id?z(z(z({},n),t),{},{updatedAt:(new Date).toISOString()}):n);return d(n),ec("Evento actualizado"),{success:!0}},deleteEvent:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.find(t=>t.id===e);if(!t||t.organizerId!==r.id)return{success:!1,error:"No tienes permiso"};const n=a.filter(t=>t.id!==e);return d(n),ec("Evento eliminado"),{success:!0}},getEventsByDate:e=>a.filter(t=>t.date===e),getEventsByMonth:(e,t)=>a.filter(n=>{const r=new Date(n.date);return r.getFullYear()===e&&r.getMonth()===t}),getEventsByNeighborhood:e=>a.filter(t=>t.neighborhoodId===e),getEventsByType:e=>a.filter(t=>t.type===e),getUpcomingEvents:()=>{const e=new Date;return a.filter(t=>new Date(t.date)>=e).sort((e,t)=>new Date(e.date)-new Date(t.date))},getMyEvents:()=>r?a.filter(e=>e.organizerId===r.id||e.attendees.some(e=>e.id===r.id)):[],refreshCalendar:c};return(0,lh.jsx)(bp.Provider,{value:u,children:n})},jp=(0,e.createContext)(),_p=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0);(0,e.useEffect)(()=>{l()},[]);const l=()=>{const e=localStorage.getItem("localBusinesses");e&&a(JSON.parse(e)),o(!1)},c=e=>{localStorage.setItem("localBusinesses",JSON.stringify(e)),a(e)},d={businesses:s,loading:i,registerBusiness:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t={id:Date.now(),name:e.name,description:e.description,category:e.category,subcategory:e.subcategory,ownerId:r.id,ownerName:r.name,ownerAvatar:r.avatar,neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,address:e.address,phone:e.phone,email:e.email,website:e.website||"",whatsapp:e.whatsapp||"",instagram:e.instagram||"",facebook:e.facebook||"",hours:e.hours||{},images:e.images||[],logo:e.logo||"",tags:e.tags||[],services:e.services||[],priceRange:e.priceRange||"medio",acceptsCards:e.acceptsCards||!1,hasDelivery:e.hasDelivery||!1,reviews:[],rating:0,totalReviews:0,offers:[],isVerified:!1,isActive:!0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},n=[...s,t];return c(n),ec("\xa1Negocio registrado exitosamente!"),{success:!0,business:t}},addReview:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=s.map(n=>{if(n.id===e){const e=n.reviews.some(e=>e.userId===r.id);if(e)return n;const s={id:Date.now(),userId:r.id,userName:r.name,userAvatar:r.avatar,rating:t.rating,comment:t.comment,images:t.images||[],createdAt:(new Date).toISOString()},a=[...n.reviews,s],i=a.reduce((e,t)=>e+t.rating,0),o=i/a.length;return z(z({},n),{},{reviews:a,rating:Math.round(10*o)/10,totalReviews:a.length,updatedAt:(new Date).toISOString()})}return n});return c(n),ec("\xa1Rese\xf1a publicada!"),{success:!0}},createOffer:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=s.map(n=>{if(n.id===e&&n.ownerId===r.id){const e={id:Date.now(),title:t.title,description:t.description,discount:t.discount,validUntil:t.validUntil,code:t.code||"",terms:t.terms||"",isActive:!0,createdAt:(new Date).toISOString()};return z(z({},n),{},{offers:[...n.offers,e],updatedAt:(new Date).toISOString()})}return n});return c(n),ec("\xa1Oferta creada!"),{success:!0}},updateBusiness:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=s.map(n=>n.id===e&&n.ownerId===r.id?z(z(z({},n),t),{},{updatedAt:(new Date).toISOString()}):n);return c(n),ec("Negocio actualizado"),{success:!0}},getBusinessesByNeighborhood:e=>s.filter(t=>t.neighborhoodId===e&&t.isActive),getBusinessesByCategory:e=>s.filter(t=>t.category===e&&t.isActive),searchBusinesses:e=>{const t=e.toLowerCase();return s.filter(e=>e.isActive&&(e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))))},getTopRatedBusinesses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return s.filter(e=>e.isActive&&e.totalReviews>0).sort((e,t)=>t.rating-e.rating).slice(0,e)},getMyBusinesses:()=>r?s.filter(e=>e.ownerId===r.id):[],refreshBusinesses:l};return(0,lh.jsx)(jp.Provider,{value:d,children:n})},Np=(0,e.createContext)(),Sp=t=>{let{children:n}=t;const r=N(Lu),s=w(),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)(!0);(0,e.useEffect)(()=>{u(),h()},[]);const u=()=>{const e=localStorage.getItem("sharedResources");e&&i(JSON.parse(e)),d(!1)},h=()=>{const e=localStorage.getItem("resourceReservations");e&&l(JSON.parse(e))},p=e=>{localStorage.setItem("sharedResources",JSON.stringify(e)),i(e)},m=e=>{localStorage.setItem("resourceReservations",JSON.stringify(e)),l(e)},f={resources:a,reservations:o,loading:c,addResource:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=a.map(e=>e.slug),n=((e,t)=>{let n=e.toLowerCase().replace(/[^a-z0-9\xe1\xe9\xed\xf3\xfa\xf1\xfc\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),r=n,s=1;for(;t.includes(r);)r="".concat(n,"-").concat(s),s++;return r})(e.name,t),s={id:Date.now(),slug:n,name:e.name,description:e.description,category:e.category,subcategory:e.subcategory,ownerId:r.id,ownerName:r.name,ownerAvatar:r.avatar,ownerPhone:r.phone||"",neighborhoodId:r.neighborhoodId,neighborhoodName:r.neighborhoodName,neighborhoodCode:r.neighborhoodCode,condition:e.condition||"bueno",images:e.images||[],requiresDeposit:e.requiresDeposit||!1,depositAmount:e.depositAmount||0,maxLoanDays:e.maxLoanDays||7,rules:e.rules||"",isAvailable:!0,totalLoans:0,rating:0,reviews:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},i=[...a,s];return p(i),ec("\xa1Recurso agregado exitosamente!"),{success:!0,resource:s}},reserveResource:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=a.find(t=>t.id===e);if(!n||!n.isAvailable)return{success:!1,error:"Recurso no disponible"};if(o.some(n=>n.resourceId===e&&"activa"===n.status&&(t.startDate>=n.startDate&&t.startDate<=n.endDate||t.endDate>=n.startDate&&t.endDate<=n.endDate)))return{success:!1,error:"Ya hay una reserva en esas fechas"};const i={id:Date.now(),resourceId:e,resourceName:n.name,ownerId:n.ownerId,ownerName:n.ownerName,borrowerId:r.id,borrowerName:r.name,borrowerAvatar:r.avatar,borrowerPhone:r.phone||"",startDate:t.startDate,endDate:t.endDate,purpose:t.purpose||"",status:"pendiente",depositPaid:!1,returnedInGoodCondition:null,borrowerRating:null,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},l=[...o,i];return m(l),s(Vi({userId:n.ownerId,type:"resource_request",from:r.id,fromName:r.name,fromAvatar:r.avatar,resourceId:e,reservationId:i.id,message:"".concat(r.name,' solicit\xf3 prestado "').concat(n.name,'"'),read:!1})),ec("\xa1Solicitud de pr\xe9stamo enviada!"),{success:!0,reservation:i}},approveReservation:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=o.map(t=>t.id===e&&t.ownerId===r.id?(s(Vi({userId:t.borrowerId,type:"resource_approved",from:r.id,fromName:r.name,fromAvatar:r.avatar,resourceId:t.resourceId,message:"".concat(r.name," aprob\xf3 tu solicitud de pr\xe9stamo"),read:!1})),z(z({},t),{},{status:"activa",updatedAt:(new Date).toISOString()})):t);return m(t),ec("Reserva aprobada"),{success:!0}},completeReservation:(e,t)=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const n=o.map(n=>n.id===e&&n.ownerId===r.id?z(z({},n),{},{status:"completada",returnedInGoodCondition:t.inGoodCondition,borrowerRating:t.rating,updatedAt:(new Date).toISOString()}):n);m(n);const s=a.map(t=>{const n=o.find(t=>t.id===e);return t.id===(null===n||void 0===n?void 0:n.resourceId)?z(z({},t),{},{totalLoans:t.totalLoans+1,isAvailable:!0}):t});return p(s),ec("Pr\xe9stamo completado"),{success:!0}},cancelReservation:e=>{if(!r)return{success:!1,error:"Usuario no autenticado"};const t=o.map(t=>t.id!==e||t.borrowerId!==r.id&&t.ownerId!==r.id?t:z(z({},t),{},{status:"cancelada",updatedAt:(new Date).toISOString()}));return m(t),ec("Reserva cancelada"),{success:!0}},getResourcesByNeighborhood:e=>a.filter(t=>t.neighborhoodId===e&&t.isAvailable),getResourcesByCategory:e=>a.filter(t=>t.category===e&&t.isAvailable),getMyResources:()=>r?a.filter(e=>e.ownerId===r.id):[],getMyReservations:()=>r?o.filter(e=>e.borrowerId===r.id):[],getPendingRequests:()=>r?o.filter(e=>e.ownerId===r.id&&"pendiente"===e.status):[],refreshResources:u};return(0,lh.jsx)(Np.Provider,{value:f,children:n})},Cp=(0,e.createContext)(),kp=()=>{const t=(0,e.useContext)(Cp);if(!t)throw new Error("useGamification must be used within GamificationProvider");return t},Ep=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)(null),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0);(0,e.useEffect)(()=>{r&&(d(),h())},[r]);const d=()=>{if(!r)return;const e=localStorage.getItem("userStats_".concat(r.id));if(e)a(JSON.parse(e));else{const e={userId:r.id,points:0,level:1,levelName:"Nuevo Vecino",badges:[],achievements:[],activities:{postsCreated:0,commentsCreated:0,projectsCreated:0,projectsCompleted:0,helpRequestsCreated:0,helpOffered:0,eventsAttended:0,eventsOrganized:0,resourcesShared:0,reviewsWritten:0,votesGiven:0},streak:{current:0,longest:0,lastActiveDate:null},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};a(e),u(e)}c(!1)},u=e=>{r&&(localStorage.setItem("userStats_".concat(r.id),JSON.stringify(e)),a(e))},h=()=>{const e=JSON.parse(localStorage.getItem("users")||"[]").map(e=>{const t=localStorage.getItem("userStats_".concat(e.id));if(t){const n=JSON.parse(t);return{userId:e.id,name:e.name,avatar:e.avatar,points:n.points,level:n.level,levelName:n.levelName,neighborhoodName:e.neighborhoodName}}return null}).filter(Boolean);e.sort((e,t)=>t.points-e.points),o(e)},p={POST_CREATED:5,COMMENT_CREATED:2,PROJECT_CREATED:50,PROJECT_COMPLETED:100,PROJECT_VOTE:1,HELP_REQUEST:10,HELP_OFFERED:20,HELP_COMPLETED:30,EVENT_CREATED:15,EVENT_ATTENDED:10,RESOURCE_SHARED:25,REVIEW_WRITTEN:5,DAILY_LOGIN:5},m=[{level:1,name:"Nuevo Vecino",minPoints:0},{level:2,name:"Vecino Activo",minPoints:100},{level:3,name:"Vecino Comprometido",minPoints:300},{level:4,name:"L\xedder Comunitario",minPoints:600},{level:5,name:"H\xe9roe Vecinal",minPoints:1e3}],f={FIRST_POST:{id:"first_post",name:"Primera Publicaci\xf3n",icon:"CreateIcon",description:"Creaste tu primera publicaci\xf3n"},SOCIAL_BUTTERFLY:{id:"social_butterfly",name:"Mariposa Social",icon:"GroupsIcon",description:"50 comentarios creados"},PROJECT_STARTER:{id:"project_starter",name:"Iniciador de Proyectos",icon:"RocketLaunchIcon",description:"Creaste tu primer proyecto"},PROJECT_MASTER:{id:"project_master",name:"Maestro de Proyectos",icon:"EmojiEventsIcon",description:"Completaste 5 proyectos"},GOOD_SAMARITAN:{id:"good_samaritan",name:"Buen Samaritano",icon:"VolunteerActivismIcon",description:"Ayudaste a 10 vecinos"},EVENT_ORGANIZER:{id:"event_organizer",name:"Organizador",icon:"CelebrationIcon",description:"Organizaste 5 eventos"},SHARING_IS_CARING:{id:"sharing_is_caring",name:"Compartir es Cuidar",icon:"CardGiftcardIcon",description:"Compartiste 10 recursos"},WEEK_STREAK:{id:"week_streak",name:"Racha Semanal",icon:"LocalFireDepartmentIcon",description:"7 d\xedas consecutivos activo"},MONTH_STREAK:{id:"month_streak",name:"Racha Mensual",icon:"StarIcon",description:"30 d\xedas consecutivos activo"},TOP_10:{id:"top_10",name:"Top 10",icon:"MilitaryTechIcon",description:"Entraste al top 10 del ranking"}},g=function(e){if(!r||!s)return;const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||p[e]||0,n=s.points+t;let a=s.level,i=s.levelName;for(let r=m.length-1;r>=0;r--)if(n>=m[r].minPoints){a=m[r].level,i=m[r].name;break}a>s.level&&ec("\xa1Subiste a nivel ".concat(a,": ").concat(i,"! \ud83c\udf89"));const o=z(z({},s),{},{points:n,level:a,levelName:i,updatedAt:(new Date).toISOString()});u(o),h()},v=e=>{const t=[];if(1!==e.activities.postsCreated||e.badges.includes("first_post")||t.push("first_post"),e.activities.commentsCreated>=50&&!e.badges.includes("social_butterfly")&&t.push("social_butterfly"),1!==e.activities.projectsCreated||e.badges.includes("project_starter")||t.push("project_starter"),e.activities.projectsCompleted>=5&&!e.badges.includes("project_master")&&t.push("project_master"),e.activities.helpOffered>=10&&!e.badges.includes("good_samaritan")&&t.push("good_samaritan"),e.activities.eventsOrganized>=5&&!e.badges.includes("event_organizer")&&t.push("event_organizer"),e.activities.resourcesShared>=10&&!e.badges.includes("sharing_is_caring")&&t.push("sharing_is_caring"),e.streak.current>=7&&!e.badges.includes("week_streak")&&t.push("week_streak"),e.streak.current>=30&&!e.badges.includes("month_streak")&&t.push("month_streak"),t.length>0){const n=z(z({},e),{},{badges:[...e.badges,...t]});u(n),t.forEach(e=>{const t=f[e.toUpperCase()];t&&ec("\xa1Nuevo badge desbloqueado: ".concat(t.icon," ").concat(t.name,"!"))})}},y={userStats:s,leaderboard:i,loading:l,BADGES:f,LEVELS:m,addPoints:g,updateActivity:e=>{if(!r||!s)return;const t=z(z({},s),{},{activities:z(z({},s.activities),{},{[e]:(s.activities[e]||0)+1}),updatedAt:(new Date).toISOString()});u(t),v(t)},updateStreak:()=>{if(!r||!s)return;const e=(new Date).toDateString(),t=s.streak.lastActiveDate;if(t===e)return;const n=new Date;n.setDate(n.getDate()-1);let a=1;t===n.toDateString()&&(a=s.streak.current+1);const i=z(z({},s),{},{streak:{current:a,longest:Math.max(a,s.streak.longest),lastActiveDate:e},updatedAt:(new Date).toISOString()});u(i),g("DAILY_LOGIN"),v(i)},getUserRank:()=>{if(!r)return null;const e=i.findIndex(e=>e.userId===r.id);return e>=0?e+1:null},getNeighborhoodLeaderboard:e=>i.filter(t=>t.neighborhoodId===e).slice(0,10),refreshStats:d,refreshLeaderboard:h};return(0,lh.jsx)(Cp.Provider,{value:y,children:n})},Pp=(0,e.createContext)(),Ip=t=>{let{children:n}=t;const r=N(Lu),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)([]);(0,e.useEffect)(()=>{if(r){const e=localStorage.getItem("albums_".concat(r.id)),t=localStorage.getItem("photos_".concat(r.id));if(e)a(JSON.parse(e));else{const e=[{id:1,title:"Fotos de Portada",count:0,image:"https://images.unsplash.com/photo-1511988617509-a57c8a288659?w=400&h=300&fit=crop",userId:r.id},{id:2,title:"Fotos de Perfil",count:0,image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=300&fit=crop",userId:r.id}];a(e),localStorage.setItem("albums_".concat(r.id),JSON.stringify(e))}t&&o(JSON.parse(t))}},[r]),(0,e.useEffect)(()=>{r&&s.length>0&&localStorage.setItem("albums_".concat(r.id),JSON.stringify(s))},[s,r]),(0,e.useEffect)(()=>{r&&i.length>0&&localStorage.setItem("photos_".concat(r.id),JSON.stringify(i))},[i,r]);const l={albums:s,photos:i,createAlbum:e=>{const t={id:Date.now(),title:e.title,description:e.description||"",count:0,image:"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=400&h=300&fit=crop",userId:r.id,createdAt:(new Date).toISOString()};return a([...s,t]),t},deleteAlbum:e=>{a(s.filter(t=>t.id!==e)),o(i.filter(t=>t.albumId!==e))},updateAlbum:(e,t)=>{a(s.map(n=>n.id===e?z(z({},n),t):n))},addPhoto:e=>{const t={id:Date.now(),title:e.title||"Sin t\xedtulo",description:e.description||"",image:e.image,albumId:e.albumId,userId:r.id,likes:0,comments:[],createdAt:(new Date).toISOString()};return o([...i,t]),e.albumId&&a(s.map(n=>n.id===e.albumId?z(z({},n),{},{count:n.count+1,image:t.image}):n)),t},deletePhoto:e=>{const t=i.find(t=>t.id===e);o(i.filter(t=>t.id!==e)),t&&t.albumId&&a(s.map(e=>e.id===t.albumId?z(z({},e),{},{count:Math.max(0,e.count-1)}):e))},updatePhoto:(e,t)=>{o(i.map(n=>n.id===e?z(z({},n),t):n))},getAlbumPhotos:e=>i.filter(t=>t.albumId===e),getAllPhotos:()=>i,likePhoto:e=>{o(i.map(t=>t.id===e?z(z({},t),{},{likes:t.likes+1}):t))},unlikePhoto:e=>{o(i.map(t=>t.id===e?z(z({},t),{},{likes:Math.max(0,t.likes-1)}):t))}};return(0,lh.jsx)(Pp.Provider,{value:l,children:n})},Ap=(0,e.createContext)(),Tp=()=>{const t=(0,e.useContext)(Ap);if(!t)throw new Error("useNeighborhoods must be used within a NeighborhoodsProvider");return t},Op=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=oh.getNeighborhoods();0===e.length?o():s(e),i(!1)},[]);const o=()=>{const e=[{id:"nh-001",name:"Chamisero",center:{latitude:-33.3,longitude:-70.7},radiusMeters:1e3,activeUsers:450,populationDensity:.45,state:"active",subNeighborhoods:[],parentNeighborhood:null,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()},{id:"nh-002",name:"Colina Centro",center:{latitude:-33.32,longitude:-70.72},radiusMeters:1200,activeUsers:520,populationDensity:.52,state:"active",subNeighborhoods:[],parentNeighborhood:null,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()},{id:"nh-003",name:"Chicureo",center:{latitude:-33.28,longitude:-70.68},radiusMeters:1500,activeUsers:380,populationDensity:.38,state:"active",subNeighborhoods:[],parentNeighborhood:null,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()}];oh.saveNeighborhoods(e),s(e)},l=(e,t)=>{let n=null,s=1/0;return r.forEach(r=>{const a=c(e,t,r.center.latitude,r.center.longitude);a<s&&(s=a,n=r)}),n},c=(e,t,n,r)=>{const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371e3*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},d={neighborhoods:r,loading:a,assignUserToNeighborhood:(e,t,n)=>{const r=l(t,n);return r?(oh.updateUser(e,{neighborhoodId:r.id,neighborhoodName:r.name,latitude:t,longitude:n}),r):null},findNearestNeighborhood:l,calculateDistance:c,getApproximateLocation:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return{latitude:e+n/111e3*(Math.random()-.5)*2,longitude:t+n/(111e3*Math.cos(e*Math.PI/180))*(Math.random()-.5)*2,radiusMeters:n}}};return(0,lh.jsx)(Ap.Provider,{value:d,children:n})},Rp=(0,e.createContext)(),Lp=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=oh.getConnections();s(e),i(!1)},[]);const o={connections:r,loading:a,sendConnectionRequest:(e,t)=>{if(r.find(n=>n.user1Id===e&&n.user2Id===t||n.user1Id===t&&n.user2Id===e))return{success:!1,error:"Ya existe una solicitud o conexi\xf3n"};const n={id:"conn-".concat(Date.now()),user1Id:e,user2Id:t,status:"pending",initiatedBy:e,createdAt:(new Date).toISOString(),respondedAt:null,sharedLocationConsent:!1},a=[...r,n];return oh.saveConnections(a),s(a),oh.addNotification(t,{id:"notif-".concat(Date.now()),type:"connection_request",fromUserId:e,message:"Te envi\xf3 una solicitud de conexi\xf3n",read:!1,createdAt:(new Date).toISOString()}),{success:!0,connection:n}},acceptConnectionRequest:(e,t)=>{const n=r.find(t=>t.id===e);if(!n)return{success:!1,error:"Conexi\xf3n no encontrada"};const a=r.map(t=>t.id===e?z(z({},t),{},{status:"accepted",respondedAt:(new Date).toISOString()}):t);oh.saveConnections(a),s(a);const i=n.user1Id===t?n.user2Id:n.user1Id;return oh.addNotification(i,{id:"notif-".concat(Date.now()),type:"connection_accepted",fromUserId:t,message:"Acept\xf3 tu solicitud de conexi\xf3n",read:!1,createdAt:(new Date).toISOString()}),{success:!0,connection:a.find(t=>t.id===e)}},rejectConnectionRequest:(e,t)=>{if(!r.find(t=>t.id===e))return{success:!1,error:"Conexi\xf3n no encontrada"};const n=r.filter(t=>t.id!==e);return oh.saveConnections(n),s(n),{success:!0}},getConnectionStatus:(e,t)=>{const n=r.find(n=>n.user1Id===e&&n.user2Id===t||n.user1Id===t&&n.user2Id===e);return(null===n||void 0===n?void 0:n.status)||null},getAcceptedConnections:e=>r.filter(t=>"accepted"===t.status&&(t.user1Id===e||t.user2Id===e)),getPendingRequests:e=>r.filter(t=>"pending"===t.status&&t.user2Id===e),blockUser:(e,t)=>{const n=r.find(n=>n.user1Id===e&&n.user2Id===t||n.user1Id===t&&n.user2Id===e);if(n){const t=r.map(t=>t.id===n.id?z(z({},t),{},{status:"blocked",blockedBy:e}):t);oh.saveConnections(t),s(t)}return{success:!0}}};return(0,lh.jsx)(Rp.Provider,{value:o,children:n})},Mp=(0,e.createContext)(),zp=()=>{const t=(0,e.useContext)(Mp);if(!t)throw new Error("useLocalNeeds must be used within a LocalNeedsProvider");return t},Dp=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=oh.getLocalNeeds();s(e),i(!1)},[]);const o=e=>{},l={needs:r,loading:a,createNeed:e=>{if(!e.type||!e.title||!e.description||!e.urgency)return{success:!1,error:"Faltan campos requeridos"};const t={id:"need-".concat(Date.now()),userId:e.userId,neighborhoodId:e.neighborhoodId,type:e.type,title:e.title,description:e.description,urgency:e.urgency,location:{latitude:e.latitude,longitude:e.longitude,radiusMeters:e.radiusMeters||500},requiredSkills:e.requiredSkills||[],responses:[],status:"active",resolution:null,createdAt:(new Date).toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),resolvedAt:null},n=[t,...r];return oh.saveLocalNeeds(n),s(n),o(t),{success:!0,need:t}},respondToNeed:(e,t,n)=>{const a=r.find(t=>t.id===e);if(!a)return{success:!1,error:"Necesidad no encontrada"};const i={id:"resp-".concat(Date.now()),userId:t,message:n,createdAt:(new Date).toISOString()},o=r.map(t=>t.id===e?z(z({},t),{},{responses:[...t.responses,i]}):t);return oh.saveLocalNeeds(o),s(o),oh.addNotification(a.userId,{id:"notif-".concat(Date.now()),type:"need_response",fromUserId:t,needId:e,message:"Alguien respondi\xf3 a tu solicitud",read:!1,createdAt:(new Date).toISOString()}),{success:!0,response:i}},resolveNeed:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!r.find(t=>t.id===e))return{success:!1,error:"Necesidad no encontrada"};const i=r.map(r=>r.id===e?z(z({},r),{},{status:"resolved",resolvedAt:(new Date).toISOString(),resolution:{resolverId:t,rating:n,comment:a}}):r);var o;(oh.saveLocalNeeds(i),s(i),n)&&oh.updateUser(t,{neighborHelpCount:((null===(o=oh.getCurrentUser())||void 0===o?void 0:o.neighborHelpCount)||0)+1});return{success:!0,need:i.find(t=>t.id===e)}},cancelNeed:e=>{const t=r.map(t=>t.id===e?z(z({},t),{},{status:"cancelled"}):t);return oh.saveLocalNeeds(t),s(t),{success:!0}},getActiveNeeds:e=>r.filter(t=>t.neighborhoodId===e&&"active"===t.status),getNeighborhoodNeeds:e=>r.filter(t=>t.neighborhoodId===e),getUserNeeds:e=>r.filter(t=>t.userId===e)};return(0,lh.jsx)(Mp.Provider,{value:l,children:n})},Bp=(0,e.createContext)(),Vp=()=>{const t=(0,e.useContext)(Bp);if(!t)throw new Error("useCommunityActions must be used within a CommunityActionsProvider");return t},Up=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=oh.getCommunityActions();s(e),i(!1)},[]);const o=e=>{},l={actions:r,loading:a,createAction:e=>{if(!e.title||!e.description||!e.startDate||!e.location)return{success:!1,error:"Faltan campos requeridos"};const t={id:"action-".concat(Date.now()),organizerId:e.organizerId,neighborhoodId:e.neighborhoodId,title:e.title,description:e.description,startDate:e.startDate,endDate:e.endDate,location:{latitude:e.location.latitude,longitude:e.location.longitude,name:e.location.name},requiredSkills:e.requiredSkills||[],participantLimit:e.participantLimit||null,participants:[],waitlist:[],photos:[],feedback:[],status:"planned",createdAt:(new Date).toISOString()},n=[t,...r];return oh.saveCommunityActions(n),s(n),o(t),{success:!0,action:t}},joinAction:(e,t)=>{const n=r.find(t=>t.id===e);if(!n)return{success:!1,error:"Acci\xf3n no encontrada"};if(n.participants.some(e=>e.userId===t))return{success:!1,error:"Ya est\xe1s participando en esta acci\xf3n"};const a=r.map(n=>{if(n.id===e){const e={userId:t,joinedAt:(new Date).toISOString(),status:"confirmed"};return n.participantLimit&&n.participants.length>=n.participantLimit?z(z({},n),{},{waitlist:[...n.waitlist,e]}):z(z({},n),{},{participants:[...n.participants,e]})}return n});return oh.saveCommunityActions(a),s(a),oh.addNotification(n.organizerId,{id:"notif-".concat(Date.now()),type:"action_participant_joined",fromUserId:t,actionId:e,message:"Alguien se uni\xf3 a tu acci\xf3n comunitaria",read:!1,createdAt:(new Date).toISOString()}),{success:!0,action:a.find(t=>t.id===e)}},leaveAction:(e,t)=>{if(!r.find(t=>t.id===e))return{success:!1,error:"Acci\xf3n no encontrada"};const n=r.map(n=>{if(n.id===e){const e=n.participants.filter(e=>e.userId!==t);let r=n.waitlist.filter(e=>e.userId!==t);if(r.length>0&&n.participantLimit&&e.length<n.participantLimit){const t=r[0];e.push(z(z({},t),{},{status:"confirmed"})),r=r.slice(1)}return z(z({},n),{},{participants:e,waitlist:r})}return n});return oh.saveCommunityActions(n),s(n),{success:!0}},completeAction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=r.map(r=>r.id===e?z(z({},r),{},{status:"completed",photos:t,feedback:n,completedAt:(new Date).toISOString()}):r);oh.saveCommunityActions(a),s(a);const i=a.find(t=>t.id===e);return i&&i.participants.forEach(e=>{var t;oh.updateUser(e.userId,{communityActionsParticipated:((null===(t=oh.getUser(e.userId))||void 0===t?void 0:t.communityActionsParticipated)||0)+1})}),{success:!0,action:i}},getNeighborhoodActions:e=>r.filter(t=>t.neighborhoodId===e&&"cancelled"!==t.status),getUpcomingActions:e=>{const t=new Date;return r.filter(n=>n.neighborhoodId===e&&"planned"===n.status&&new Date(n.startDate)>t).sort((e,t)=>new Date(e.startDate)-new Date(t.startDate))},getUserActions:e=>r.filter(t=>t.organizerId===e),getUserParticipations:e=>r.filter(t=>t.participants.some(t=>t.userId===e))};return(0,lh.jsx)(Bp.Provider,{value:l,children:n})},qp=e=>e.messages.messages,Fp=e=>e.messages.conversations,Hp=e=>e.messages.loading,Wp=e=>e.messages.error,Gp=Oh([qp,(e,t,n)=>({userId1:t,userId2:n})],(e,t)=>{let{userId1:n,userId2:r}=t;return e?e.filter(e=>e.senderId===n&&e.recipientId===r||e.senderId===r&&e.recipientId===n).sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp)):[]}),Zp=Oh([qp,(e,t)=>t],(e,t)=>e?e.filter(e=>e.recipientId===t&&!e.read).length:0),Jp=(Oh([Fp,(e,t)=>t],(e,t)=>e?e.filter(e=>e.user1Id===t||e.user2Id===t):[]),()=>{const t=w(),n=N(qp),r=N(Fp),s=N(Hp),a=N(Wp);(0,e.useEffect)(()=>{t(Lo())},[t]);const i=(0,e.useCallback)(async(e,n,r)=>{try{return{success:!0,message:await t(Mo({senderId:e,recipientId:n,content:r})).unwrap()}}catch(a){return{success:!1,error:a}}},[t]),o=(0,e.useCallback)((e,t)=>Gp({messages:{messages:n}},e,t),[n]),l=(0,e.useCallback)(async e=>{try{return await t(zo(e)).unwrap(),{success:!0}}catch(a){return{success:!1,error:a}}},[t]),c=(0,e.useCallback)(async(e,n)=>{try{return await t(Do({userId1:e,userId2:n})).unwrap(),{success:!0}}catch(a){return{success:!1,error:a}}},[t]),d=(0,e.useCallback)(e=>Zp({messages:{messages:n}},e),[n]),u=(0,e.useCallback)(async e=>{try{return await t(Bo(e)).unwrap(),{success:!0}}catch(a){return{success:!1,error:a}}},[t]),h=(0,e.useCallback)(()=>{t(Uo())},[t]);return{messages:n,conversations:r,loading:s,error:a,sendMessage:i,getConversation:o,markAsRead:l,markConversationAsRead:c,getUnreadCount:d,deleteMessage:u,clearError:h}}),Kp=(0,e.createContext)(),$p=()=>{const t=(0,e.useContext)(Kp);if(!t)throw new Error("useMessages must be used within a MessagesProvider");return t},Yp=e=>{let{children:t}=e;const n=Jp();return(0,lh.jsx)(Kp.Provider,{value:n,children:t})},Xp=(0,e.createContext)(),Qp=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=oh.getReports(),t=oh.getModerators();s(e),i(t),l(!1)},[]);const c={reports:r,moderators:a,loading:o,createReport:(e,t,n,a,i)=>{if(!a||!i.trim())return{success:!1,error:"Por favor completa todos los campos"};const o={id:"report-".concat(Date.now()),reporterUserId:e,contentId:t,contentType:n,reason:a,description:i,status:"pending",moderatorId:null,action:null,createdAt:(new Date).toISOString(),resolvedAt:null},l=[...r,o];return oh.saveReports(l),s(l),{success:!0,report:o}},assignToModerator:(e,t)=>{const n=r.map(n=>n.id===e?z(z({},n),{},{status:"reviewing",moderatorId:t}):n);return oh.saveReports(n),s(n),{success:!0}},resolveReport:function(e,t){const n=r.map(n=>n.id===e?z(z({},n),{},{status:"resolved",action:t,resolvedAt:(new Date).toISOString()}):n);if(oh.saveReports(n),s(n),"suspension"===t){const t=r.find(t=>t.id===e);t&&oh.updateUser(t.reporterUserId,{status:"suspended"})}return{success:!0}},rejectReport:e=>{const t=r.map(t=>t.id===e?z(z({},t),{},{status:"rejected",resolvedAt:(new Date).toISOString()}):t);return oh.saveReports(t),s(t),{success:!0}},getPendingReports:()=>r.filter(e=>"pending"===e.status),getModeratorReports:e=>r.filter(t=>t.moderatorId===e),addModerator:e=>{const t={id:"mod-".concat(Date.now()),userId:e,reputation:0,actionsCount:0,createdAt:(new Date).toISOString()},n=[...a,t];return oh.saveModerators(n),i(n),{success:!0,moderator:t}},removeModerator:e=>{const t=a.filter(t=>t.userId!==e);return oh.saveModerators(t),i(t),{success:!0}},updateModeratorReputation:(e,t)=>{const n=a.map(n=>n.userId===e?z(z({},n),{},{reputation:n.reputation+t,actionsCount:n.actionsCount+1}):n);oh.saveModerators(n),i(n)}};return(0,lh.jsx)(Xp.Provider,{value:c,children:n})},em=500,tm=5e3,nm=1,rm=3,sm=.5;const am=new class{calculateDynamicRadius(e){return e<em?rm:e>tm?sm:arguments.length>1&&void 0!==arguments[1]?arguments[1]:nm}shouldExpand(e){return e<em}shouldSplit(e){return e>tm}calculateDistance(e,t,n,r){const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}getAdjacentNeighborhoods(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rm;return e&&e.center?t.filter(t=>{if(t.id===e.id)return!1;return this.calculateDistance(e.center.lat,e.center.lon,t.center.lat,t.center.lon)<=n}):[]}getMultiNeighborhoodContent(e,t,n,r){const s=this.getAdjacentNeighborhoods(t,n,r).map(e=>e.id);return e.map(e=>{const r=e.neighborhoodId===t.id,a=s.includes(e.neighborhoodId);if(r)return z(z({},e),{},{origin:"current",originLabel:"Tu vecindario"});if(a){const t=n.find(t=>t.id===e.neighborhoodId);return z(z({},e),{},{origin:"adjacent",originLabel:"Desde ".concat((null===t||void 0===t?void 0:t.name)||"vecindario cercano"),originNeighborhood:t})}return e})}splitNeighborhood(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e||!e.center)return[e];const n=[],r=[{lat:sm/2,lon:sm/2},{lat:sm/2,lon:-sm/2},{lat:-sm/2,lon:sm/2},{lat:-sm/2,lon:-sm/2}];for(let s=0;s<Math.min(t,r.length);s++){const t=r[s];n.push({id:"".concat(e.id,"-sub-").concat(s),name:"".concat(e.name," - Zona ").concat(s+1),parentId:e.id,center:{lat:e.center.lat+t.lat,lon:e.center.lon+t.lon},radius:sm,userCount:0,createdAt:(new Date).toISOString()})}return n}getNeighborhoodStats(e,t){const n=t.filter(t=>t.neighborhood===e.name);return{neighborhoodId:e.id,neighborhoodName:e.name,userCount:n.length,shouldExpand:this.shouldExpand(n.length),shouldSplit:this.shouldSplit(n.length),dynamicRadius:this.calculateDynamicRadius(n.length),status:this.shouldExpand(n.length)?"expanding":this.shouldSplit(n.length)?"splitting":"normal"}}getRecommendations(e,t){const n=this.getNeighborhoodStats(e,t),r={stats:n,actions:[]};return n.shouldExpand&&r.actions.push({type:"expand",message:"Vecindario con pocos usuarios (".concat(n.userCount,"). Expandiendo radio de b\xfasqueda a ").concat(n.dynamicRadius,"km."),priority:"high"}),n.shouldSplit&&r.actions.push({type:"split",message:"Vecindario muy poblado (".concat(n.userCount," usuarios). Considerar dividir en sub-vecindarios."),priority:"medium"}),n.shouldExpand||n.shouldSplit||r.actions.push({type:"normal",message:"Vecindario en estado normal (".concat(n.userCount," usuarios)."),priority:"low"}),r}},im=(0,e.createContext)(),om=t=>{let{children:n}=t;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)({}),[o,l]=(0,e.useState)({}),[c,d]=(0,e.useState)(!0);(0,e.useEffect)(()=>{u()},[]);const u=()=>{d(!0);try{const e=oh.getNeighborhoods(),t=oh.getUsers();s(e);const n={},r={};e.forEach(e=>{const s=am.getNeighborhoodStats(e,t);n[e.id]=s;const a=am.getRecommendations(e,t);r[e.id]=a}),i(n),l(r)}catch(e){console.error("Error loading neighborhood data:",e)}finally{d(!1)}},h={neighborhoods:r,stats:a,recommendations:o,loading:c,getAdjacentNeighborhoods:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=r.find(t=>t.id===e);if(!s)return[];const i=n||(null===(t=a[e])||void 0===t?void 0:t.dynamicRadius)||1;return am.getAdjacentNeighborhoods(s,r,i)},getMultiNeighborhoodContent:function(e,t){var n;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=r.find(e=>e.id===t);if(!i)return e;const o=s||(null===(n=a[t])||void 0===n?void 0:n.dynamicRadius)||1;return am.getMultiNeighborhoodContent(e,i,r,o)},splitNeighborhood:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=r.find(t=>t.id===e);if(!n)return[];const a=am.splitNeighborhood(n,t),i=[...r,...a];return oh.saveNeighborhoods(i),s(i),a},getNeighborhoodStats:e=>a[e]||null,getRecommendations:e=>o[e]||null,calculateDistance:(e,t,n,r)=>am.calculateDistance(e,t,n,r),shouldExpand:e=>{var t;return(null===(t=a[e])||void 0===t?void 0:t.shouldExpand)||!1},shouldSplit:e=>{var t;return(null===(t=a[e])||void 0===t?void 0:t.shouldSplit)||!1},loadNeighborhoodData:u};return(0,lh.jsx)(im.Provider,{value:h,children:n})},lm=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{interval:r=3e3,select:s="*",filter:a=null,onInsert:i=null,onUpdate:o=null,onDelete:l=null,enabled:c=!0}=n,[d,u]=(0,e.useState)([]),[h,p]=(0,e.useState)(!0),[m,f]=(0,e.useState)(null),[g,v]=(0,e.useState)([]),y=(0,e.useCallback)((e,t)=>{const n=e.filter(e=>!t.some(t=>t.id===e.id)),r=e.filter(e=>{const n=t.find(t=>t.id===e.id);return n&&JSON.stringify(n)!==JSON.stringify(e)}),s=t.filter(t=>!e.some(e=>e.id===t.id));return{insertedRecords:n,updatedRecords:r,deletedRecords:s}},[]),b=(0,e.useCallback)(async()=>{try{let e=oi.from(t).select(s);a&&(e=e.filter(a.column,a.operator,a.value));const{data:n,error:r}=await e.order("created_at",{ascending:!1});if(r)throw r;if(g.length>0){const{insertedRecords:e,updatedRecords:r,deletedRecords:s}=y(n,g);e.forEach(e=>{console.log("\ud83c\udd95 INSERT detectado en ".concat(t,":"),e.id),i&&i(e)}),r.forEach(e=>{const n=g.find(t=>t.id===e.id);console.log("\ud83d\udcdd UPDATE detectado en ".concat(t,":"),e.id),o&&o(e,n)}),s.forEach(e=>{console.log("\ud83d\uddd1\ufe0f DELETE detectado en ".concat(t,":"),e.id),l&&l(e)})}u(n),v(n),f(null),p(!1)}catch(e){console.error("\u274c Error en polling ".concat(t,":"),e.message),f(e.message),p(!1)}},[t,s,a,g,i,o,l,y]);(0,e.useEffect)(()=>{if(!c)return;b();const e=setInterval(b,r);return()=>clearInterval(e)},[b,r,c]);return{data:d,loading:h,error:m,refresh:(0,e.useCallback)(()=>{b()},[b])}},cm=e=>e.notifications.items,dm=e=>e.notifications.loading,um=e=>e.notifications.unreadCount,hm=Oh([cm],e=>(null===e||void 0===e?void 0:e.filter(e=>!e.read))||[]),pm=(Oh([cm,(e,t)=>t],(e,t)=>(null===e||void 0===e?void 0:e.filter(e=>e.type===t))||[]),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enablePolling:n=!0,pollingInterval:r=2e3,showBrowserNotifications:s=!0,playSound:a=!0}=t,i=w(),o=N(Lu),l=N(cm),c=N(dm),d=N(um),u=N(hm),{data:h,error:p}=lm("notifications",{interval:r,enabled:n&&!(null===o||void 0===o||!o.id),filter:null!==o&&void 0!==o&&o.id?{column:"user_id",operator:"eq",value:o.id}:null,onInsert:(0,e.useCallback)(e=>{var t;if(console.log("\ud83d\udd14 Nueva notificaci\xf3n:",(null===(t=e.message)||void 0===t?void 0:t.substring(0,50))+"..."),i($i(e)),s&&"Notification"in window&&"granted"===Notification.permission){const t=new Notification("Nueva notificaci\xf3n",{body:e.message,icon:"/favicon.ico",tag:"notification-".concat(e.id),badge:"/favicon.ico"});setTimeout(()=>t.close(),5e3)}if(a)try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),t.frequency.setValueAtTime(600,e.currentTime+.1),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.2),t.start(e.currentTime),t.stop(e.currentTime+.2)}catch(n){console.log("No se pudo reproducir sonido de notificaci\xf3n:",n)}"setAppBadge"in navigator&&navigator.setAppBadge(d+1)},[i,s,a,d]),onUpdate:(0,e.useCallback)((e,t)=>{if(console.log("\ud83d\udcdd Notificaci\xf3n actualizada:",e.id),i(Yi(e)),!e.read&&null!==t&&void 0!==t&&t.read&&"setAppBadge"in navigator){const e=Math.max(0,d-1);0===e?navigator.clearAppBadge():navigator.setAppBadge(e)}},[i,d]),onDelete:(0,e.useCallback)(e=>{if(console.log("\ud83d\uddd1\ufe0f Notificaci\xf3n eliminada:",e.id),i(Xi(e.id)),!e.read&&"setAppBadge"in navigator){const e=Math.max(0,d-1);0===e?navigator.clearAppBadge():navigator.setAppBadge(e)}},[i,d])});(0,e.useEffect)(()=>{0===l.length&&!c&&null!==o&&void 0!==o&&o.id&&i(Bi())},[i,l.length,c,null===o||void 0===o?void 0:o.id]),(0,e.useEffect)(()=>{s&&"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[s]),(0,e.useEffect)(()=>{"setAppBadge"in navigator&&(d>0?navigator.setAppBadge(d):navigator.clearAppBadge())},[d]);const m={isPolling:n&&!(null===o||void 0===o||!o.id),interval:r,error:p,lastUpdate:(null===h||void 0===h?void 0:h.length)>0?(new Date).toISOString():null,userId:null===o||void 0===o?void 0:o.id};return{notifications:l,loading:c,unreadCount:d,unreadNotifications:u,addNotification:async e=>{const t=await i(Vi(e));return Vi.fulfilled.match(t)?{success:!0,notification:t.payload}:{success:!1,error:t.error.message}},markAsRead:async e=>{const t=await i(Ui(e));return Ui.fulfilled.match(t)?{success:!0}:{success:!1,error:t.error.message}},markAllAsRead:async()=>{const e=await i(qi());return qi.fulfilled.match(e)?{success:!0}:{success:!1,error:e.error.message}},clearError:()=>{i(Wi())},pollingStatus:m}});function mm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=mm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const fm=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=mm(e))&&(r&&(r+=" "),r+=t);return r};function gm(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function vm(e){if("string"!==typeof e)throw new Error(gm(7));return e.charAt(0).toUpperCase()+e.slice(1)}const ym=vm;function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(null,arguments)}var xm=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(TN){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),wm=Math.abs,jm=String.fromCharCode,_m=Object.assign;function Nm(e){return e.trim()}function Sm(e,t,n){return e.replace(t,n)}function Cm(e,t){return e.indexOf(t)}function km(e,t){return 0|e.charCodeAt(t)}function Em(e,t,n){return e.slice(t,n)}function Pm(e){return e.length}function Im(e){return e.length}function Am(e,t){return t.push(e),e}var Tm=1,Om=1,Rm=0,Lm=0,Mm=0,zm="";function Dm(e,t,n,r,s,a,i){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:Tm,column:Om,length:i,return:""}}function Bm(e,t){return _m(Dm("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vm(){return Mm=Lm>0?km(zm,--Lm):0,Om--,10===Mm&&(Om=1,Tm--),Mm}function Um(){return Mm=Lm<Rm?km(zm,Lm++):0,Om++,10===Mm&&(Om=1,Tm++),Mm}function qm(){return km(zm,Lm)}function Fm(){return Lm}function Hm(e,t){return Em(zm,e,t)}function Wm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gm(e){return Tm=Om=1,Rm=Pm(zm=e),Lm=0,[]}function Zm(e){return zm="",e}function Jm(e){return Nm(Hm(Lm-1,Ym(91===e?e+2:40===e?e+1:e)))}function Km(e){for(;(Mm=qm())&&Mm<33;)Um();return Wm(e)>2||Wm(Mm)>3?"":" "}function $m(e,t){for(;--t&&Um()&&!(Mm<48||Mm>102||Mm>57&&Mm<65||Mm>70&&Mm<97););return Hm(e,Fm()+(t<6&&32==qm()&&32==Um()))}function Ym(e){for(;Um();)switch(Mm){case e:return Lm;case 34:case 39:34!==e&&39!==e&&Ym(Mm);break;case 40:41===e&&Ym(e);break;case 92:Um()}return Lm}function Xm(e,t){for(;Um()&&e+Mm!==57&&(e+Mm!==84||47!==qm()););return"/*"+Hm(t,Lm-1)+"*"+jm(47===e?e:Um())}function Qm(e){for(;!Wm(qm());)Um();return Hm(e,Lm)}var ef="-ms-",tf="-moz-",nf="-webkit-",rf="comm",sf="rule",af="decl",of="@keyframes";function lf(e,t){for(var n="",r=Im(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function cf(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case af:return e.return=e.return||e.value;case rf:return"";case of:return e.return=e.value+"{"+lf(e.children,r)+"}";case sf:e.value=e.props.join(",")}return Pm(n=lf(e.children,r))?e.return=e.value+"{"+n+"}":""}function df(e){return Zm(uf("",null,null,null,[""],e=Gm(e),0,[0],e))}function uf(e,t,n,r,s,a,i,o,l){for(var c=0,d=0,u=i,h=0,p=0,m=0,f=1,g=1,v=1,y=0,b="",x=s,w=a,j=r,_=b;g;)switch(m=y,y=Um()){case 40:if(108!=m&&58==km(_,u-1)){-1!=Cm(_+=Sm(Jm(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:_+=Jm(y);break;case 9:case 10:case 13:case 32:_+=Km(m);break;case 92:_+=$m(Fm()-1,7);continue;case 47:switch(qm()){case 42:case 47:Am(pf(Xm(Um(),Fm()),t,n),l);break;default:_+="/"}break;case 123*f:o[c++]=Pm(_)*v;case 125*f:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==v&&(_=Sm(_,/\f/g,"")),p>0&&Pm(_)-u&&Am(p>32?mf(_+";",r,n,u-1):mf(Sm(_," ","")+";",r,n,u-2),l);break;case 59:_+=";";default:if(Am(j=hf(_,t,n,c,d,s,o,b,x=[],w=[],u),a),123===y)if(0===d)uf(_,t,j,j,x,a,u,o,w);else switch(99===h&&110===km(_,3)?100:h){case 100:case 108:case 109:case 115:uf(e,j,j,r&&Am(hf(e,j,j,0,0,s,o,b,s,x=[],u),w),s,w,u,o,r?x:w);break;default:uf(_,j,j,j,[""],w,0,o,w)}}c=d=p=0,f=v=1,b=_="",u=i;break;case 58:u=1+Pm(_),p=m;default:if(f<1)if(123==y)--f;else if(125==y&&0==f++&&125==Vm())continue;switch(_+=jm(y),y*f){case 38:v=d>0?1:(_+="\f",-1);break;case 44:o[c++]=(Pm(_)-1)*v,v=1;break;case 64:45===qm()&&(_+=Jm(Um())),h=qm(),d=u=Pm(b=_+=Qm(Fm())),y++;break;case 45:45===m&&2==Pm(_)&&(f=0)}}return a}function hf(e,t,n,r,s,a,i,o,l,c,d){for(var u=s-1,h=0===s?a:[""],p=Im(h),m=0,f=0,g=0;m<r;++m)for(var v=0,y=Em(e,u+1,u=wm(f=i[m])),b=e;v<p;++v)(b=Nm(f>0?h[v]+" "+y:Sm(y,/&\f/g,h[v])))&&(l[g++]=b);return Dm(e,t,n,0===s?sf:o,l,c,d)}function pf(e,t,n){return Dm(e,t,n,rf,jm(Mm),Em(e,2,-2),0)}function mf(e,t,n,r){return Dm(e,t,n,af,Em(e,0,r),Em(e,r+1,-1),r)}var ff=function(e,t,n){for(var r=0,s=0;r=s,s=qm(),38===r&&12===s&&(t[n]=1),!Wm(s);)Um();return Hm(e,Lm)},gf=function(e,t){return Zm(function(e,t){var n=-1,r=44;do{switch(Wm(r)){case 0:38===r&&12===qm()&&(t[n]=1),e[n]+=ff(Lm-1,t,n);break;case 2:e[n]+=Jm(r);break;case 4:if(44===r){e[++n]=58===qm()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=jm(r)}}while(r=Um());return e}(Gm(e),t))},vf=new WeakMap,yf=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vf.get(n))&&!r){vf.set(e,!0);for(var s=[],a=gf(t,s),i=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<i.length;c++,l++)e.props[l]=s[o]?a[o].replace(/&\f/g,i[c]):i[c]+" "+a[o]}}},bf=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xf(e,t){switch(function(e,t){return 45^km(e,0)?(((t<<2^km(e,0))<<2^km(e,1))<<2^km(e,2))<<2^km(e,3):0}(e,t)){case 5103:return nf+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nf+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nf+e+tf+e+ef+e+e;case 6828:case 4268:return nf+e+ef+e+e;case 6165:return nf+e+ef+"flex-"+e+e;case 5187:return nf+e+Sm(e,/(\w+).+(:[^]+)/,nf+"box-$1$2"+ef+"flex-$1$2")+e;case 5443:return nf+e+ef+"flex-item-"+Sm(e,/flex-|-self/,"")+e;case 4675:return nf+e+ef+"flex-line-pack"+Sm(e,/align-content|flex-|-self/,"")+e;case 5548:return nf+e+ef+Sm(e,"shrink","negative")+e;case 5292:return nf+e+ef+Sm(e,"basis","preferred-size")+e;case 6060:return nf+"box-"+Sm(e,"-grow","")+nf+e+ef+Sm(e,"grow","positive")+e;case 4554:return nf+Sm(e,/([^-])(transform)/g,"$1"+nf+"$2")+e;case 6187:return Sm(Sm(Sm(e,/(zoom-|grab)/,nf+"$1"),/(image-set)/,nf+"$1"),e,"")+e;case 5495:case 3959:return Sm(e,/(image-set\([^]*)/,nf+"$1$`$1");case 4968:return Sm(Sm(e,/(.+:)(flex-)?(.*)/,nf+"box-pack:$3"+ef+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nf+e+e;case 4095:case 3583:case 4068:case 2532:return Sm(e,/(.+)-inline(.+)/,nf+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pm(e)-1-t>6)switch(km(e,t+1)){case 109:if(45!==km(e,t+4))break;case 102:return Sm(e,/(.+:)(.+)-([^]+)/,"$1"+nf+"$2-$3$1"+tf+(108==km(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Cm(e,"stretch")?xf(Sm(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==km(e,t+1))break;case 6444:switch(km(e,Pm(e)-3-(~Cm(e,"!important")&&10))){case 107:return Sm(e,":",":"+nf)+e;case 101:return Sm(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nf+(45===km(e,14)?"inline-":"")+"box$3$1"+nf+"$2$3$1"+ef+"$2box$3")+e}break;case 5936:switch(km(e,t+11)){case 114:return nf+e+ef+Sm(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nf+e+ef+Sm(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nf+e+ef+Sm(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nf+e+ef+e+e}return e}var wf=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case af:e.return=xf(e.value,e.length);break;case of:return lf([Bm(e,{value:Sm(e.value,"@","@"+nf)})],r);case sf:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lf([Bm(e,{props:[Sm(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return lf([Bm(e,{props:[Sm(t,/:(plac\w+)/,":"+nf+"input-$1")]}),Bm(e,{props:[Sm(t,/:(plac\w+)/,":-moz-$1")]}),Bm(e,{props:[Sm(t,/:(plac\w+)/,ef+"input-$1")]})],r)}return""})}}],jf=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,s,a=e.stylisPlugins||wf,i={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;o.push(e)});var l,c,d=[cf,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=Im(e);return function(n,r,s,a){for(var i="",o=0;o<t;o++)i+=e[o](n,r,s,a)||"";return i}}([yf,bf].concat(a,d));s=function(e,t,n,r){l=n,lf(df(e?e+"{"+t.styles+"}":t.styles),u),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new xm({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return h.sheet.hydrate(o),h};var _f={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Nf(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Sf=/[A-Z]|^ms/g,Cf=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kf=function(e){return 45===e.charCodeAt(1)},Ef=function(e){return null!=e&&"boolean"!==typeof e},Pf=Nf(function(e){return kf(e)?e:e.replace(Sf,"-$&").toLowerCase()}),If=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Cf,function(e,t,n){return Tf={name:t,styles:n,next:Tf},t})}return 1===_f[e]||kf(e)||"number"!==typeof t||0===t?t:t+"px"};function Af(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var s=n;if(1===s.anim)return Tf={name:s.name,styles:s.styles,next:Tf},s.name;var a=n;if(void 0!==a.styles){var i=a.next;if(void 0!==i)for(;void 0!==i;)Tf={name:i.name,styles:i.styles,next:Tf},i=i.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Af(e,t,n[s])+";";else for(var a in n){var i=n[a];if("object"!==typeof i){var o=i;null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ef(o)&&(r+=Pf(a)+":"+If(a,o)+";")}else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Af(e,t,i);switch(a){case"animation":case"animationName":r+=Pf(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var c=0;c<i.length;c++)Ef(i[c])&&(r+=Pf(a)+":"+If(a,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Tf,l=n(e);return Tf=o,Af(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var Tf,Of=/label:\s*([^\s;{]+)\s*(;|$)/g;function Rf(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,s="";Tf=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,s+=Af(n,t,a)):s+=a[0];for(var i=1;i<e.length;i++){if(s+=Af(n,t,e[i]),r)s+=a[i]}Of.lastIndex=0;for(var o,l="";null!==(o=Of.exec(s));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,s=e.length;s>=4;++r,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(s)+l;return{name:c,styles:s,next:Tf}}var Lf=!!t.useInsertionEffect&&t.useInsertionEffect,Mf=Lf||function(e){return e()},zf=(Lf||e.useLayoutEffect,e.createContext("undefined"!==typeof HTMLElement?jf({key:"css"}):null)),Df=(zf.Provider,function(t){return(0,e.forwardRef)(function(n,r){var s=(0,e.useContext)(zf);return t(n,s,r)})}),Bf=e.createContext({});var Vf=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Uf=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qf=Nf(function(e){return Uf.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),Ff=function(e){return"theme"!==e},Hf=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?qf:Ff},Wf=function(e,t,n){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(t){return e.__emotion_forwardProp(t)&&s(t)}:s}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Gf=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Vf(t,n,r),Mf(function(){return function(e,t,n){Vf(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next}while(void 0!==s)}}(t,n,r)}),null},Zf=function t(n,r){var s,a,i=n.__emotion_real===n,o=i&&n.__emotion_base||n;void 0!==r&&(s=r.label,a=r.target);var l=Wf(n,r,i),c=l||Hf(o),d=!c("as");return function(){var u=arguments,h=i&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==s&&h.push("label:"+s+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{var p=u[0];h.push(p[0]);for(var m=u.length,f=1;f<m;f++)h.push(u[f],p[f])}var g=Df(function(t,n,r){var s=d&&t.as||o,i="",u=[],p=t;if(null==t.theme){for(var m in p={},t)p[m]=t[m];p.theme=e.useContext(Bf)}"string"===typeof t.className?i=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(n.registered,u,t.className):null!=t.className&&(i=t.className+" ");var f=Rf(h.concat(u),n.registered,p);i+=n.key+"-"+f.name,void 0!==a&&(i+=" "+a);var g=d&&void 0===l?Hf(s):c,v={};for(var y in t)d&&"as"===y||g(y)&&(v[y]=t[y]);return v.className=i,r&&(v.ref=r),e.createElement(e.Fragment,null,e.createElement(Gf,{cache:n,serialized:f,isStringTag:"string"===typeof s}),e.createElement(s,v))});return g.displayName=void 0!==s?s:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(e,n){return t(e,bm({},r,n,{shouldForwardProp:Wf(g,n,!0)})).apply(void 0,h)},g}}.bind(null);function Jf(e,t){return Zf(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){Zf[e]=Zf(e)});const Kf=[];function $f(e){return Kf[0]=e,Rf(Kf)}var Yf=n(732);function Xf(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qf(t){if(e.isValidElement(t)||(0,Yf.Hy)(t)||!Xf(t))return t;const n={};return Object.keys(t).forEach(e=>{n[e]=Qf(t[e])}),n}function eg(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=r.clone?z({},t):t;return Xf(t)&&Xf(n)&&Object.keys(n).forEach(a=>{e.isValidElement(n[a])||(0,Yf.Hy)(n[a])?s[a]=n[a]:Xf(n[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Xf(t[a])?s[a]=eg(t[a],n[a],r):r.clone?s[a]=Xf(n[a])?Qf(n[a]):n[a]:s[a]=n[a]}),s}const tg=["values","unit","step"];function ng(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=T(e,tg),a=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>z(z({},e),{},{[t.key]:t.val}),{})})(t),i=Object.keys(a);function o(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const s="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(s-r/100).concat(n,")")}function c(e,s){const a=i.indexOf(s);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==a&&"number"===typeof t[i[a]]?t[i[a]]:s)-r/100).concat(n,")")}return z({keys:i,values:a,up:o,down:l,between:c,only:function(e){return i.indexOf(e)+1<i.length?c(e,i[i.indexOf(e)+1]):o(e)},not:function(e){const t=i.indexOf(e);return 0===t?o(i[1]):t===i.length-1?l(i[t]):c(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},s)}function rg(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const s=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(s))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(s))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},z({},t)):t}const sg={borderRadius:4},ag={xs:0,sm:600,md:900,lg:1200,xl:1536},ig={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(ag[e],"px)")},og={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:ag[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function lg(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||ig;return t.reduce((r,s,a)=>(r[e.up(e.keys[a])]=n(t[a]),r),{})}if("object"===typeof t){const e=r.breakpoints||ig;return Object.keys(t).reduce((s,a)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,a)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(s).up(a)}(r.containerQueries?r:og,a);e&&(s[e]=n(t[a],a))}else if(Object.keys(e.values||ag).includes(a)){s[e.up(a)]=n(t[a],a)}else{const e=a;s[e]=t[e]}return s},{})}return n(t)}function cg(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{}))||{}}function dg(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function ug(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function hg(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||s:ug(e,n)||s,t&&(r=t(r,s,e)),r}const pg=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,a=e=>{if(null==e[t])return null;const a=e[t],i=ug(e.theme,r)||{};return lg(e,a,e=>{let r=hg(i,s,e);return e===r&&"string"===typeof e&&(r=hg(i,s,"".concat(t).concat("default"===e?"":vm(e)),e)),!1===n?r:{[n]:r}})};return a.propTypes={},a.filterProps=[t],a};const mg=function(e,t){return t?eg(e,t,{clone:!1}):e};const fg={m:"margin",p:"padding"},gg={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vg={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yg=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!vg[e])return[e];e=vg[e]}const[t,n]=e.split(""),r=fg[t],s=gg[n]||"";return Array.isArray(s)?s.map(e=>r+e):[r+s]}),bg=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xg=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],wg=[...bg,...xg];function jg(e,t,n,r){var s;const a=null!==(s=ug(e,t,!0))&&void 0!==s?s:n;return"number"===typeof a||"string"===typeof a?e=>"string"===typeof e?e:"string"===typeof a?a.startsWith("var(")&&0===e?0:a.startsWith("var(")&&1===e?a:"calc(".concat(e," * ").concat(a,")"):a*e:Array.isArray(a)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=a[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof a?a:()=>{}}function _g(e){return jg(e,"spacing",8)}function Ng(e,t){return"string"===typeof t||null==t?t:e(t)}function Sg(e,t,n,r){if(!t.includes(n))return null;const s=function(e,t){return n=>e.reduce((e,r)=>(e[r]=Ng(t,n),e),{})}(yg(n),r);return lg(e,e[n],s)}function Cg(e,t){const n=_g(e.theme);return Object.keys(e).map(r=>Sg(e,t,r,n)).reduce(mg,{})}function kg(e){return Cg(e,bg)}function Eg(e){return Cg(e,xg)}function Pg(e){return Cg(e,wg)}kg.propTypes={},kg.filterProps=bg,Eg.propTypes={},Eg.filterProps=xg,Pg.propTypes={},Pg.filterProps=wg;function Ig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_g({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}const Ag=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),s=e=>Object.keys(e).reduce((t,n)=>r[n]?mg(t,r[n](e)):t,{});return s.propTypes={},s.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),s};function Tg(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Og(e,t){return pg({prop:e,themeKey:"borders",transform:t})}const Rg=Og("border",Tg),Lg=Og("borderTop",Tg),Mg=Og("borderRight",Tg),zg=Og("borderBottom",Tg),Dg=Og("borderLeft",Tg),Bg=Og("borderColor"),Vg=Og("borderTopColor"),Ug=Og("borderRightColor"),qg=Og("borderBottomColor"),Fg=Og("borderLeftColor"),Hg=Og("outline",Tg),Wg=Og("outlineColor"),Gg=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=jg(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Ng(t,e)});return lg(e,e.borderRadius,n)}return null};Gg.propTypes={},Gg.filterProps=["borderRadius"];Ag(Rg,Lg,Mg,zg,Dg,Bg,Vg,Ug,qg,Fg,Gg,Hg,Wg);const Zg=e=>{if(void 0!==e.gap&&null!==e.gap){const t=jg(e.theme,"spacing",8),n=e=>({gap:Ng(t,e)});return lg(e,e.gap,n)}return null};Zg.propTypes={},Zg.filterProps=["gap"];const Jg=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=jg(e.theme,"spacing",8),n=e=>({columnGap:Ng(t,e)});return lg(e,e.columnGap,n)}return null};Jg.propTypes={},Jg.filterProps=["columnGap"];const Kg=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=jg(e.theme,"spacing",8),n=e=>({rowGap:Ng(t,e)});return lg(e,e.rowGap,n)}return null};Kg.propTypes={},Kg.filterProps=["rowGap"];Ag(Zg,Jg,Kg,pg({prop:"gridColumn"}),pg({prop:"gridRow"}),pg({prop:"gridAutoFlow"}),pg({prop:"gridAutoColumns"}),pg({prop:"gridAutoRows"}),pg({prop:"gridTemplateColumns"}),pg({prop:"gridTemplateRows"}),pg({prop:"gridTemplateAreas"}),pg({prop:"gridArea"}));function $g(e,t){return"grey"===t?t:e}Ag(pg({prop:"color",themeKey:"palette",transform:$g}),pg({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$g}),pg({prop:"backgroundColor",themeKey:"palette",transform:$g}));function Yg(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Xg=pg({prop:"width",transform:Yg}),Qg=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const s=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||ag[t];return s?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(s).concat(e.theme.breakpoints.unit)}:{maxWidth:s}:{maxWidth:Yg(t)}};return lg(e,e.maxWidth,t)}return null};Qg.filterProps=["maxWidth"];const ev=pg({prop:"minWidth",transform:Yg}),tv=pg({prop:"height",transform:Yg}),nv=pg({prop:"maxHeight",transform:Yg}),rv=pg({prop:"minHeight",transform:Yg}),sv=(pg({prop:"size",cssProperty:"width",transform:Yg}),pg({prop:"size",cssProperty:"height",transform:Yg}),Ag(Xg,Qg,ev,tv,nv,rv,pg({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Tg},borderTop:{themeKey:"borders",transform:Tg},borderRight:{themeKey:"borders",transform:Tg},borderBottom:{themeKey:"borders",transform:Tg},borderLeft:{themeKey:"borders",transform:Tg},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tg},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gg},color:{themeKey:"palette",transform:$g},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$g},backgroundColor:{themeKey:"palette",transform:$g},p:{style:Eg},pt:{style:Eg},pr:{style:Eg},pb:{style:Eg},pl:{style:Eg},px:{style:Eg},py:{style:Eg},padding:{style:Eg},paddingTop:{style:Eg},paddingRight:{style:Eg},paddingBottom:{style:Eg},paddingLeft:{style:Eg},paddingX:{style:Eg},paddingY:{style:Eg},paddingInline:{style:Eg},paddingInlineStart:{style:Eg},paddingInlineEnd:{style:Eg},paddingBlock:{style:Eg},paddingBlockStart:{style:Eg},paddingBlockEnd:{style:Eg},m:{style:kg},mt:{style:kg},mr:{style:kg},mb:{style:kg},ml:{style:kg},mx:{style:kg},my:{style:kg},margin:{style:kg},marginTop:{style:kg},marginRight:{style:kg},marginBottom:{style:kg},marginLeft:{style:kg},marginX:{style:kg},marginY:{style:kg},marginInline:{style:kg},marginInlineStart:{style:kg},marginInlineEnd:{style:kg},marginBlock:{style:kg},marginBlockStart:{style:kg},marginBlockEnd:{style:kg},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zg},rowGap:{style:Kg},columnGap:{style:Jg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yg},maxWidth:{style:Qg},minWidth:{transform:Yg},height:{transform:Yg},maxHeight:{transform:Yg},minHeight:{transform:Yg},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const av=function(){function e(e,t,n,r){const s={[e]:t,theme:n},a=r[e];if(!a)return{[e]:t};const{cssProperty:i=e,themeKey:o,transform:l,style:c}=a;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const d=ug(n,o)||{};if(c)return c(s);return lg(s,t,t=>{let n=hg(d,l,t);return t===n&&"string"===typeof t&&(n=hg(d,l,"".concat(e).concat("default"===t?"":vm(t)),t)),!1===i?n:{[i]:n}})}return function t(n){var r;const{sx:s,theme:a={},nested:i}=n||{};if(!s)return null;const o=null!==(r=a.unstable_sxConfig)&&void 0!==r?r:sv;function l(n){let r=n;if("function"===typeof n)r=n(a);else if("object"!==typeof n)return n;if(!r)return null;const s=cg(a.breakpoints),l=Object.keys(s);let c=s;return Object.keys(r).forEach(n=>{const s=function(e,t){return"function"===typeof e?e(t):e}(r[n],a);if(null!==s&&void 0!==s)if("object"===typeof s)if(o[n])c=mg(c,e(n,s,a,o));else{const e=lg({theme:a},s,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),s=new Set(r);return t.every(e=>s.size===Object.keys(e).length)}(e,s)?c=mg(c,e):c[n]=t({sx:s,theme:a,nested:!0})}else c=mg(c,e(n,s,a,o))}),!i&&a.modularCssLayers?{"@layer sx":rg(a,dg(l,c))}:rg(a,dg(l,c))}return Array.isArray(s)?s.map(l):l(s)}}();av.filterProps=["sx"];const iv=av;function ov(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let s=n.getColorSchemeSelector(e);return"&"===s?t:((s.includes("data-")||s.includes("."))&&(s="*:where(".concat(s.replace(/\s*&$/,""),") &")),{[s]:t})}return n.palette.mode===e?t:{}}const lv=["breakpoints","palette","spacing","shape"];const cv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:s={}}=e,a=T(e,lv),i=ng(t),o=Ig(r);let l=eg({breakpoints:i,direction:"ltr",components:{},palette:z({mode:"light"},n),spacing:o,shape:z(z({},sg),s)},a);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},s=e=>(n(r,e),r);return n(s),z(z({},e),{},{containerQueries:s})}(l),l.applyStyles=ov;for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];return l=d.reduce((e,t)=>eg(e,t),l),l.unstable_sxConfig=z(z({},sv),null===a||void 0===a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return iv({sx:e,theme:this})},l},dv=["variants"];function uv(e){const{variants:t}=e,n=T(e,dv),r={variants:t,style:$f(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=$f(e.style))}),r}const hv=["variants"],pv=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],mv=cv();function fv(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function gv(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function vv(e){return e?(t,n)=>n[e]:null}function yv(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>yv(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?gv(r.style,n):r.style;else{const{variants:e}=r,s=T(r,hv);t=n?gv($f(s),n):s}return bv(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?gv($f(r.style),n):r.style:n?gv($f(r),n):r}function bv(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(null!==n&&void 0!==n||(n=z(z(z({},e),e.ownerState),{},{ownerState:e.ownerState})),!o.props(n))continue}else for(const t in o.props){var a;if(e[t]!==o.props[t]&&(null===(a=e.ownerState)||void 0===a?void 0:a[t])!==o.props[t])continue e}"function"===typeof o.style?(null!==n&&void 0!==n||(n=z(z(z({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(s?gv($f(o.style(n)),s):o.style(n))):r.push(s?gv($f(o.style),s):o.style)}return r}function xv(e,t){}function wv(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const jv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function _v(e){return jv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Nv(e){if(e.type)return e;if("#"===e.charAt(0))return Nv(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(gm(9,e));let r,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),r=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(gm(10,r))}else s=s.split(",");return s=s.map(e=>parseFloat(e)),{type:n,values:s,colorSpace:r}}const Sv=(e,t)=>{try{return(e=>{const t=Nv(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(n){return e}};function Cv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function kv(e){e=Nv(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,a=r*Math.min(s,1-s),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return s-a*Math.max(Math.min(t-3,9-t,1),-1)};let o="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),Cv({type:o,values:l})}function Ev(e){let t="hsl"===(e=Nv(e)).type||"hsla"===e.type?Nv(kv(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Pv(e,t){return e=Nv(e),t=_v(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Cv(e)}function Iv(e,t,n){try{return Pv(e,t)}catch(r){return e}}function Av(e,t){if(e=Nv(e),t=_v(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Cv(e)}function Tv(e,t,n){try{return Av(e,t)}catch(r){return e}}function Ov(e,t){if(e=Nv(e),t=_v(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Cv(e)}function Rv(e,t,n){try{return Ov(e,t)}catch(r){return e}}function Lv(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Ev(e)>.5?Av(e,t):Ov(e,t)}(e,t)}catch(r){return e}}const Mv={black:"#000",white:"#fff"},zv={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Dv={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bv={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Uv={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qv={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Fv={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Hv=["mode","contrastThreshold","tonalOffset","colorSpace"];function Wv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mv.white,default:Mv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Gv=Wv();function Zv(){return{text:{primary:Mv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Jv=Zv();function Kv(e,t,n,r){const s=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ov(e.main,s):"dark"===t&&(e.dark=Av(e.main,a)))}function $v(e,t,n,r,s){const a=s.light||s,i=s.dark||1.5*s;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*a).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*i).toFixed(0),"%)")))}function Yv(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s}=e,a=T(e,Hv),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Uv[200],light:Uv[50],dark:Uv[400]}:{main:Uv[700],light:Uv[400],dark:Uv[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Dv[200],light:Dv[50],dark:Dv[400]}:{main:Dv[500],light:Dv[300],dark:Dv[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Bv[500],light:Bv[300],dark:Bv[700]}:{main:Bv[700],light:Bv[400],dark:Bv[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qv[400],light:qv[300],dark:qv[700]}:{main:qv[700],light:qv[500],dark:qv[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fv[400],light:Fv[300],dark:Fv[700]}:{main:Fv[800],light:Fv[500],dark:Fv[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Vv[400],light:Vv[300],dark:Vv[700]}:{main:"#ed6c02",light:Vv[500],dark:Vv[900]}}(t);function h(e){if(s)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=Ev(e),r=Ev(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Jv.text.primary)>=n?Jv.text.primary:Gv.text.primary;return t}const p=e=>{let{color:t,name:n,mainShade:a=500,lightShade:i=300,darkShade:o=700}=e;if(t=z({},t),!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(gm(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(gm(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return s?($v(s,t,"light",i,r),$v(s,t,"dark",o,r)):(Kv(t,"light",i,r),Kv(t,"dark",o,r)),t.contrastText||(t.contrastText=h(t.main)),t};let m;"light"===t?m=Wv():"dark"===t&&(m=Zv());return eg(z({common:z({},Mv),mode:t,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:d,name:"success"}),grey:zv,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},m),a)}function Xv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];if(!r.length)return"";const a=r[0];return"string"!==typeof a||a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(a):", var(--".concat(e?"".concat(e,"-"):"").concat(a).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...s),")")}}function Qv(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const ey=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=e;t.forEach((e,a)=>{a===t.length-1?Array.isArray(s)?s[Number(e)]=n:s&&"object"===typeof s&&(s[e]=n):s&&"object"===typeof s&&(s[e]||(s[e]=r.includes(e)?[]:{}),s=s[e])})};function ty(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},s={},a={},i={};var o,l;return o=(e,t,o)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(s,{[r]:l}),ey(a,e,"var(".concat(r,")"),o),ey(i,e,"var(".concat(r,", ").concat(l,")"),o)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[s,a]=t;(!l||l&&!l([...n,s]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...n,s],Array.isArray(a)?[...r,s]:r):o([...n,s],a,r))})}(e),{css:s,vars:a,varsWithDefaults:i}}const ny=["colorSchemes","components","defaultColorScheme"];const ry=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=v,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:a}=t,{colorSchemes:i={},components:o,defaultColorScheme:l="light"}=e,c=T(e,ny),{vars:d,css:u,varsWithDefaults:h}=ty(c,t);let p=h;const m={},{[l]:f}=i,g=T(i,[l].map(R));if(Object.entries(g||{}).forEach(e=>{let[n,r]=e;const{vars:s,css:a,varsWithDefaults:i}=ty(r,t);p=eg(p,i),m[n]={css:a,vars:s}}),f){const{css:e,vars:n,varsWithDefaults:r}=ty(f,t);p=eg(p,r),m[l]={css:e,vars:n}}function v(t,n){let r=s;if("class"===s&&(r=".%s"),"data"===s&&(r="[data-%s]"),null!==s&&void 0!==s&&s.startsWith("data-")&&!s.includes("%s")&&(r="[".concat(s,'="%s"]')),t){if("media"===r){var a;if(e.defaultColorScheme===t)return":root";const r=(null===(a=i[t])||void 0===a||null===(a=a.palette)||void 0===a?void 0:a.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e=z({},d);return Object.entries(m).forEach(t=>{let[,{vars:n}]=t;e=eg(e,n)}),e},generateStyleSheets:()=>{const t=[],s=e.defaultColorScheme||"light";function o(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:z({},n)}:e)}o(n(void 0,z({},u)),u);const{[s]:l}=m,c=T(m,[s].map(R));if(l){var d;const{css:e}=l,t=null===(d=i[s])||void 0===d||null===(d=d.palette)||void 0===d?void 0:d.mode,a=z(!r&&t?{colorScheme:t}:{},e);o(n(s,z({},a)),a)}return Object.entries(c).forEach(e=>{var t;let[s,{css:a}]=e;const l=null===(t=i[s])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=z(!r&&l?{colorScheme:l}:{},a);o(n(s,z({},c)),c)}),a&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function sy(e,t){return z({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const ay=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const iy={textTransform:"uppercase"},oy='"Roboto", "Helvetica", "Arial", sans-serif';function ly(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=oy,fontSize:s=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=n,h=T(n,ay);const p=s/14,m=u||(e=>"".concat(e/c*p,"rem")),f=(e,t,n,s,a)=>{return z(z(z({fontFamily:r,fontWeight:e,fontSize:m(t),lineHeight:n},r===oy?{letterSpacing:"".concat((i=s/t,Math.round(1e5*i)/1e5),"em")}:{}),a),d);var i},g={h1:f(a,96,1.167,-1.5),h2:f(a,60,1.2,-.5),h3:f(i,48,1.167,0),h4:f(i,34,1.235,.25),h5:f(i,24,1.334,0),h6:f(o,20,1.6,.15),subtitle1:f(i,16,1.75,.15),subtitle2:f(o,14,1.57,.1),body1:f(i,16,1.5,.15),body2:f(i,14,1.43,.15),button:f(o,14,1.75,.4,iy),caption:f(i,12,1.66,.4),overline:f(i,12,2.66,1,iy),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return eg(z({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l},g),h,{clone:!1})}function cy(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const dy=["none",cy(0,2,1,-1,0,1,1,0,0,1,3,0),cy(0,3,1,-2,0,2,2,0,0,1,5,0),cy(0,3,3,-2,0,3,4,0,0,1,8,0),cy(0,2,4,-1,0,4,5,0,0,1,10,0),cy(0,3,5,-1,0,5,8,0,0,1,14,0),cy(0,3,5,-1,0,6,10,0,0,1,18,0),cy(0,4,5,-2,0,7,10,1,0,2,16,1),cy(0,5,5,-3,0,8,10,1,0,3,14,2),cy(0,5,6,-3,0,9,12,1,0,3,16,2),cy(0,6,6,-3,0,10,14,1,0,4,18,3),cy(0,6,7,-4,0,11,15,1,0,4,20,3),cy(0,7,8,-4,0,12,17,2,0,5,22,4),cy(0,7,8,-4,0,13,19,2,0,5,24,4),cy(0,7,9,-4,0,14,21,2,0,5,26,4),cy(0,8,9,-5,0,15,22,2,0,6,28,5),cy(0,8,10,-5,0,16,24,2,0,6,30,5),cy(0,8,11,-5,0,17,26,2,0,6,32,5),cy(0,9,11,-5,0,18,28,2,0,7,34,6),cy(0,9,12,-6,0,19,29,2,0,7,36,6),cy(0,10,13,-6,0,20,31,3,0,8,38,7),cy(0,10,13,-6,0,21,33,3,0,8,40,7),cy(0,10,14,-6,0,22,35,3,0,8,42,7),cy(0,11,14,-7,0,23,36,3,0,9,44,8),cy(0,11,15,-7,0,24,38,3,0,9,46,8)],uy=["duration","easing","delay"],hy={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},py={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function my(e){return"".concat(Math.round(e),"ms")}function fy(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function gy(e){const t=z(z({},hy),e.easing),n=z(z({},py),e.duration);return z(z({getAutoHeightDuration:fy,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:a=t.easeInOut,delay:i=0}=r;T(r,uy);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof s?s:my(s)," ").concat(a," ").concat("string"===typeof i?i:my(i))).join(",")}},e),{},{easing:t,duration:n})}const vy={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function yy(e){return Xf(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function by(){const e=z({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[s,a]=n[r];!yy(a)||s.startsWith("unstable_")?delete t[s]:Xf(a)&&(t[s]=z({},a),e(t[s]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const xy=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function wy(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function jy(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):Pv(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(wy(n),")"):Ov(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(wy(n),")"):Av(t,n)}})}const _y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:s={},transitions:a={},typography:i={},shape:o,colorSpace:l}=e,c=T(e,xy);if(e.vars&&void 0===e.generateThemeVars)throw new Error(gm(20));const d=Yv(z(z({},s),{},{colorSpace:l})),u=cv(e);let h=eg(u,{mixins:sy(u.breakpoints,n),palette:d,shadows:dy.slice(),typography:ly(d,i),transitions:gy(a),zIndex:z({},vy)});h=eg(h,c);for(var p=arguments.length,m=new Array(p>1?p-1:0),f=1;f<p;f++)m[f-1]=arguments[f];return h=m.reduce((e,t)=>eg(e,t),h),h.unstable_sxConfig=z(z({},sv),null===c||void 0===c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return iv({sx:e,theme:this})},h.toRuntimeSource=by,jy(h),h};const Ny=["palette","opacity","overlays","colorSpace"],Sy=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function Cy(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function ky(e){return"dark"===e?Sy:[]}function Ey(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const Py=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],Iy=e=>(t,n)=>{const r=e.rootSelector||":root",s=e.colorSchemeSelector;let a=s;if("class"===s&&(a=".%s"),"data"===s&&(a="[data-%s]"),null!==s&&void 0!==s&&s.startsWith("data-")&&!s.includes("%s")&&(a="[".concat(s,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const s={};return Py(e.cssVarPrefix).forEach(e=>{s[e]=n[e],delete n[e]}),"media"===a?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:a?{[a.replace("%s",t)]:s,["".concat(r,", ").concat(a.replace("%s",t))]:n}:{[r]:z(z({},n),s)}}if(a&&"media"!==a)return"".concat(r,", ").concat(a.replace("%s",String(t)))}else if(t){if("media"===a)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r},Ay=["palette"],Ty=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function Oy(e,t,n){!e[t]&&n&&(e[t]=n)}function Ry(e){return"string"===typeof e&&e.startsWith("hsl")?kv(e):e}function Ly(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Sv(Ry(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const My=e=>{try{return e()}catch(t){}};function zy(e,t,n,r,s){var a,i,o;if(!n)return;n=!0===n?{}:n;const l="dark"===s?"dark":"light";var c;if(!r)return void(t[s]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:s}=e,a=T(e,Ny),i=Yv(z(z({},t),{},{colorSpace:s}));return z({palette:i,opacity:z(z({},Cy(i.mode)),n),overlays:r||ky(i.mode)},a)}(z(z({},n),{},{palette:z({mode:l},null===(c=n)||void 0===c?void 0:c.palette),colorSpace:e})));const d=_y(z(z({},r),{},{palette:z({mode:l},null===(a=n)||void 0===a?void 0:a.palette),colorSpace:e})),{palette:u}=d,h=T(d,Ay);return t[s]=z(z({},n),{},{palette:u,opacity:z(z({},Cy(l)),null===(i=n)||void 0===i?void 0:i.opacity),overlays:(null===(o=n)||void 0===o?void 0:o.overlays)||ky(l)}),h}function Dy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:i=Ey,colorSchemeSelector:o=(t.light&&t.dark?"media":void 0),rootSelector:l=":root"}=e,c=T(e,Ty),d=Object.keys(t)[0],u=n||(t.light&&"light"!==d?"light":d),h=function(){return Xv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(s),{[u]:p,light:m,dark:f}=t,g=z({},T(t,[u,"light","dark"].map(R)));let v,y=p;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(y=!0),!y)throw new Error(gm(21,u));a&&(v="oklch");const b=zy(v,g,y,c,u);m&&!g.light&&zy(v,g,m,void 0,"light"),f&&!g.dark&&zy(v,g,f,void 0,"dark");let x=z(z({defaultColorScheme:u},b),{},{cssVarPrefix:s,colorSchemeSelector:o,rootSelector:l,getCssVar:h,colorSchemes:g,font:z(z({},Qv(b.typography)),b.font),spacing:(w=c.spacing,"number"===typeof w?"".concat(w,"px"):"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")});var w;Object.keys(x.colorSchemes).forEach(e=>{const t=x.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],s=n[2];return h(e,t[r][s])};function r(e,t,n){if(v){let r;return e===Iv&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===Tv&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===Rv&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(v,", ").concat(t,", ").concat(r,")")}return e(t,n)}var s;if("light"===t.mode&&(Oy(t.common,"background","#fff"),Oy(t.common,"onBackground","#000")),"dark"===t.mode&&(Oy(t.common,"background","#000"),Oy(t.common,"onBackground","#fff")),s=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{s[e]||(s[e]={})}),"light"===t.mode){Oy(t.Alert,"errorColor",r(Tv,t.error.light,.6)),Oy(t.Alert,"infoColor",r(Tv,t.info.light,.6)),Oy(t.Alert,"successColor",r(Tv,t.success.light,.6)),Oy(t.Alert,"warningColor",r(Tv,t.warning.light,.6)),Oy(t.Alert,"errorFilledBg",n("palette-error-main")),Oy(t.Alert,"infoFilledBg",n("palette-info-main")),Oy(t.Alert,"successFilledBg",n("palette-success-main")),Oy(t.Alert,"warningFilledBg",n("palette-warning-main")),Oy(t.Alert,"errorFilledColor",My(()=>t.getContrastText(t.error.main))),Oy(t.Alert,"infoFilledColor",My(()=>t.getContrastText(t.info.main))),Oy(t.Alert,"successFilledColor",My(()=>t.getContrastText(t.success.main))),Oy(t.Alert,"warningFilledColor",My(()=>t.getContrastText(t.warning.main))),Oy(t.Alert,"errorStandardBg",r(Rv,t.error.light,.9)),Oy(t.Alert,"infoStandardBg",r(Rv,t.info.light,.9)),Oy(t.Alert,"successStandardBg",r(Rv,t.success.light,.9)),Oy(t.Alert,"warningStandardBg",r(Rv,t.warning.light,.9)),Oy(t.Alert,"errorIconColor",n("palette-error-main")),Oy(t.Alert,"infoIconColor",n("palette-info-main")),Oy(t.Alert,"successIconColor",n("palette-success-main")),Oy(t.Alert,"warningIconColor",n("palette-warning-main")),Oy(t.AppBar,"defaultBg",n("palette-grey-100")),Oy(t.Avatar,"defaultBg",n("palette-grey-400")),Oy(t.Button,"inheritContainedBg",n("palette-grey-300")),Oy(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),Oy(t.Chip,"defaultBorder",n("palette-grey-400")),Oy(t.Chip,"defaultAvatarColor",n("palette-grey-700")),Oy(t.Chip,"defaultIconColor",n("palette-grey-700")),Oy(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Oy(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Oy(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Oy(t.LinearProgress,"primaryBg",r(Rv,t.primary.main,.62)),Oy(t.LinearProgress,"secondaryBg",r(Rv,t.secondary.main,.62)),Oy(t.LinearProgress,"errorBg",r(Rv,t.error.main,.62)),Oy(t.LinearProgress,"infoBg",r(Rv,t.info.main,.62)),Oy(t.LinearProgress,"successBg",r(Rv,t.success.main,.62)),Oy(t.LinearProgress,"warningBg",r(Rv,t.warning.main,.62)),Oy(t.Skeleton,"bg",v?r(Iv,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),Oy(t.Slider,"primaryTrack",r(Rv,t.primary.main,.62)),Oy(t.Slider,"secondaryTrack",r(Rv,t.secondary.main,.62)),Oy(t.Slider,"errorTrack",r(Rv,t.error.main,.62)),Oy(t.Slider,"infoTrack",r(Rv,t.info.main,.62)),Oy(t.Slider,"successTrack",r(Rv,t.success.main,.62)),Oy(t.Slider,"warningTrack",r(Rv,t.warning.main,.62));const e=v?r(Tv,t.background.default,.6825):Lv(t.background.default,.8);Oy(t.SnackbarContent,"bg",e),Oy(t.SnackbarContent,"color",My(()=>v?Jv.text.primary:t.getContrastText(e))),Oy(t.SpeedDialAction,"fabHoverBg",Lv(t.background.paper,.15)),Oy(t.StepConnector,"border",n("palette-grey-400")),Oy(t.StepContent,"border",n("palette-grey-400")),Oy(t.Switch,"defaultColor",n("palette-common-white")),Oy(t.Switch,"defaultDisabledColor",n("palette-grey-100")),Oy(t.Switch,"primaryDisabledColor",r(Rv,t.primary.main,.62)),Oy(t.Switch,"secondaryDisabledColor",r(Rv,t.secondary.main,.62)),Oy(t.Switch,"errorDisabledColor",r(Rv,t.error.main,.62)),Oy(t.Switch,"infoDisabledColor",r(Rv,t.info.main,.62)),Oy(t.Switch,"successDisabledColor",r(Rv,t.success.main,.62)),Oy(t.Switch,"warningDisabledColor",r(Rv,t.warning.main,.62)),Oy(t.TableCell,"border",r(Rv,r(Iv,t.divider,1),.88)),Oy(t.Tooltip,"bg",r(Iv,t.grey[700],.92))}if("dark"===t.mode){Oy(t.Alert,"errorColor",r(Rv,t.error.light,.6)),Oy(t.Alert,"infoColor",r(Rv,t.info.light,.6)),Oy(t.Alert,"successColor",r(Rv,t.success.light,.6)),Oy(t.Alert,"warningColor",r(Rv,t.warning.light,.6)),Oy(t.Alert,"errorFilledBg",n("palette-error-dark")),Oy(t.Alert,"infoFilledBg",n("palette-info-dark")),Oy(t.Alert,"successFilledBg",n("palette-success-dark")),Oy(t.Alert,"warningFilledBg",n("palette-warning-dark")),Oy(t.Alert,"errorFilledColor",My(()=>t.getContrastText(t.error.dark))),Oy(t.Alert,"infoFilledColor",My(()=>t.getContrastText(t.info.dark))),Oy(t.Alert,"successFilledColor",My(()=>t.getContrastText(t.success.dark))),Oy(t.Alert,"warningFilledColor",My(()=>t.getContrastText(t.warning.dark))),Oy(t.Alert,"errorStandardBg",r(Tv,t.error.light,.9)),Oy(t.Alert,"infoStandardBg",r(Tv,t.info.light,.9)),Oy(t.Alert,"successStandardBg",r(Tv,t.success.light,.9)),Oy(t.Alert,"warningStandardBg",r(Tv,t.warning.light,.9)),Oy(t.Alert,"errorIconColor",n("palette-error-main")),Oy(t.Alert,"infoIconColor",n("palette-info-main")),Oy(t.Alert,"successIconColor",n("palette-success-main")),Oy(t.Alert,"warningIconColor",n("palette-warning-main")),Oy(t.AppBar,"defaultBg",n("palette-grey-900")),Oy(t.AppBar,"darkBg",n("palette-background-paper")),Oy(t.AppBar,"darkColor",n("palette-text-primary")),Oy(t.Avatar,"defaultBg",n("palette-grey-600")),Oy(t.Button,"inheritContainedBg",n("palette-grey-800")),Oy(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),Oy(t.Chip,"defaultBorder",n("palette-grey-700")),Oy(t.Chip,"defaultAvatarColor",n("palette-grey-300")),Oy(t.Chip,"defaultIconColor",n("palette-grey-300")),Oy(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Oy(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Oy(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Oy(t.LinearProgress,"primaryBg",r(Tv,t.primary.main,.5)),Oy(t.LinearProgress,"secondaryBg",r(Tv,t.secondary.main,.5)),Oy(t.LinearProgress,"errorBg",r(Tv,t.error.main,.5)),Oy(t.LinearProgress,"infoBg",r(Tv,t.info.main,.5)),Oy(t.LinearProgress,"successBg",r(Tv,t.success.main,.5)),Oy(t.LinearProgress,"warningBg",r(Tv,t.warning.main,.5)),Oy(t.Skeleton,"bg",v?r(Iv,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),Oy(t.Slider,"primaryTrack",r(Tv,t.primary.main,.5)),Oy(t.Slider,"secondaryTrack",r(Tv,t.secondary.main,.5)),Oy(t.Slider,"errorTrack",r(Tv,t.error.main,.5)),Oy(t.Slider,"infoTrack",r(Tv,t.info.main,.5)),Oy(t.Slider,"successTrack",r(Tv,t.success.main,.5)),Oy(t.Slider,"warningTrack",r(Tv,t.warning.main,.5));const e=v?r(Rv,t.background.default,.985):Lv(t.background.default,.98);Oy(t.SnackbarContent,"bg",e),Oy(t.SnackbarContent,"color",My(()=>v?Gv.text.primary:t.getContrastText(e))),Oy(t.SpeedDialAction,"fabHoverBg",Lv(t.background.paper,.15)),Oy(t.StepConnector,"border",n("palette-grey-600")),Oy(t.StepContent,"border",n("palette-grey-600")),Oy(t.Switch,"defaultColor",n("palette-grey-300")),Oy(t.Switch,"defaultDisabledColor",n("palette-grey-600")),Oy(t.Switch,"primaryDisabledColor",r(Tv,t.primary.main,.55)),Oy(t.Switch,"secondaryDisabledColor",r(Tv,t.secondary.main,.55)),Oy(t.Switch,"errorDisabledColor",r(Tv,t.error.main,.55)),Oy(t.Switch,"infoDisabledColor",r(Tv,t.info.main,.55)),Oy(t.Switch,"successDisabledColor",r(Tv,t.success.main,.55)),Oy(t.Switch,"warningDisabledColor",r(Tv,t.warning.main,.55)),Oy(t.TableCell,"border",r(Tv,r(Iv,t.divider,1),.68)),Oy(t.Tooltip,"bg",r(Iv,t.grey[700],.92))}Ly(t.background,"default"),Ly(t.background,"paper"),Ly(t.common,"background"),Ly(t.common,"onBackground"),Ly(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&Oy(t[e],"mainChannel",Sv(Ry(n.main))),n.light&&Oy(t[e],"lightChannel",Sv(Ry(n.light))),n.dark&&Oy(t[e],"darkChannel",Sv(Ry(n.dark))),n.contrastText&&Oy(t[e],"contrastTextChannel",Sv(Ry(n.contrastText))),"text"===e&&(Ly(t[e],"primary"),Ly(t[e],"secondary")),"action"===e&&(n.active&&Ly(t[e],"active"),n.selected&&Ly(t[e],"selected")))})});for(var j=arguments.length,_=new Array(j>1?j-1:0),N=1;N<j;N++)_[N-1]=arguments[N];x=_.reduce((e,t)=>eg(e,t),x);const S={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:i,getSelector:Iy(x),enableContrastVars:a},{vars:C,generateThemeVars:k,generateStyleSheets:E}=ry(x,S);return x.vars=C,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(e=>{let[t,n]=e;x[t]=n}),x.generateThemeVars=k,x.generateStyleSheets=E,x.generateSpacing=function(){return Ig(c.spacing,_g(this))},x.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(o),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=i,x.unstable_sxConfig=z(z({},sv),null===c||void 0===c?void 0:c.unstable_sxConfig),x.unstable_sx=function(e){return iv({sx:e,theme:this})},x.toRuntimeSource=by,x}const By=["palette","cssVariables","colorSchemes","defaultColorScheme"];function Vy(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=z(z({},!0!==n&&n),{},{palette:Yv(z(z({},!0===n?{}:n.palette),{},{mode:t}))}))}const Uy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:s=(null===t||void 0===t?void 0:t.mode)}=e,a=T(e,By),i=s||"light",o=null===r||void 0===r?void 0:r[i],l=z(z({},r),t?{[i]:z(z({},"boolean"!==typeof o&&o),{},{palette:t})}:void 0);for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];if(!1===n){if(!("colorSchemes"in e))return _y(e,...d);let n=t;"palette"in e||l[i]&&(!0!==l[i]?n=l[i].palette:"dark"===i&&(n={mode:"dark"}));const r=_y(z(z({},e),{},{palette:n}),...d);return r.defaultColorScheme=i,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=z(z({},!0!==l.light&&l.light),{},{palette:r.palette}),Vy(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=z(z({},!0!==l.dark&&l.dark),{},{palette:r.palette}),Vy(r,"light",l.light)),r}return t||"light"in l||"light"!==i||(l.light=!0),Dy(z(z({},a),{},{colorSchemes:l,defaultColorScheme:i},"boolean"!==typeof n&&n),...d)}();const qy=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Fy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=mv,rootShouldForwardProp:r=fv,slotShouldForwardProp:s=fv}=e;function a(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==iv));const{name:n,slot:i,skipVariantsResolver:o,skipSx:l,overridesResolver:c=vv(wv(i))}=t,d=T(t,pv),u=n&&n.startsWith("Mui")||i?"components":"custom",h=void 0!==o?o:i&&"Root"!==i&&"root"!==i||!1,p=l||!1;let m=fv;"Root"===i||"root"===i?m=r:i?m=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=Jf(e,z({shouldForwardProp:m,label:xv(n,i)},d)),g=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return yv(t,e,t.theme.modularCssLayers?u:void 0)};if(Xf(e)){const t=uv(e);return function(e){return t.variants?yv(e,t,e.theme.modularCssLayers?u:void 0):e.theme.modularCssLayers?gv(t.style,u):t.style}}return e},v=function(){const t=[];for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const o=s.map(g),l=[];if(t.push(a),n&&c&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const s={};for(const n in r)s[n]=yv(e,r[n],e.theme.modularCssLayers?"theme":void 0);return c(e,s)}),n&&!h&&l.push(function(e){var t;const r=e.theme,s=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return s?bv(e,s,[],e.theme.modularCssLayers?"theme":void 0):null}),p||l.push(iv),Array.isArray(o[0])){const e=o.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let s;s=[...n,...e,...r],s.raw=[...n,...e.raw,...r],t.unshift(s)}const d=[...t,...o,...l],u=f(...d);return e.muiName&&(u.muiName=e.muiName),u};return f.withConfig&&(v.withConfig=f.withConfig),v}}({themeId:"$$material",defaultTheme:Uy,rootShouldForwardProp:e=>qy(e)&&"classes"!==e}),Hy=Fy,Wy={theme:void 0};const Gy=function(e){let t,n;return function(r){let s=t;return void 0!==s&&r.theme===n||(Wy.theme=r.theme,s=uv(e(Wy)),t=s,n=r.theme),s}};function Zy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=z({},t);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=s;if("components"===a||"slots"===a)r[a]=z(z({},e[a]),r[a]);else if("componentsProps"===a||"slotProps"===a){const s=e[a],i=t[a];if(i)if(s){r[a]=z({},i);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const t=e;r[a][t]=Zy(s[t],i[t],n)}}else r[a]=i;else r[a]=s||{}}else"className"===a&&n&&t.className?r.className=fm(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===a&&n&&t.style?r.style=z(z({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[a]&&(r[a]=e[a])}return r}const Jy=e.createContext(void 0);function Ky(t){let{props:n,name:r}=t;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?Zy(s.defaultProps,r,t.components.mergeClassNameAndStyle):s.styleOverrides||s.variants?r:Zy(s,r,t.components.mergeClassNameAndStyle)}({props:n,name:r,theme:{components:e.useContext(Jy)}})}const $y=e=>e,Yy=(()=>{let e=$y;return{configure(t){e=t},generate:t=>e(t),reset(){e=$y}}})(),Xy={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qy(e,t){const n=Xy[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(Yy.generate(e),"-").concat(t)}function eb(e){return Qy("MuiSvgIcon",e)}!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};t.forEach(t=>{r[t]=Qy(e,t,n)})}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tb=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nb=Hy("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(ym(n.color))],t["fontSize".concat(ym(n.fontSize))]]}})(Gy(e=>{var t,n,r,s,a,i,o,l,c,d,u,h,p,m,f;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(s=g.vars)&&void 0!==s?s:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(i=a.pxToRem)||void 0===i?void 0:i.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(l=o.pxToRem)||void 0===l?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=g.vars)&&void 0!==u?u:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(m=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===m||null===(m=m.action)||void 0===m?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),rb=e.forwardRef(function(t,n){const r=Ky({props:t,name:"MuiSvgIcon"});const{children:s,className:a,color:i="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:h="0 0 24 24"}=r,p=T(r,tb),m=e.isValidElement(s)&&"svg"===s.type,f=z(z({},r),{},{color:i,component:o,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:m}),g={};d||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const s in e){const a=e[s];let i="",o=!0;for(let e=0;e<a.length;e+=1){const r=a[e];r&&(i+=(!0===o?"":" ")+t(r),o=!1,n&&n[r]&&(i+=" "+n[r]))}r[s]=i}return r}({root:["root","inherit"!==t&&"color".concat(ym(t)),"fontSize".concat(ym(n))]},eb,r)})(f);return(0,lh.jsxs)(nb,z(z(z(z({as:o,className:fm(v.root,a),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:n},g),p),m&&s.props),{},{ownerState:f,children:[m?s.props.children:s,u?(0,lh.jsx)("title",{children:u}):null]}))});rb.muiName="SvgIcon";const sb=rb;function ab(t,n){function r(e,n){return(0,lh.jsx)(sb,z(z({"data-testid":void 0,ref:n},e),{},{children:t}))}return r.muiName=sb.muiName,e.memo(e.forwardRef(r))}const ib=ab((0,lh.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),ob=ab((0,lh.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),lb=ab((0,lh.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2"})),cb=ab((0,lh.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})),db=ab((0,lh.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"})),ub=ab((0,lh.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),hb=ab((0,lh.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),pb=ab((0,lh.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"})),mb=ab((0,lh.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),fb=ab((0,lh.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),gb=ab((0,lh.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),vb=ab((0,lh.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"})),yb=e=>{let{isOpen:t,onClose:n}=e;const{notifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:i,clearAll:o,pollingStatus:l}=pm(),c=ou();if(!t)return null;const d=e=>{const t=Math.floor((new Date-new Date(e))/1e3);return t<60?"Hace un momento":t<3600?"Hace ".concat(Math.floor(t/60)," min"):t<86400?"Hace ".concat(Math.floor(t/3600)," h"):t<604800?"Hace ".concat(Math.floor(t/86400)," d\xedas"):new Date(e).toLocaleDateString("es-CL")};return(0,lh.jsxs)("div",{className:"notifications-center",children:[(0,lh.jsxs)("div",{className:"notifications-header",children:[(0,lh.jsx)("h3",{children:"Notificaciones"}),(0,lh.jsx)("div",{className:"notifications-actions",children:r.length>0&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("button",{className:"action-btn",onClick:a,title:"Marcar todas como le\xeddas",children:(0,lh.jsx)(vb,{fontSize:"small"})}),(0,lh.jsx)("button",{className:"action-btn",onClick:o,title:"Limpiar todas",children:(0,lh.jsx)(gb,{fontSize:"small"})})]})})]}),(0,lh.jsx)("div",{className:"notifications-list",children:0===r.length?(0,lh.jsxs)("div",{className:"notifications-empty",children:[(0,lh.jsx)("span",{className:"empty-icon",children:"\ud83d\udd14"}),(0,lh.jsx)("p",{children:"No tienes notificaciones"})]}):r.map(e=>(0,lh.jsxs)("div",{className:"notification-item ".concat(e.read?"":"unread"),onClick:()=>(e=>{s(e.id),e.link&&(c(e.link),n())})(e),children:[(0,lh.jsx)("div",{className:"notification-icon",children:e.icon}),(0,lh.jsxs)("div",{className:"notification-content",children:[(0,lh.jsx)("div",{className:"notification-title",children:e.title}),(0,lh.jsx)("div",{className:"notification-message",children:e.message}),(0,lh.jsx)("div",{className:"notification-time",children:d(e.createdAt)})]}),(0,lh.jsx)("button",{className:"notification-delete",onClick:t=>{t.stopPropagation(),i(e.id)},children:(0,lh.jsx)(gb,{fontSize:"small"})})]},e.id))})]})},bb=ab((0,lh.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),xb=e=>{let{onClose:t}=e;const n=ou(),{messages:r}=dh();return(0,lh.jsxs)("div",{className:"messages-dropdown",children:[(0,lh.jsxs)("div",{className:"dropdown-header",children:[(0,lh.jsx)("h3",{children:"Mensajes"}),(0,lh.jsx)("button",{className:"more-btn",children:(0,lh.jsx)(bb,{})})]}),(0,lh.jsx)("div",{className:"messages-search",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar mensajes..."})}),(0,lh.jsx)("div",{className:"messages-list",children:0===r.length?(0,lh.jsxs)("div",{className:"empty-state",children:[(0,lh.jsx)("span",{className:"empty-icon",children:"\ud83d\udcac"}),(0,lh.jsx)("p",{children:"No hay mensajes a\xfan"})]}):r.map(e=>(0,lh.jsxs)("div",{className:"message-item ".concat(e.unread?"unread":""),children:[(0,lh.jsxs)("div",{className:"msg-avatar",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.user}),e.online&&(0,lh.jsx)("span",{className:"online-indicator"})]}),(0,lh.jsxs)("div",{className:"msg-content",children:[(0,lh.jsxs)("div",{className:"msg-header",children:[(0,lh.jsx)("h4",{children:e.user}),(0,lh.jsx)("span",{className:"msg-time",children:e.time})]}),(0,lh.jsx)("p",{className:"msg-preview",children:e.message})]}),e.unread&&(0,lh.jsx)("span",{className:"unread-dot"})]},e.id))}),(0,lh.jsx)("div",{className:"dropdown-footer",children:(0,lh.jsx)("button",{className:"see-all-btn",onClick:()=>{n("/app/mensajes"),t()},children:"Ver Todo en Messenger"})})]})},wb=ab((0,lh.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),jb=ab((0,lh.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),_b=ab((0,lh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),Nb=ab((0,lh.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"})),Sb=ab((0,lh.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),Cb=e=>{let{onClose:t}=e;const n=ou(),{user:r,logout:s}=lp(),a=e=>{n(e),t()};return(0,lh.jsxs)("div",{className:"profile-dropdown",children:[(0,lh.jsxs)("div",{className:"profile-dropdown-header",children:[(0,lh.jsx)("img",{src:null===r||void 0===r?void 0:r.avatar,alt:null===r||void 0===r?void 0:r.name}),(0,lh.jsxs)("div",{className:"profile-info-dropdown",children:[(0,lh.jsx)("h4",{children:null===r||void 0===r?void 0:r.name}),(0,lh.jsx)("p",{children:null===r||void 0===r?void 0:r.email})]})]}),(0,lh.jsx)("div",{className:"profile-dropdown-divider"}),(0,lh.jsxs)("div",{className:"profile-dropdown-menu",children:[(0,lh.jsxs)("button",{className:"dropdown-menu-item",onClick:()=>{var e;const t=(null===r||void 0===r?void 0:r.username)||(null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.toLowerCase().replace(/\s+/g,"-"))||"usuario";a("/".concat(t))},children:[(0,lh.jsx)(wb,{}),(0,lh.jsx)("span",{children:"Ver Perfil"})]}),(0,lh.jsxs)("button",{className:"dropdown-menu-item",onClick:()=>a("/configuracion"),children:[(0,lh.jsx)(jb,{}),(0,lh.jsx)("span",{children:"Configuraci\xf3n y Privacidad"})]}),(0,lh.jsxs)("button",{className:"dropdown-menu-item",onClick:()=>a("/ayuda"),children:[(0,lh.jsx)(_b,{}),(0,lh.jsx)("span",{children:"Ayuda y Soporte"})]}),(0,lh.jsxs)("button",{className:"dropdown-menu-item",children:[(0,lh.jsx)(Nb,{}),(0,lh.jsx)("span",{children:"Dar Opini\xf3n"})]})]}),(0,lh.jsx)("div",{className:"profile-dropdown-divider"}),(0,lh.jsxs)("button",{className:"dropdown-menu-item logout-item",onClick:()=>{t(),s()},children:[(0,lh.jsx)(Sb,{}),(0,lh.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]})},kb=ab((0,lh.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Eb=ab((0,lh.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})),Pb=ab((0,lh.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),Ib=t=>{let{onClose:n}=t;const r=ou(),{searchResults:s,searchHistory:a,loading:i,search:o,loadSearchHistory:l,clearSearchHistory:c,getTrendingSearches:d}=(()=>{const t=(0,e.useContext)(hh);if(!t)throw new Error("useSearch must be used within a SearchProvider");return t})(),[u,h]=(0,e.useState)(""),p=d();(0,e.useEffect)(()=>{l()},[]);const m=e=>{h(e),e.trim()&&o(e)},f=e=>{h(e),o(e)};return(0,lh.jsx)("div",{className:"search-modal-overlay",onClick:n,children:(0,lh.jsxs)("div",{className:"search-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"search-modal-header",children:[(0,lh.jsxs)("div",{className:"search-input-container",children:[(0,lh.jsx)(kb,{className:"search-input-icon"}),(0,lh.jsx)("input",{type:"text",placeholder:"Buscar en Vecino Activo...",value:u,onChange:e=>m(e.target.value),autoFocus:!0}),u&&(0,lh.jsx)("button",{className:"clear-search-btn",onClick:()=>m(""),children:(0,lh.jsx)(fb,{fontSize:"small"})})]}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:n,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsx)("div",{className:"search-modal-content",children:i?(0,lh.jsx)("div",{className:"search-loading",children:(0,lh.jsx)("p",{children:"Buscando..."})}):u&&s.length>0?(0,lh.jsxs)("div",{className:"search-results",children:[(0,lh.jsx)("h4",{children:"Resultados"}),s.map(e=>(0,lh.jsxs)("div",{className:"search-result-item",onClick:()=>(e=>{"user"===e.type?(r("/timeline"),n()):"post"===e.type&&(r("/app"),n())})(e),children:["user"===e.type?(0,lh.jsx)(wb,{className:"result-icon"}):(0,lh.jsx)(Pb,{className:"result-icon"}),(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsxs)("div",{className:"result-info",children:[(0,lh.jsx)("span",{className:"result-name",children:e.name}),(0,lh.jsx)("span",{className:"result-subtitle",children:e.subtitle})]})]},"".concat(e.type,"-").concat(e.id)))]}):u&&0===s.length?(0,lh.jsx)("div",{className:"no-results",children:(0,lh.jsxs)("p",{children:['No se encontraron resultados para "',u,'"']})}):(0,lh.jsxs)(lh.Fragment,{children:[a.length>0&&(0,lh.jsxs)("div",{className:"search-section",children:[(0,lh.jsxs)("div",{className:"section-header-search",children:[(0,lh.jsx)("h4",{children:"B\xfasquedas recientes"}),(0,lh.jsx)("button",{onClick:c,className:"clear-history-btn",children:"Limpiar"})]}),(0,lh.jsx)("div",{className:"recent-searches",children:a.map((e,t)=>(0,lh.jsxs)("button",{className:"recent-search-item",onClick:()=>f(e),children:[(0,lh.jsx)(kb,{fontSize:"small"}),(0,lh.jsx)("span",{children:e})]},t))})]}),(0,lh.jsxs)("div",{className:"search-section",children:[(0,lh.jsxs)("h4",{children:[(0,lh.jsx)(Eb,{fontSize:"small"})," Tendencias"]}),(0,lh.jsx)("div",{className:"trending-searches",children:p.map((e,t)=>(0,lh.jsxs)("button",{className:"trending-item",onClick:()=>f(e),children:[(0,lh.jsx)(Eb,{fontSize:"small"}),(0,lh.jsx)("span",{children:e})]},t))})]})]})})]})})},Ab=ab((0,lh.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1 1.1-.49 1.1-1.1-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z"})),Tb=ab((0,lh.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"})),Ob=ab((0,lh.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"})),Rb=ab((0,lh.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),Lb=()=>{const t=ou(),n=au(),r=N(Lu),{logout:s}=lp(),{darkMode:a,toggleDarkMode:i}=dh(),{closeMobileSidebar:o}=vh(),l=(0,e.useRef)(null);(0,e.useEffect)(()=>{document.body.style.overflow="hidden";let e=0,t=0,n=!1;const r=t=>{e=t.touches[0].clientX,n=!0},s=r=>{if(!n)return;t=r.touches[0].clientX;const s=t-e;if(s<0&&Math.abs(s)>10){const e=l.current;if(e){const t=Math.max(s,-320);e.style.transform="translateX(".concat(t,"px)")}}},a=()=>{if(!n)return;n=!1;const r=t-e,s=l.current;s&&(r<-100?o():s.style.transform="translateX(0)")},i=l.current;return i&&(i.addEventListener("touchstart",r,{passive:!0}),i.addEventListener("touchmove",s,{passive:!0}),i.addEventListener("touchend",a,{passive:!0})),()=>{document.body.style.overflow="unset",i&&(i.removeEventListener("touchstart",r),i.removeEventListener("touchmove",s),i.removeEventListener("touchend",a))}},[o]);const c=e=>{t(e),o()},d=[{icon:(0,lh.jsx)(ib,{}),label:"Inicio",path:"/app",description:"Feed principal"},{icon:(0,lh.jsx)(Ab,{}),label:"Descubrir Vecinos",path:"/app/descubrir-vecinos",description:"Encuentra vecinos cerca"},{icon:(0,lh.jsx)(Tb,{}),label:"Mapa",path:"/app/mapa",description:"Explora tu vecindario"},{icon:(0,lh.jsx)(Ob,{}),label:"Hub Comunitario",path:"/app/hub-comunitario",description:"Servicios y directorio"},{icon:(0,lh.jsx)(Rb,{}),label:"Eventos",path:"/app/eventos",description:"Eventos del vecindario"}],u=[{icon:(0,lh.jsx)(wb,{}),label:"Mi Perfil",path:"/app/".concat((null===r||void 0===r?void 0:r.username)||"perfil"),description:"Ver mi perfil"},{icon:(0,lh.jsx)(jb,{}),label:"Configuraci\xf3n",path:"/app/configuracion",description:"Ajustes de cuenta"}];return(0,lh.jsx)("div",{className:"mobile-menu-overlay",onClick:o,children:(0,lh.jsxs)("div",{className:"mobile-menu",ref:l,onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"mobile-menu-header",children:[(0,lh.jsx)("div",{className:"swipe-handle"}),(0,lh.jsxs)("div",{className:"menu-user-info",children:[(0,lh.jsx)("img",{src:null===r||void 0===r?void 0:r.avatar,alt:null===r||void 0===r?void 0:r.name,className:"menu-user-avatar"}),(0,lh.jsxs)("div",{className:"menu-user-details",children:[(0,lh.jsx)("h3",{children:null===r||void 0===r?void 0:r.name}),(0,lh.jsx)("p",{children:null===r||void 0===r?void 0:r.email}),(null===r||void 0===r?void 0:r.neighborhood)&&(0,lh.jsx)("span",{className:"menu-neighborhood",children:r.neighborhood})]})]}),(0,lh.jsx)("button",{className:"menu-close-btn",onClick:o,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"mobile-menu-content",children:[(0,lh.jsxs)("div",{className:"menu-section",children:[(0,lh.jsx)("h4",{children:"Navegaci\xf3n"}),(0,lh.jsx)("div",{className:"menu-items",children:d.map(e=>(0,lh.jsxs)("button",{className:"menu-item ".concat(n.pathname===e.path?"active":""),onClick:()=>c(e.path),children:[(0,lh.jsx)("div",{className:"menu-item-icon",children:e.icon}),(0,lh.jsxs)("div",{className:"menu-item-content",children:[(0,lh.jsx)("span",{className:"menu-item-label",children:e.label}),(0,lh.jsx)("span",{className:"menu-item-description",children:e.description})]})]},e.path))})]}),(0,lh.jsxs)("div",{className:"menu-section",children:[(0,lh.jsx)("h4",{children:"Perfil"}),(0,lh.jsx)("div",{className:"menu-items",children:u.map(e=>(0,lh.jsxs)("button",{className:"menu-item ".concat(n.pathname===e.path?"active":""),onClick:()=>c(e.path),children:[(0,lh.jsx)("div",{className:"menu-item-icon",children:e.icon}),(0,lh.jsxs)("div",{className:"menu-item-content",children:[(0,lh.jsx)("span",{className:"menu-item-label",children:e.label}),(0,lh.jsx)("span",{className:"menu-item-description",children:e.description})]})]},e.path))})]}),(0,lh.jsxs)("div",{className:"menu-section",children:[(0,lh.jsx)("h4",{children:"Configuraci\xf3n"}),(0,lh.jsxs)("div",{className:"menu-items",children:[(0,lh.jsxs)("button",{className:"menu-item",onClick:()=>{i()},children:[(0,lh.jsx)("div",{className:"menu-item-icon",children:a?(0,lh.jsx)(db,{}):(0,lh.jsx)(cb,{})}),(0,lh.jsxs)("div",{className:"menu-item-content",children:[(0,lh.jsx)("span",{className:"menu-item-label",children:a?"Modo Claro":"Modo Oscuro"}),(0,lh.jsx)("span",{className:"menu-item-description",children:"Cambiar tema de la aplicaci\xf3n"})]})]}),(0,lh.jsxs)("button",{className:"menu-item logout-item",onClick:async()=>{s(),ec("\xa1Sesi\xf3n cerrada exitosamente!"),o()},children:[(0,lh.jsx)("div",{className:"menu-item-icon",children:(0,lh.jsx)(Sb,{})}),(0,lh.jsxs)("div",{className:"menu-item-content",children:[(0,lh.jsx)("span",{className:"menu-item-label",children:"Cerrar Sesi\xf3n"}),(0,lh.jsx)("span",{className:"menu-item-description",children:"Salir de la aplicaci\xf3n"})]})]})]})]})]})]})})},Mb=e=>e.posts.items,zb=e=>e.posts.loading,Db=e=>e.posts.error,Bb=(Oh([Mb,(e,t)=>t],(e,t)=>(null===e||void 0===e?void 0:e.filter(e=>e.authorId===t))||[]),Oh([Mb,(e,t)=>t],(e,t)=>(null===e||void 0===e?void 0:e.filter(e=>e.category===t))||[]),Oh([Mb,(e,t)=>t],(e,t)=>e.find(e=>e.id===t)),Oh([Mb],e=>(null===e||void 0===e?void 0:e.length)||0),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enablePolling:n=!0,pollingInterval:r=3e3,showNotifications:s=!0}=t,a=w(),i=N(Mb),o=N(zb),l=N(Db),{data:c,error:d}=lm("posts",{interval:r,enabled:n,onInsert:(0,e.useCallback)(e=>{var t,n;(console.log("\ud83c\udd95 Nuevo post detectado:",(null===(t=e.content)||void 0===t?void 0:t.substring(0,50))+"..."),a(Ri(e)),s&&"Notification"in window&&"granted"===Notification.permission)&&new Notification("Nuevo post en tu vecindario",{body:(null===(n=e.content)||void 0===n?void 0:n.substring(0,100))+"...",icon:"/favicon.ico",tag:"post-".concat(e.id)})},[a,s]),onUpdate:(0,e.useCallback)((e,t)=>{console.log("\ud83d\udcdd Post actualizado:",e.id),a(Li(e))},[a]),onDelete:(0,e.useCallback)(e=>{console.log("\ud83d\uddd1\ufe0f Post eliminado:",e.id),a(Mi(e.id))},[a])});(0,e.useEffect)(()=>{0!==i.length||o||a(xi())},[a,i.length,o]),(0,e.useEffect)(()=>{s&&"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[s]);const u={isPolling:n,interval:r,error:d,lastUpdate:(null===c||void 0===c?void 0:c.length)>0?(new Date).toISOString():null};return{posts:i,loading:o,error:l,createPost:async e=>{const t=await a(wi(e));return wi.fulfilled.match(t)?{success:!0,post:t.payload}:{success:!1,error:t.error.message}},updatePost:async(e,t)=>{const n=await a(ji({postId:e,updates:t}));return ji.fulfilled.match(n)?{success:!0}:{success:!1,error:n.error.message}},deletePost:async e=>{const t=await a(_i(e));return _i.fulfilled.match(t)?{success:!0}:{success:!1,error:t.error.message}},addReaction:async(e,t)=>{const n=await a(Ni({postId:e,emoji:t}));return Ni.fulfilled.match(n)?{success:!0}:{success:!1,error:n.error.message}},addComment:async(e,t)=>{const n=await a(Si({postId:e,content:t}));return Si.fulfilled.match(n)?{success:!0,comment:n.payload.comment}:{success:!1,error:n.error.message}},clearError:()=>{a(Ei())},pollingStatus:u,getUserPosts:e=>(console.warn("getUserPosts debe ser usado con useSelector directamente en el componente"),[]),getPostsByCategory:e=>(console.warn("getPostsByCategory debe ser usado con useSelector directamente en el componente"),[])}}),Vb=t=>{let{showDetails:n=!1}=t;const{pollingStatus:r}=Bb(),{pollingStatus:s}=pm(),[a,i]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),c=e=>e.isPolling?e.error?"#ef4444":"#10b981":"#6b7280",d=(e,t)=>e.isPolling?e.error?"".concat(t," error: ").concat(e.error):"".concat(t," polling activo (").concat(e.interval/1e3,"s)"):"".concat(t," polling deshabilitado");return(0,lh.jsxs)("div",{className:"realtime-status-indicator",children:[(0,lh.jsxs)("div",{className:"status-summary",children:[(0,lh.jsxs)("div",{className:"status-dots",children:[(0,lh.jsx)("div",{className:"status-dot",style:{backgroundColor:c(r)},title:d(r,"Posts")}),(0,lh.jsx)("div",{className:"status-dot",style:{backgroundColor:c(s)},title:d(s,"Notificaciones")})]}),(0,lh.jsx)("span",{className:"status-label",children:"Real-time"}),n&&(0,lh.jsx)("button",{className:"test-toggle",onClick:()=>l(!o),children:"Test"})]}),n&&o&&(0,lh.jsxs)("div",{className:"test-panel",children:[(0,lh.jsxs)("div",{className:"test-header",children:[(0,lh.jsx)("h4",{children:"\ud83e\uddea Panel de Pruebas Real-time"}),(0,lh.jsx)("p",{children:"Crea datos de prueba para verificar que el polling funciona"})]}),(0,lh.jsxs)("div",{className:"test-controls",children:[(0,lh.jsx)("button",{onClick:async()=>{i(!0);try{const{data:e}=await oi.from("users").select("id").limit(1);if(e&&e.length>0){const{error:t}=await oi.from("posts").insert([{author_id:e[0].id,content:"\ud83d\udd04 TEST POLLING - ".concat((new Date).toLocaleTimeString()," - Si ves esto sin recargar, \xa1el polling funciona!"),created_at:(new Date).toISOString()}]);if(t)throw t;console.log("\u2705 Post de prueba creado para testing de polling")}}catch(e){console.error("\u274c Error creando post de prueba:",e.message)}finally{i(!1)}},disabled:a,className:"test-btn primary",children:a?"\u23f3 Creando...":"\ud83d\udcdd Crear Post de Prueba"}),(0,lh.jsx)("button",{onClick:async()=>{i(!0);try{const{data:e}=await oi.from("users").select("id").limit(1);if(e&&e.length>0){const{error:t}=await oi.from("notifications").insert([{user_id:e[0].id,type:"test",message:"\ud83d\udd14 Notificaci\xf3n de prueba - ".concat((new Date).toLocaleTimeString()),read:!1}]);if(t)throw t;console.log("\u2705 Notificaci\xf3n de prueba creada")}}catch(e){console.error("\u274c Error creando notificaci\xf3n:",e.message)}finally{i(!1)}},disabled:a,className:"test-btn secondary",children:a?"\u23f3 Creando...":"\ud83d\udd14 Crear Notificaci\xf3n"})]}),(0,lh.jsxs)("div",{className:"test-status",children:[(0,lh.jsxs)("div",{className:"status-item",children:[(0,lh.jsx)("span",{className:"status-label",children:"Posts:"}),(0,lh.jsx)("span",{className:"status-value",children:d(r,"")})]}),(0,lh.jsxs)("div",{className:"status-item",children:[(0,lh.jsx)("span",{className:"status-label",children:"Notificaciones:"}),(0,lh.jsx)("span",{className:"status-value",children:d(s,"")})]})]}),(0,lh.jsxs)("div",{className:"test-info",children:[(0,lh.jsxs)("p",{children:["\ud83d\udca1 ",(0,lh.jsx)("strong",{children:"C\xf3mo probar:"})]}),(0,lh.jsxs)("ol",{children:[(0,lh.jsx)("li",{children:"Crea un post o notificaci\xf3n de prueba"}),(0,lh.jsx)("li",{children:"Observa que aparece autom\xe1ticamente sin recargar"}),(0,lh.jsx)("li",{children:"Revisa la consola para ver los logs de eventos"})]})]})]})]})},Ub=()=>{const t=ou(),n=N(Lu),{unreadCount:r,pollingStatus:s}=pm({enablePolling:!0,pollingInterval:2e3,showBrowserNotifications:!0,playSound:!0}),{darkMode:a,toggleDarkMode:i,unreadMessagesCount:o}=dh(),{isMobileSidebarOpen:l,toggleMobileSidebar:c}=vh(),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),y=(0,e.useRef)(null),b=(0,e.useRef)(null),x=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const e=e=>{e.target.closest(".dropdown-menu-item")||(y.current&&!y.current.contains(e.target)&&u(!1),b.current&&!b.current.contains(e.target)&&p(!1),x.current&&!x.current.contains(e.target)&&f(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("header",{className:"header",children:[(0,lh.jsxs)("div",{className:"header-left",children:[(0,lh.jsx)("button",{className:"hamburger-btn",onClick:c,"aria-label":"Abrir men\xfa",children:l?(0,lh.jsx)(fb,{}):(0,lh.jsx)(mb,{})}),(0,lh.jsxs)("div",{className:"logo",onClick:()=>t("/app"),children:[(0,lh.jsx)(ub,{className:"logo-icon"}),(0,lh.jsx)("span",{className:"logo-text",children:"Vecino Activo"})]}),(null===n||void 0===n?void 0:n.neighborhood)&&(0,lh.jsxs)("div",{className:"neighborhood-badge",children:[(0,lh.jsx)(hb,{className:"neighborhood-icon"}),(0,lh.jsx)("span",{className:"neighborhood-name",children:n.neighborhood})]}),(0,lh.jsx)("div",{className:"search-bar",onClick:()=>v(!0),children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar vecinos...",readOnly:!0})})]}),(0,lh.jsxs)("div",{className:"header-right",children:[(0,lh.jsx)(Vb,{showDetails:!0}),(0,lh.jsx)("button",{className:"icon-btn desktop-only",onClick:()=>t("/app"),children:(0,lh.jsx)(ib,{})}),(0,lh.jsx)("div",{className:"dropdown-container",ref:y,children:(0,lh.jsxs)("button",{className:"icon-btn",onClick:()=>u(!d),children:[(0,lh.jsx)(ob,{}),r>0&&(0,lh.jsx)("span",{className:"badge",children:r})]})}),(0,lh.jsx)("div",{className:"dropdown-container",ref:b,children:(0,lh.jsxs)("button",{className:"icon-btn",onClick:()=>p(!h),children:[(0,lh.jsx)(lb,{}),o>0&&(0,lh.jsx)("span",{className:"badge",children:o})]})}),(0,lh.jsx)("button",{className:"icon-btn desktop-only",onClick:i,children:a?(0,lh.jsx)(db,{}):(0,lh.jsx)(cb,{})}),(0,lh.jsx)("div",{className:"dropdown-container",ref:x,children:(0,lh.jsxs)("div",{className:"user-profile",onClick:()=>f(!m),children:[(0,lh.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar,alt:"User"}),(0,lh.jsxs)("div",{className:"user-info",children:[(0,lh.jsx)("span",{className:"user-name",children:null===n||void 0===n?void 0:n.name}),(0,lh.jsx)("span",{className:"user-status",children:"Activo ahora"})]}),(0,lh.jsx)(pb,{className:"dropdown-arrow"})]})})]})]}),l&&(0,lh.jsx)(Lb,{}),d&&ku.createPortal((0,lh.jsx)(yb,{isOpen:d,onClose:()=>u(!1)}),document.body),h&&ku.createPortal((0,lh.jsx)(xb,{onClose:()=>p(!1)}),document.body),m&&ku.createPortal((0,lh.jsx)(Cb,{onClose:()=>f(!1)}),document.body),g&&(0,lh.jsx)(Ib,{onClose:()=>v(!1)})]})},qb=ab((0,lh.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),Fb=ab((0,lh.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),Hb=ab((0,lh.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),Wb=ab((0,lh.jsx)("path",{d:"M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3m4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2"})),Gb=()=>{var e;const t=ou(),n=au(),{user:r,logout:s}=lp(),a=[{icon:(0,lh.jsx)(qb,{}),path:"/app",label:"Inicio"},{icon:(0,lh.jsx)(Ab,{}),path:"/app/descubrir-vecinos",label:"Descubrir"},{icon:(0,lh.jsx)(Tb,{}),path:"/app/mapa",label:"Mapa del Barrio"},{icon:(0,lh.jsx)(Wb,{}),path:"/app/hub-comunitario",label:"Hub Comunitario"},{icon:(0,lh.jsx)(Fb,{}),path:"/app/eventos",label:"Eventos"},{icon:null,avatar:null===r||void 0===r?void 0:r.avatar,path:"/app/".concat((null===r||void 0===r?void 0:r.username)||(null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.toLowerCase().replace(/\s+/g,"-"))||"usuario"),label:"Perfil",matchPaths:["/app/linea-tiempo","/app/acerca-de"]},{icon:(0,lh.jsx)(Hb,{}),path:"/app/mensajes",label:"Mensajes"}],i=e=>e.matchPaths?e.matchPaths.includes(n.pathname):n.pathname===e.path;return(0,lh.jsxs)("aside",{className:"sidebar",children:[(0,lh.jsx)("nav",{className:"sidebar-nav",children:a.map((e,n)=>(0,lh.jsx)("button",{className:"sidebar-item ".concat(i(e)?"active":""),onClick:()=>t(e.path),title:e.label,children:e.avatar?(0,lh.jsx)("img",{src:e.avatar,alt:e.label,className:"sidebar-avatar"}):e.icon},n))}),(0,lh.jsxs)("div",{className:"sidebar-footer",children:[(0,lh.jsx)("button",{className:"sidebar-item",title:"Configuraci\xf3n",onClick:()=>t("/app/configuracion"),children:(0,lh.jsx)(jb,{})}),(0,lh.jsx)("button",{className:"sidebar-item logout",title:"Cerrar sesi\xf3n",onClick:async()=>{(await ac("Cerrar sesi\xf3n","\xbfEst\xe1s seguro de que quieres cerrar sesi\xf3n?","S\xed, cerrar sesi\xf3n","Cancelar")).isConfirmed&&(s(),ec("\xa1Sesi\xf3n cerrada exitosamente!"),t("/iniciar-sesion",{replace:!0}))},children:(0,lh.jsx)(Sb,{})})]})]})},Zb=ab((0,lh.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Jb=ab((0,lh.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),Kb=ab((0,lh.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),$b=ab((0,lh.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Yb=(e,t,n,r)=>{const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},Xb=e=>e<1?"".concat(Math.round(1e3*e)," m"):"".concat(e.toFixed(1)," KM"),Qb=()=>{const t=ou(),n=au(),{isRightSidebarCollapsed:r,toggleRightSidebar:s}=vh(),{user:a}=lp(),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(!0),[d,u]=(0,e.useState)(!0);if(["/contacto","/descubrir-vecinos","/fotos"].includes(n.pathname))return null;const h=(null===a||void 0===a?void 0:a.latitude)||-33.2,p=(null===a||void 0===a?void 0:a.longitude)||-70.65,m=(null===a||void 0===a?void 0:a.name)||"",f=[{id:1,name:"Carlos Mendoza",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=11",lat:-33.2,lon:-70.65},{id:2,name:"Maria Elena Rodriguez",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=5",lat:-33.201,lon:-70.651}].map(e=>z(z({},e),{},{distance:Yb(h,p,e.lat,e.lon)})).sort((e,t)=>e.distance-t.distance),g=[{id:3,name:"Josephin Water",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=8",lat:-33.2,lon:-70.65,online:!0},{id:4,name:"Juan Pablo Torres",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=12",lat:-33.202,lon:-70.652,online:!0},{id:5,name:"Ana Maria Fernandez",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=9",lat:-33.203,lon:-70.653,online:!1},{id:6,name:"Roberto Carlos Gomez",location:"Chicureo, Colina",avatar:"https://i.pravatar.cc/50?img=13",lat:-33.23,lon:-70.68,online:!1},{id:7,name:"Patricia Vasquez",location:"Chamisero, Colina",avatar:"https://i.pravatar.cc/50?img=10",lat:-33.205,lon:-70.655,online:!1}].map(e=>z(z({},e),{},{distance:Yb(h,p,e.lat,e.lon)})).sort((e,t)=>e.distance-t.distance),v=f.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())),y=g.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())&&e.name!==m);return(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("button",{className:"collapse-toggle-btn ".concat(r?"collapsed":""),onClick:s,title:r?"Expandir chat":"Ocultar chat",style:{pointerEvents:"auto"},children:r?(0,lh.jsx)(Kb,{}):(0,lh.jsx)($b,{})}),!r&&(0,lh.jsx)("aside",{className:"right-sidebar ".concat(r?"collapsed":""),children:(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"sidebar-section",children:[(0,lh.jsx)("div",{className:"section-header",children:(0,lh.jsx)("h3",{children:"Vecinos"})}),(0,lh.jsx)("p",{className:"section-subtitle",children:"Iniciar Nueva Conversaci\xf3n"}),(0,lh.jsx)("div",{className:"search-box",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar vecinos...",value:i,onChange:e=>o(e.target.value)})}),(0,lh.jsxs)("div",{className:"friends-list",children:[(0,lh.jsxs)("div",{className:"list-header",children:[(0,lh.jsx)("h4",{children:"Vecinos Cercanos"}),(0,lh.jsx)("button",{className:"toggle-btn",onClick:()=>c(!l),children:l?(0,lh.jsx)(Jb,{fontSize:"small"}):(0,lh.jsx)(Zb,{fontSize:"small"})})]}),l&&v.map(e=>(0,lh.jsxs)("div",{className:"friend-item",onClick:()=>(e=>{const n=e.name.toLowerCase().replace(/\s+/g,"");t("/".concat(n))})(e),style:{cursor:"pointer"},children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsxs)("div",{className:"friend-info",children:[(0,lh.jsx)("span",{className:"friend-name",children:e.name}),(0,lh.jsxs)("span",{className:"friend-location",children:[e.location," \u2022 ",Xb(e.distance)]})]})]},e.id)),l&&0===v.length&&(0,lh.jsx)("p",{style:{textAlign:"center",color:"#65676b",padding:"10px",fontSize:"14px"},children:"No se encontraron vecinos"})]})]}),(0,lh.jsxs)("div",{className:"sidebar-section",children:[(0,lh.jsxs)("div",{className:"list-header",children:[(0,lh.jsx)("h4",{children:"Chats Recientes"}),(0,lh.jsx)("button",{className:"toggle-btn",onClick:()=>u(!d),children:d?(0,lh.jsx)(Jb,{fontSize:"small"}):(0,lh.jsx)(Zb,{fontSize:"small"})})]}),d&&y.map(e=>(0,lh.jsxs)("div",{className:"friend-item",onClick:()=>{t("/app/mensajes",{state:{selectedFriend:e}})},style:{cursor:"pointer"},children:[(0,lh.jsxs)("div",{className:"avatar-wrapper",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),e.online&&(0,lh.jsx)("span",{className:"online-indicator"})]}),(0,lh.jsxs)("div",{className:"friend-info",children:[(0,lh.jsx)("span",{className:"friend-name",children:e.name}),(0,lh.jsxs)("span",{className:"friend-location",children:[e.location," \u2022 ",Xb(e.distance)]})]})]},e.id)),d&&0===y.length&&(0,lh.jsx)("p",{style:{textAlign:"center",color:"#65676b",padding:"10px",fontSize:"14px"},children:"No se encontraron chats"})]})]})})]})},ex=e=>{let{children:t}=e;const n=au(),{isRightSidebarCollapsed:r}=vh(),s=[].includes(n.pathname),a=["/contacto","/descubrir-vecinos","/mensajes"].includes(n.pathname);return(0,lh.jsxs)("div",{className:"layout",children:[(0,lh.jsx)(Ub,{}),(0,lh.jsxs)("div",{className:"layout-container ".concat(s?"full-width":""," ").concat(r?"sidebar-collapsed":""),children:[!s&&(0,lh.jsx)(Gb,{}),(0,lh.jsx)("main",{className:"main-content ".concat(s?"full-width-content":""),children:t}),!s&&!a&&(0,lh.jsx)(Qb,{})]})]})};function tx(){return Date.now()+Math.floor(1e3*Math.random())}const nx=[{id:999,username:"administrador",name:"Administrador",email:"admin@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=1",cover:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1200&h=400&fit=crop",bio:"Administrador del sistema Vecino Activo. Aqu\xed para ayudar a la comunidad.",location:"Santiago, Chile",verified:!0,isVerifiedNeighbor:!0,neighborhoodName:"Administraci\xf3n Central",neighborhoodCode:"ADM-001",following:5,followers:150,posts:12,friends:25,createdAt:"2024-01-01T00:00:00.000Z",lastLogin:(new Date).toISOString()},{id:1001,username:"maria-gonzalez",name:"Mar\xeda Gonz\xe1lez",email:"maria@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=5",cover:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=400&fit=crop",bio:"Vecina activa de Las Condes. Me encanta organizar eventos comunitarios.",location:"Las Condes, Santiago",verified:!1,isVerifiedNeighbor:!0,neighborhoodName:"Las Condes Centro",neighborhoodCode:"LC-001",following:12,followers:45,posts:8,friends:15,createdAt:"2024-01-15T00:00:00.000Z",lastLogin:(new Date).toISOString()},{id:1002,username:"carlos-rodriguez",name:"Carlos Rodr\xedguez",email:"carlos@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=8",cover:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&h=400&fit=crop",bio:"Ingeniero y padre de familia. Siempre dispuesto a ayudar a mis vecinos.",location:"Providencia, Santiago",verified:!1,isVerifiedNeighbor:!0,neighborhoodName:"Providencia Norte",neighborhoodCode:"PR-002",following:8,followers:32,posts:15,friends:20,createdAt:"2024-02-01T00:00:00.000Z",lastLogin:(new Date).toISOString()},{id:1003,username:"ana-martinez",name:"Ana Mart\xednez",email:"ana@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=9",cover:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=1200&h=400&fit=crop",bio:"Profesora y activista comunitaria. Trabajando por un barrio mejor.",location:"\xd1u\xf1oa, Santiago",verified:!0,isVerifiedNeighbor:!0,neighborhoodName:"\xd1u\xf1oa Centro",neighborhoodCode:"NU-003",following:20,followers:78,posts:22,friends:35,createdAt:"2024-01-20T00:00:00.000Z",lastLogin:(new Date).toISOString()},{id:1004,username:"pedro-silva",name:"Pedro Silva",email:"pedro@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=12",cover:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=400&fit=crop",bio:"Comerciante local y organizador de eventos deportivos.",location:"Maip\xfa, Santiago",verified:!1,isVerifiedNeighbor:!0,neighborhoodName:"Maip\xfa Centro",neighborhoodCode:"MP-001",following:15,followers:28,posts:6,friends:18,createdAt:"2024-02-10T00:00:00.000Z",lastLogin:(new Date).toISOString()}],rx=[{id:tx(),author:"Administrador",authorId:999,time:"hace 2 horas",avatar:"https://i.pravatar.cc/150?img=1",content:"\xa1Bienvenidos a Vecino Activo! \ud83c\udfd8\ufe0f Esta plataforma est\xe1 dise\xf1ada para conectar a los vecinos y fortalecer nuestras comunidades. Compartan sus ideas, organicen eventos y ay\xfadense mutuamente. \xa1Juntos construimos un mejor barrio!",hashtags:["#VecinoActivo","#Comunidad","#Bienvenida"],likes:45,comments:12,shares:8,reactions:["\ud83e\udd1d","\u2764\ufe0f","\ud83d\udc4f","\ud83d\udca1"],category:"announcement"},{id:tx(),author:"Mar\xeda Gonz\xe1lez",authorId:1001,time:"hace 4 horas",avatar:"https://i.pravatar.cc/150?img=5",content:"Organizando una junta de vecinos para el pr\xf3ximo s\xe1bado a las 10:00 AM en la plaza del barrio. Vamos a discutir temas importantes como la seguridad y el mantenimiento de \xe1reas verdes. \xa1Los esperamos! \ud83c\udf33",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=500&fit=crop",hashtags:["#JuntaVecinos","#Comunidad","#LasCondes"],likes:23,comments:7,shares:5,reactions:["\ud83e\udd1d","\ud83d\udc4f","\ud83d\udca1"],category:"community"},{id:tx(),author:"Carlos Rodr\xedguez",authorId:1002,time:"hace 6 horas",avatar:"https://i.pravatar.cc/150?img=8",content:"Encontr\xe9 este gatito perdido cerca del metro Providencia. Parece estar bien cuidado, seguramente tiene due\xf1o. Si alguien lo reconoce o sabe de alguien que haya perdido un gato, por favor av\xedsenme. \ud83d\udc31",image:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=800&h=500&fit=crop",hashtags:["#MascotaPerdida","#Providencia","#Ayuda"],likes:67,comments:15,shares:12,reactions:["\u2764\ufe0f","\ud83e\udd1d","\ud83d\ude4c"],category:"help"}];function sx(){try{console.log("\ud83d\udd04 Verificando datos de demostraci\xf3n...");const e=oh.getUsers();if(e.find(e=>"administrador"===e.username||999===e.id))return console.log("\u2139\ufe0f Datos de demostraci\xf3n ya existen"),!1;{console.log("\u26a0\ufe0f Usuario administrador no encontrado. Inicializando datos..."),nx.forEach(t=>{e.find(e=>e.id===t.id||e.username===t.username)||(e.push(t),console.log("\u2705 Usuario agregado: ".concat(t.name," (@").concat(t.username,")")))}),oh.saveUsers(e);const t=oh.getPosts();rx.forEach(e=>{t.find(t=>t.content===e.content)||t.unshift(e)}),oh.savePosts(t);const n=JSON.parse(localStorage.getItem("friendbook_friends")||"{}");return n[999]||(n[999]=[1001,1002,1003,1004],n[1001]=[999,1002],n[1002]=[999,1001,1003],n[1003]=[999,1002],n[1004]=[999],localStorage.setItem("friendbook_friends",JSON.stringify(n))),console.log("\u2705 Datos de demostraci\xf3n inicializados correctamente"),!0}}catch(e){return console.error("\u274c Error al inicializar datos de demostraci\xf3n:",e),!1}}const ax=()=>((0,e.useEffect)(()=>{console.log("\ud83d\ude80 AppInitializer: Inicializando aplicaci\xf3n...");try{const e=sx(),t={id:999,username:"administrador",name:"Administrador",email:"admin@vecinoactivo.cl",avatar:"https://i.pravatar.cc/150?img=1",cover:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1200&h=400&fit=crop",bio:"Administrador del sistema Vecino Activo. Aqu\xed para ayudar a la comunidad.",location:"Santiago, Chile",verified:!0,isVerifiedNeighbor:!0,neighborhoodName:"Administraci\xf3n Central",neighborhoodCode:"ADM-001",following:5,followers:150,posts:12,friends:25,address:"Oficina Central Vecino Activo",addressNumber:"S/N",addressStreet:"Oficina Central",city:"Santiago",region:"Region Metropolitana",latitude:-33.4489,longitude:-70.6693,neighborhood:"Administraci\xf3n Central",likes:0,password:"admin123",createdAt:(new Date).toISOString(),lastLogin:(new Date).toISOString()},n=JSON.parse(localStorage.getItem("friendbook_users")||"[]");n.find(e=>999===e.id||"administrador"===e.username)||(n.push(t),localStorage.setItem("friendbook_users",JSON.stringify(n)),console.log("\u2705 Usuario administrador agregado")),e?console.log("\u2705 AppInitializer: Datos de demostraci\xf3n inicializados"):console.log("\u2139\ufe0f AppInitializer: Datos de demostraci\xf3n ya exist\xedan"),console.log("\u2705 AppInitializer: Inicializaci\xf3n completada")}catch(e){console.error("\u274c Error en AppInitializer:",e)}},[]),null),ix=t=>{let{children:n}=t;const r=w();return(0,e.useEffect)(()=>{(async()=>{try{console.log("\ud83d\ude80 ReduxInitializer: Iniciando..."),oh.initializeMockData();const t=r(ui()),n=new Promise((e,t)=>setTimeout(()=>t(new Error("Session restore timeout")),5e3));try{await Promise.race([t,n])}catch(e){console.warn("\u26a0\ufe0f Session restore failed or timed out:",e.message)}setTimeout(()=>{r(xi()),r(Bi())},100),console.log("\u2705 ReduxInitializer: Completado")}catch(e){console.error("\u274c Error en ReduxInitializer:",e)}})()},[r]),n},ox=t=>{let{children:n}=t;const r=N(Mu),s=N(Lu),a=w();return(0,e.useEffect)(()=>{r&&"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{console.log("\ud83d\udd14 Permiso de notificaciones:",e)})},[r]),(0,e.useEffect)(()=>{if(!r||!s)return;console.log("\ud83d\udd04 Polling activado - consultando cada 10 segundos");const e=()=>{console.log("\ud83d\udd04 Refrescando datos..."),a(xi({neighborhoodId:s.neighborhoodId,limit:50,offset:0})).catch(e=>{console.error("Error al recargar posts:",e)}),a(Bi()).catch(e=>{console.error("Error al recargar notificaciones:",e)}),a(Lo()).catch(e=>{console.error("Error al recargar mensajes:",e)})};e();const t=setInterval(e,1e4);return()=>{console.log("\ud83d\udd04 Polling desactivado"),clearInterval(t)}},[r,s,a]),(0,e.useEffect)(()=>{r?console.log("\ud83d\udd04 Polling Provider activado (alternativa a Real-time)"):console.log("\ud83d\udd04 Polling Provider desactivado (usuario no autenticado)")},[r]),n},lx=ab((0,lh.jsx)("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"})),cx=ab((0,lh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),dx=ab((0,lh.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),ux=ab((0,lh.jsx)("path",{d:"M8 5v14l11-7z"})),hx=ab((0,lh.jsx)("path",{d:"M11 14H9c0-4.97 4.03-9 9-9v2c-3.87 0-7 3.13-7 7m7-3V9c-2.76 0-5 2.24-5 5h2c0-1.66 1.34-3 3-3M7 4c0-1.11-.89-2-2-2s-2 .89-2 2 .89 2 2 2 2-.89 2-2m4.45.5h-2C9.21 5.92 7.99 7 6.5 7h-3C2.67 7 2 7.67 2 8.5V11h6V8.74c1.86-.59 3.25-2.23 3.45-4.24M19 17c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m1.5 1h-3c-1.49 0-2.71-1.08-2.95-2.5h-2c.2 2.01 1.59 3.65 3.45 4.24V22h6v-2.5c0-.83-.67-1.5-1.5-1.5"})),px=ab((0,lh.jsx)("path",{d:"m2 22 14-5-9-9zm12.53-9.47 5.59-5.59c.49-.49 1.28-.49 1.77 0l.59.59 1.06-1.06-.59-.59c-1.07-1.07-2.82-1.07-3.89 0l-5.59 5.59zm-4.47-5.65-.59.59 1.06 1.06.59-.59c1.07-1.07 1.07-2.82 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76m7 5-1.59 1.59 1.06 1.06 1.59-1.59c.49-.49 1.28-.49 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61c-1.08-1.07-2.82-1.07-3.89 0m-2-6-3.59 3.59 1.06 1.06 3.59-3.59c1.07-1.07 1.07-2.82 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77"})),mx=ab((0,lh.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),fx=ab((0,lh.jsx)("path",{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89m-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41-.25-.29-.37-.68-.33-1.07m-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17M5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19z"})),gx=ab((0,lh.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),vx=ab([(0,lh.jsx)("path",{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},"0"),(0,lh.jsx)("path",{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3zm9 6h-2V7h2z"},"1")]),yx=ab([(0,lh.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,lh.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,lh.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")]),bx=ab((0,lh.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"})),xx=ab((0,lh.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}));function wx(e,t){return Object.freeze(z(z({},e),t))}const jx=(0,e.createContext)(null),_x=jx.Provider;function Nx(){const t=(0,e.useContext)(jx);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Sx(){return Nx().map}var Cx=n(527),kx=n.n(Cx);const Ex=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Px(){return Px=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(this,arguments)}function Ix(t,n){let{bounds:r,boundsOptions:s,center:a,children:i,className:o,id:l,placeholder:c,style:d,whenReady:u,zoom:h}=t,p=T(t,Ex);const[m]=(0,e.useState)({className:o,id:l,style:d}),[f,g]=(0,e.useState)(null);(0,e.useImperativeHandle)(n,()=>{var e;return null!==(e=null===f||void 0===f?void 0:f.map)&&void 0!==e?e:null},[f]);const v=(0,e.useCallback)(e=>{if(null!==e&&null===f){const t=new Cx.Map(e,p);null!=a&&null!=h?t.setView(a,h):null!=r&&t.fitBounds(r,s),null!=u&&t.whenReady(u),g(function(e){return Object.freeze({__version:1,map:e})}(t))}},[]);(0,e.useEffect)(()=>()=>{null===f||void 0===f||f.map.remove()},[f]);const y=f?e.createElement(_x,{value:f},i):null!==c&&void 0!==c?c:null;return e.createElement("div",Px({},m,{ref:v}),y)}const Ax=(0,e.forwardRef)(Ix);function Tx(t){function n(n,r){const{instance:s,context:a}=t(n).current;return(0,e.useImperativeHandle)(r,()=>s),null==n.children?null:e.createElement(_x,{value:a},n.children)}return(0,e.forwardRef)(n)}function Ox(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Rx(t,n){return null==n?function(n,r){const s=(0,e.useRef)();return s.current||(s.current=t(n,r)),s}:function(r,s){const a=(0,e.useRef)();a.current||(a.current=t(r,s));const i=(0,e.useRef)(r),{instance:o}=a.current;return(0,e.useEffect)(function(){i.current!==r&&(n(o,r,i.current),i.current=r)},[o,r,s]),a}}function Lx(t,n){const r=(0,e.useRef)(n);(0,e.useEffect)(function(){n!==r.current&&null!=t.attributionControl&&(null!=r.current&&t.attributionControl.removeAttribution(r.current),null!=n&&t.attributionControl.addAttribution(n)),r.current=n},[t,n])}function Mx(t,n){const r=(0,e.useRef)();(0,e.useEffect)(function(){return null!=n&&t.instance.on(n),r.current=n,function(){null!=r.current&&t.instance.off(r.current),r.current=null}},[t,n])}function zx(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?z(z({},e),{},{pane:r}):e}function Dx(t,n){(0,e.useEffect)(function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function Bx(e){return function(t){const n=Nx(),r=e(zx(t,n),n);return Lx(n.map,t.attribution),Mx(r.current,t.eventHandlers),Dx(r.current,n),r}}function Vx(t){return function(n){const r=Nx(),s=t(zx(n,r),r);return Mx(s.current,n.eventHandlers),Dx(s.current,r),function(t,n){const r=(0,e.useRef)();(0,e.useEffect)(function(){if(n.pathOptions!==r.current){var e;const s=null!==(e=n.pathOptions)&&void 0!==e?e:{};t.instance.setStyle(s),r.current=s}},[t,n])}(s.current,n),s}}function Ux(e,t){return Tx(Vx(Rx(e,t)))}const qx=["url"],Fx=(Hx=function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:s}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=s&&s!==n.zIndex&&e.setZIndex(s)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)},function(t){function n(n,r){const{instance:s}=t(n).current;return(0,e.useImperativeHandle)(r,()=>s),null}return(0,e.forwardRef)(n)}(Bx(Rx(function(e,t){let{url:n}=e,r=T(e,qx);return Ox(new Cx.TileLayer(n,zx(r,t)),t)},Hx))));var Hx;const Wx=["data"],Gx=Ux(function(e,t){let{data:n}=e,r=T(e,Wx);const s=new Cx.GeoJSON(n,r);return Ox(s,wx(t,{overlayContainer:s}))},function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))}),Zx=["position"],Jx=function(e,t){return Tx(Bx(Rx(e,t)))}(function(e,t){let{position:n}=e,r=T(e,Zx);const s=new Cx.Marker(n,r);return Ox(s,wx(t,{overlayContainer:s}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),Kx=function(t,n){const r=function(e,t){return function(n,r){const s=Nx(),a=e(zx(n,s),s);return Lx(s.map,n.attribution),Mx(a.current,n.eventHandlers),t(a.current,s,n,r),a}}(Rx(t),n);return function(t){function n(n,r){const[s,a]=(0,e.useState)(!1),{instance:i}=t(n,a).current;(0,e.useImperativeHandle)(r,()=>i),(0,e.useEffect)(function(){s&&i.update()},[i,s,n.children]);const o=i._contentNode;return o?(0,ku.createPortal)(n.children,o):null}return(0,e.forwardRef)(n)}(r)}(function(e,t){return Ox(new Cx.Popup(e,t.overlayContainer),t)},function(t,n,r,s){let{position:a}=r;(0,e.useEffect)(function(){const{instance:e}=t;function r(t){t.popup===e&&(e.update(),s(!0))}function i(t){t.popup===e&&s(!1)}return n.map.on({popupopen:r,popupclose:i}),null==n.overlayContainer?(null!=a&&e.setLatLng(a),e.openOn(n.map)):n.overlayContainer.bindPopup(e),function(){var t;n.map.off({popupopen:r,popupclose:i}),null===(t=n.overlayContainer)||void 0===t||t.unbindPopup(),n.map.removeLayer(e)}},[t,n,s,a])}),$x="http://localhost:3001/api";const Yx=new class{async getAllNeighborhoods(){try{const e=await fetch("".concat($x,"/neighborhoods"));if(!e.ok)throw new Error("Error fetching neighborhoods");return await e.json()}catch(e){return console.error("Error loading neighborhoods:",e),null}}async getNeighborhoodsByRegion(e){try{const t=await fetch("".concat($x,"/neighborhoods/region/").concat(e));if(!t.ok)throw new Error("Error fetching neighborhoods by region");return await t.json()}catch(t){return console.error("Error loading neighborhoods by region:",t),null}}async getNeighborhoodsByBounds(e){try{const{minLat:t,maxLat:n,minLng:r,maxLng:s}=e,a=new URLSearchParams({minLat:t.toString(),maxLat:n.toString(),minLng:r.toString(),maxLng:s.toString()}),i=await fetch("".concat($x,"/neighborhoods/bbox?").concat(a));if(!i.ok)throw new Error("Error fetching neighborhoods by bounds");return await i.json()}catch(t){return console.error("Error loading neighborhoods by bounds:",t),null}}async checkHealth(){try{const e=await fetch("".concat($x,"/health"));if(!e.ok)return!1;return"ok"===(await e.json()).status}catch(e){return console.error("Backend server is not available:",e),!1}}},Xx="https://nominatim.openstreetmap.org";let Qx=0;const ew=1e3,tw=e=>new Promise(t=>setTimeout(t,e)),nw=async e=>{try{const t=Date.now()-Qx;t<ew&&await tw(ew-t),Qx=Date.now();const n=new URLSearchParams({q:e,format:"json",countrycodes:"cl",addressdetails:"1",limit:"5"}),r=await fetch("".concat(Xx,"/search?").concat(n),{headers:{"User-Agent":"VecinoActivo/1.0"}});if(!r.ok)throw new Error("Error en la geocodificaci\xf3n");return(await r.json()).map(e=>({lat:parseFloat(e.lat),lon:parseFloat(e.lon),displayName:e.display_name,address:e.address,type:e.type,importance:e.importance,boundingBox:e.boundingbox}))}catch(t){return console.error("Error geocoding address:",t),[]}},rw=(e,t)=>{const[n,r]=e;let s;if("Polygon"!==t.type){if("MultiPolygon"===t.type){for(const e of t.coordinates)if(sw([n,r],e[0]))return!0;return!1}return!1}return s=t.coordinates[0],sw([n,r],s)},sw=(e,t)=>{const[n,r]=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const[e,o]=t[a],[l,c]=t[i];o>n!==c>n&&r<(l-e)*(n-o)/(c-o)+e&&(s=!s)}return s},aw=async(e,t)=>{try{const n=await nw(e);if(0===n.length)return{error:"No se encontr\xf3 la direcci\xf3n",results:[]};const r=[];for(const e of n){const n=[e.lat,e.lon];for(const s of t.features)if(rw(n,s.geometry)){r.push({uv:{id:s.properties.t_id_uv_ca,codigo:s.properties.uv_carto,nombre:s.properties.t_uv_nom,comuna:s.properties.t_com_nom,region:s.properties.t_reg_nom,geometry:s.geometry,feature:s},address:e,coordinates:n});break}}return 0===r.length?{error:"La direcci\xf3n no pertenece a ninguna Unidad Vecinal registrada",results:n,coordinates:n[0]?[n[0].lat,n[0].lon]:null}:{success:!0,matches:r,primaryMatch:r[0]}}catch(n){return console.error("Error finding UV by address:",n),{error:"Error al buscar la direcci\xf3n"}}},iw=ab((0,lh.jsx)("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),ow=ab((0,lh.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),lw=ab((0,lh.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",dw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let uw=kx().icon({iconUrl:cw,shadowUrl:dw,iconSize:[25,41],iconAnchor:[12,41]});kx().Marker.prototype.options.icon=uw;const hw=t=>{let{setMapInstance:n}=t;const r=Sx();return(0,e.useEffect)(()=>{n(r)},[r,n]),null},pw=()=>{var t;const[n,r]=(0,e.useState)(null),[s,a]=(0,e.useState)(!0),[i,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)([]),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(null),[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)("uv"),[x,w]=(0,e.useState)(!1),[j,_]=(0,e.useState)(null);(0,e.useEffect)(()=>{N()},[]);const N=async()=>{a(!0);try{if(!await Yx.checkHealth())return console.warn("Backend not available, map will show basic view"),void a(!1);const t=await Yx.getAllNeighborhoods();var e;if(t)r(t),console.log("Cargados ".concat((null===(e=t.features)||void 0===e?void 0:e.length)||0," vecindarios de Chile"))}catch(t){console.error("Error loading neighborhoods:",t)}finally{a(!1)}},S=async()=>{if(!l||l.length<5)sc("Direcci\xf3n Incompleta","Por favor ingresa una direcci\xf3n v\xe1lida (ej: Av. Libertador Bernardo O'Higgins 1234, Santiago)");else if(n){w(!0),p(!1),_(null);try{const t=await aw(l,n);if(t.error){if(t.coordinates){var e;const[n,r]=t.coordinates;_({position:[n,r],address:(null===(e=t.results[0])||void 0===e?void 0:e.displayName)||l,error:t.error}),null===m||void 0===m||m.setView([n,r],16)}sc("Direcci\xf3n No Encontrada",t.error)}else if(t.success&&t.primaryMatch){const e=t.primaryMatch;_({position:e.coordinates,address:e.address.displayName,uv:e.uv}),k(e.uv),setTimeout(()=>{rc("\xa1Direcci\xf3n Encontrada!","Unidad Vecinal: UV ".concat(e.uv.codigo,"\nNombre: ").concat(e.uv.nombre,"\nComuna: ").concat(e.uv.comuna))},500)}}catch(t){console.error("Error searching address:",t),sc("Error de B\xfasqueda","Error al buscar la direcci\xf3n. Por favor intenta nuevamente.")}finally{w(!1)}}else nc("Esperando que se carguen los datos del mapa...")},C=e=>{b(e),c(""),u([]),p(!1),_(null)},k=e=>{if(!m)return;v(e),c("UV ".concat(e.codigo," - ").concat(e.nombre)),p(!1);const t="Polygon"===e.geometry.type?e.geometry.coordinates[0]:e.geometry.coordinates[0][0];let n=0,r=0;t.forEach(e=>{let[t,s]=e;n+=s,r+=t});const s=n/t.length,a=r/t.length;m.setView([s,a],15),setTimeout(()=>{const t=m._layers;Object.values(t).forEach(t=>{t.feature&&t.feature.properties.t_id_uv_ca===e.id&&t.openPopup()})},500)};return(0,lh.jsxs)("div",{className:"landing-map-container",children:[(0,lh.jsxs)("div",{className:"landing-map-controls",children:[(0,lh.jsxs)("div",{className:"demo-search-modes",children:[(0,lh.jsxs)("button",{className:"demo-mode-btn ".concat("uv"===y?"active":""),onClick:()=>C("uv"),children:[(0,lh.jsx)(vx,{fontSize:"small"})," Buscar UV"]}),(0,lh.jsxs)("button",{className:"demo-mode-btn ".concat("address"===y?"active":""),onClick:()=>C("address"),children:[(0,lh.jsx)(hb,{fontSize:"small"})," Buscar por Direcci\xf3n"]}),(0,lh.jsxs)("button",{className:"demo-mode-btn ".concat(i?"active":""),onClick:()=>o(!i),children:[i?(0,lh.jsx)(ow,{fontSize:"small"}):(0,lh.jsx)(lw,{fontSize:"small"})," ",i?"Ocultar":"Mostrar"," Vecindarios"]})]}),(0,lh.jsxs)("div",{className:"demo-search-wrapper",children:[(0,lh.jsx)("input",{type:"text",className:"demo-search-input",placeholder:"uv"===y?"Buscar por regi\xf3n, comuna, nombre o c\xf3digo de UV...":"Ingresa tu direcci\xf3n (ej: Av. Libertador 1234, Santiago)...",value:l,onChange:e=>(e=>{if(c(e),e.length<2)return u([]),void p(!1);if(!n)return;if("address"===y)return;const t=e.toLowerCase(),r=n.features.filter(e=>{const n=e.properties,r=(n.t_uv_nom||"").toLowerCase(),s=(n.uv_carto||"").toString(),a=(n.t_com_nom||"").toLowerCase(),i=(n.t_reg_nom||"").toLowerCase();return r.includes(t)||s.includes(t)||a.includes(t)||i.includes(t)}).slice(0,10).map(e=>({id:e.properties.t_id_uv_ca,codigo:e.properties.uv_carto,nombre:e.properties.t_uv_nom,comuna:e.properties.t_com_nom,region:e.properties.t_reg_nom,geometry:e.geometry,feature:e}));u(r),p(r.length>0)})(e.target.value),onFocus:()=>"uv"===y&&d.length>0&&p(!0),onKeyPress:e=>{"Enter"===e.key&&"address"===y&&S()}}),l&&(0,lh.jsx)("button",{className:"demo-search-clear",onClick:()=>{c(""),u([]),p(!1),v(null),_(null)},children:(0,lh.jsx)(fb,{fontSize:"small"})}),"address"===y?(0,lh.jsx)("button",{className:"demo-search-btn",onClick:S,disabled:x,children:x?(0,lh.jsx)(iw,{fontSize:"small"}):(0,lh.jsx)(kb,{fontSize:"small"})}):(0,lh.jsx)("span",{className:"demo-search-icon",children:(0,lh.jsx)(kb,{fontSize:"small"})})]}),h&&d.length>0&&(0,lh.jsx)("div",{className:"demo-search-results",children:d.map(e=>(0,lh.jsxs)("div",{className:"demo-search-result-item",onClick:()=>k(e),children:[(0,lh.jsxs)("div",{className:"demo-search-result-main",children:[(0,lh.jsxs)("span",{className:"demo-search-result-code",children:["UV ",e.codigo]}),(0,lh.jsx)("span",{className:"demo-search-result-name",children:e.nombre})]}),(0,lh.jsxs)("div",{className:"demo-search-result-location",children:["\ud83d\udccd ",e.comuna,", ",e.region]})]},e.id))})]}),(0,lh.jsxs)("div",{className:"landing-map-stats",children:[(0,lh.jsxs)("div",{className:"demo-stat-card",children:[(0,lh.jsx)("span",{className:"demo-stat-number",children:((null===n||void 0===n||null===(t=n.features)||void 0===t?void 0:t.length)||0).toLocaleString("es-CL")}),(0,lh.jsx)("span",{className:"demo-stat-label",children:"Unidades Vecinales"}),(0,lh.jsx)("span",{className:"demo-stat-note",children:"Agosto 2025"})]}),(0,lh.jsxs)("div",{className:"demo-stat-card",children:[(0,lh.jsx)("span",{className:"demo-stat-number",children:n?n.features.filter(e=>e.properties.PERSONAS).reduce((e,t)=>e+(parseInt(t.properties.PERSONAS)||0),0).toLocaleString("es-CL"):"14.509.980"}),(0,lh.jsx)("span",{className:"demo-stat-label",children:"Habitantes"}),(0,lh.jsx)("span",{className:"demo-stat-note",children:"Censo 2017"})]}),(0,lh.jsxs)("div",{className:"demo-stat-card",children:[(0,lh.jsx)("span",{className:"demo-stat-number",children:n?n.features.filter(e=>e.properties.HOGARES).reduce((e,t)=>e+(parseInt(t.properties.HOGARES)||0),0).toLocaleString("es-CL"):"4.570.447"}),(0,lh.jsx)("span",{className:"demo-stat-label",children:"Hogares"}),(0,lh.jsx)("span",{className:"demo-stat-note",children:"Censo 2017"})]})]}),(0,lh.jsxs)("div",{className:"landing-map-wrapper",children:[s&&(0,lh.jsxs)("div",{className:"demo-map-loading",children:[(0,lh.jsx)("div",{className:"demo-loading-spinner"}),(0,lh.jsx)("p",{children:"Cargando 6.891 unidades vecinales..."}),(0,lh.jsx)("p",{className:"demo-loading-tip",children:"\ud83d\udca1 Usa el buscador para encontrar UVs r\xe1pidamente"})]}),(0,lh.jsxs)(Ax,{center:[-38.7359,-71.4394],zoom:5,style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,children:[(0,lh.jsx)(Fx,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,lh.jsx)(hw,{setMapInstance:f}),i&&n&&(0,lh.jsx)(Gx,{data:n,style:{fillColor:"#f97316",fillOpacity:.1,color:"#f97316",weight:1.5},onEachFeature:(e,t)=>{if(!e.properties)return;const n=e.properties;let r=n.t_uv_nom||"Unidad Vecinal";const s=n.uv_carto||"";s&&r.startsWith(s)&&(r=r.substring(s.length).replace(/^[-\s]+/,"").trim());const a=n.t_com_nom||"",i=n.t_reg_nom||"";s&&t.bindTooltip("UV ".concat(s," - ").concat(r),{permanent:!1,direction:"top",className:"demo-uv-label",opacity:.9}),t.on("mouseover",function(){this.setStyle({fillOpacity:.3,weight:2.5})}),t.on("mouseout",function(){this.setStyle({fillOpacity:.1,weight:1.5})}),t.on("click",function(){const e=n.PERSONAS?parseInt(n.PERSONAS).toLocaleString("es-CL"):"",t=n.HOGARES?parseInt(n.HOGARES).toLocaleString("es-CL"):"",o=n.HOMBRE?parseInt(n.HOMBRE).toLocaleString("es-CL"):"",l=n.MUJER?parseInt(n.MUJER).toLocaleString("es-CL"):"",c='\n                    <div class="demo-neighborhood-popup">\n                      <h4>UV '.concat(s," - ").concat(r,'</h4>\n                      <p class="demo-popup-location">\ud83d\udccd ').concat(a,", ").concat(i,"</p>\n                      \n                      ").concat(e&&parseInt(e.replace(/\./g,""))>0?'\n                      <div class="demo-popup-compact">\n                        <p><strong>\ud83d\udc65 '.concat(e,"</strong> personas</p>\n                        ").concat(o&&l?"<p>".concat(o," hombres \u2022 ").concat(l," mujeres</p>"):"","\n                        <p>\ud83c\udfe0 ").concat(t,' hogares</p>\n                        <p class="demo-popup-census">\ud83d\udcca Censo 2017</p>\n                      </div>\n                      '):'\n                      <div class="demo-popup-info">\n                        <p class="demo-popup-note">\u2139\ufe0f Datos demogr\xe1ficos no disponibles</p>\n                      </div>\n                      ','\n                      \n                      <p class="demo-popup-note">\ud83d\udca1 \xdanete a Vecino Activo para ver m\xe1s detalles y conectar con tus vecinos</p>\n                    </div>\n                  ');this.bindPopup(c,{maxWidth:280,className:"demo-compact-popup"}).openPopup()})}}),j&&(0,lh.jsx)(Jx,{position:j.position,children:(0,lh.jsx)(Kx,{children:(0,lh.jsxs)("div",{className:"demo-address-popup",children:[(0,lh.jsx)("h4",{children:"\ud83d\udccd Direcci\xf3n Encontrada"}),(0,lh.jsx)("p",{className:"demo-address-text",children:j.address}),j.uv?(0,lh.jsxs)("div",{className:"demo-uv-info",children:[(0,lh.jsx)("p",{children:(0,lh.jsx)("strong",{children:"Unidad Vecinal:"})}),(0,lh.jsxs)("p",{children:["UV ",j.uv.codigo," - ",j.uv.nombre]}),(0,lh.jsxs)("p",{children:["\ud83d\udccd ",j.uv.comuna,", ",j.uv.region]})]}):(0,lh.jsxs)("p",{className:"demo-no-uv-warning",children:["\u26a0\ufe0f ",j.error]}),(0,lh.jsx)("p",{class:"demo-popup-note",children:"\ud83d\udca1 Reg\xedstrate para conectar con vecinos de esta zona"})]})})})]})]})]})},mw=()=>{const t=ou();e.useEffect(()=>{const e=e=>{if(e.target.classList.contains("nav-link")){e.preventDefault();const t=e.target.getAttribute("href").substring(1),n=document.getElementById(t);if(n){const e=80,t=n.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}}},t=()=>{const e=window.scrollY+80+100;let t="";["about","what-is","features","contact"].forEach(n=>{const r=document.getElementById(n);if(r){const s=r.offsetTop,a=s+r.offsetHeight;e>=s&&e<a&&(t=n)}}),document.querySelectorAll(".nav-link").forEach(e=>{e.classList.remove("active");e.getAttribute("href").substring(1)===t&&e.classList.add("active")})};document.addEventListener("click",e),window.addEventListener("scroll",t),t();const n=async e=>{e.preventDefault();const t=e.target,n=new FormData(t),r=t.querySelector(".submit-btn"),s=r.querySelector(".btn-text"),a=r.querySelector(".btn-loading"),i=document.getElementById("formMessage");r.disabled=!0,s.style.display="none",a.style.display="inline",i.style.display="none";try{const e=await fetch("/contact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:n.get("nombre"),email:n.get("email"),telefono:n.get("telefono"),mensaje:n.get("mensaje")})}),r=await e.json();if(!r.success)throw new Error(r.message||"Error al enviar el mensaje");i.textContent=r.message,i.className="form-message success",i.style.display="block",t.reset()}catch(o){i.textContent=o.message||"Error al enviar el mensaje. Por favor intenta nuevamente.",i.className="form-message error",i.style.display="block"}finally{r.disabled=!1,s.style.display="inline",a.style.display="none"}},r=document.getElementById("contactForm");return r?(r.addEventListener("submit",n),()=>{r.removeEventListener("submit",n),document.removeEventListener("click",e),window.removeEventListener("scroll",t)}):()=>{document.removeEventListener("click",e),window.removeEventListener("scroll",t)}},[]);const n=[{icon:(0,lh.jsx)(hx,{}),title:"Conecta con Vecinos",description:"Conoce a las personas que viven cerca de ti y construye relaciones duraderas."},{icon:(0,lh.jsx)(px,{}),title:"Eventos Comunitarios",description:"Participa en actividades locales y organiza eventos para tu vecindario."},{icon:(0,lh.jsx)(mx,{}),title:"Seguridad Vecinal",description:"Mantente informado sobre la seguridad de tu zona y colabora con tus vecinos."},{icon:(0,lh.jsx)(fx,{}),title:"Negocios Locales",description:"Descubre y apoya los negocios de tu comunidad."},{icon:(0,lh.jsx)(gx,{}),title:"Comunicaci\xf3n Directa",description:"Chatea con tus vecinos y mantente al d\xeda con las noticias locales."},{icon:(0,lh.jsx)(Ab,{}),title:"Mapa Interactivo",description:"Explora tu vecindario y descubre lugares de inter\xe9s cercanos."}];return(0,lh.jsxs)("div",{className:"landing-page",children:[(0,lh.jsx)("header",{className:"landing-header",children:(0,lh.jsxs)("div",{className:"header-container",children:[(0,lh.jsxs)("div",{className:"logo",children:[(0,lh.jsx)(ub,{className:"logo-icon"}),(0,lh.jsx)("span",{className:"logo-text",children:"Vecino Activo"})]}),(0,lh.jsxs)("nav",{className:"header-nav",children:[(0,lh.jsxs)("div",{className:"nav-menu",children:[(0,lh.jsx)("a",{href:"#what-is",className:"nav-link",children:"\xbfQu\xe9 es?"}),(0,lh.jsx)("a",{href:"#features",className:"nav-link",children:"\xbfPor qu\xe9 elegir Vecino Activo?"}),(0,lh.jsx)("a",{href:"#contact",className:"nav-link",children:"Contacto"})]}),(0,lh.jsxs)("div",{className:"auth-buttons",children:[(0,lh.jsx)("button",{className:"nav-btn secondary",onClick:()=>{console.log("Navegando a /iniciar-sesion"),t("/iniciar-sesion")},children:"Iniciar Sesi\xf3n"}),(0,lh.jsx)("button",{className:"nav-btn primary",onClick:()=>{console.log("Navegando a /registrarse"),t("/registrarse")},children:"Registrarse"})]})]})]})}),(0,lh.jsx)("section",{className:"hero-section",children:(0,lh.jsxs)("div",{className:"hero-container",children:[(0,lh.jsxs)("div",{className:"hero-content",children:[(0,lh.jsxs)("h1",{className:"hero-title",children:["Conecta con tu ",(0,lh.jsx)("span",{className:"highlight",children:"Comunidad"})]}),(0,lh.jsx)("p",{className:"hero-subtitle",children:"La plataforma que une a los vecinos, fortalece las comunidades y construye un futuro mejor para todos."}),(0,lh.jsxs)("div",{className:"hero-actions",children:[(0,lh.jsxs)("button",{className:"cta-button primary",onClick:()=>t("/registrarse"),children:["Comenzar Ahora",(0,lh.jsx)(dx,{})]}),(0,lh.jsxs)("button",{className:"cta-button secondary",children:[(0,lh.jsx)(ux,{}),"Ver Demo"]})]}),(0,lh.jsxs)("div",{className:"hero-stats",children:[(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:"1,000+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Vecinos Activos"})]}),(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:"50+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Comunidades"})]}),(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:"200+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Eventos Realizados"})]})]})]}),(0,lh.jsx)("div",{className:"hero-visual",children:(0,lh.jsx)("div",{className:"hero-image",children:(0,lh.jsx)(pw,{})})})]})}),(0,lh.jsx)("section",{id:"what-is",className:"what-is-section",children:(0,lh.jsx)("div",{className:"section-container",children:(0,lh.jsxs)("div",{className:"what-is-content",children:[(0,lh.jsxs)("div",{className:"what-is-text",children:[(0,lh.jsx)("div",{className:"section-badge",children:(0,lh.jsx)("span",{children:"\xbfQu\xe9 es Vecino Activo?"})}),(0,lh.jsx)("h2",{className:"what-is-title",children:"Conecta con tu vecindario"}),(0,lh.jsx)("p",{className:"what-is-description",children:"Vecino Activo es m\xe1s que una aplicaci\xf3n: es el puente digital que une a las personas de tu comunidad. Desde conocer a tus vecinos hasta organizar eventos, resolver problemas locales y crear un entorno m\xe1s seguro y colaborativo."}),(0,lh.jsxs)("div",{className:"what-is-features",children:[(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-number",children:"01"}),(0,lh.jsxs)("div",{className:"feature-content",children:[(0,lh.jsx)("h4",{children:"Conecta Localmente"}),(0,lh.jsx)("p",{children:"Encuentra y conecta con personas que viven cerca de ti, creando una red de apoyo vecinal real."})]})]}),(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-number",children:"02"}),(0,lh.jsxs)("div",{className:"feature-content",children:[(0,lh.jsx)("h4",{children:"Organiza y Participa"}),(0,lh.jsx)("p",{children:"Crea eventos comunitarios, \xfanete a actividades locales y fortalece los lazos de tu vecindario."})]})]}),(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-number",children:"03"}),(0,lh.jsxs)("div",{className:"feature-content",children:[(0,lh.jsx)("h4",{children:"Resuelve Juntos"}),(0,lh.jsx)("p",{children:"Colabora en la soluci\xf3n de problemas locales, desde seguridad hasta mejoras urbanas."})]})]})]}),(0,lh.jsxs)("div",{className:"what-is-stats",children:[(0,lh.jsxs)("div",{className:"stat-item",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(vx,{})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:"50+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Comunidades Activas"})]})]}),(0,lh.jsxs)("div",{className:"stat-item",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(yx,{})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:"1,000+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Vecinos Conectados"})]})]}),(0,lh.jsxs)("div",{className:"stat-item",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(bx,{})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:"200+"}),(0,lh.jsx)("span",{className:"stat-label",children:"Eventos Realizados"})]})]})]})]}),(0,lh.jsxs)("div",{className:"what-is-visual",children:[(0,lh.jsxs)("div",{className:"visual-container",children:[(0,lh.jsxs)("div",{className:"digital-neighborhood",children:[(0,lh.jsxs)("div",{className:"house-row top-row",children:[(0,lh.jsxs)("div",{className:"neighbor-house house-1",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Carlos"}),(0,lh.jsx)("div",{className:"connection-wire wire-1"})]}),(0,lh.jsxs)("div",{className:"neighbor-house house-2",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Mar\xeda"}),(0,lh.jsx)("div",{className:"connection-wire wire-2"})]})]}),(0,lh.jsxs)("div",{className:"house-row middle-row",children:[(0,lh.jsxs)("div",{className:"neighbor-house house-3",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Sofia"}),(0,lh.jsx)("div",{className:"connection-wire wire-3"})]}),(0,lh.jsxs)("div",{className:"main-house",children:[(0,lh.jsxs)("div",{className:"main-house-structure",children:[(0,lh.jsx)("div",{className:"main-roof"}),(0,lh.jsxs)("div",{className:"main-body",children:[(0,lh.jsx)("div",{className:"main-door",children:"\ud83c\udfe0"}),(0,lh.jsxs)("div",{className:"main-windows",children:[(0,lh.jsx)("div",{className:"main-window"}),(0,lh.jsx)("div",{className:"main-window"})]})]})]}),(0,lh.jsx)("span",{className:"main-house-label",children:"Tu Hogar"})]}),(0,lh.jsxs)("div",{className:"neighbor-house house-4",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Jos\xe9"}),(0,lh.jsx)("div",{className:"connection-wire wire-4"})]})]}),(0,lh.jsxs)("div",{className:"house-row bottom-row",children:[(0,lh.jsxs)("div",{className:"neighbor-house house-5",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Luis"}),(0,lh.jsx)("div",{className:"connection-wire wire-5"})]}),(0,lh.jsxs)("div",{className:"neighbor-house house-6",children:[(0,lh.jsxs)("div",{className:"house-structure",children:[(0,lh.jsx)("div",{className:"house-roof"}),(0,lh.jsxs)("div",{className:"house-body",children:[(0,lh.jsx)("div",{className:"house-door"}),(0,lh.jsx)("div",{className:"house-window"})]})]}),(0,lh.jsx)("span",{className:"house-name",children:"Ana"}),(0,lh.jsx)("div",{className:"connection-wire wire-6"})]})]}),(0,lh.jsxs)("div",{className:"network-grid",children:[(0,lh.jsx)("div",{className:"grid-line horizontal line-h1"}),(0,lh.jsx)("div",{className:"grid-line horizontal line-h2"}),(0,lh.jsx)("div",{className:"grid-line vertical line-v1"}),(0,lh.jsx)("div",{className:"grid-line vertical line-v2"})]})]}),(0,lh.jsxs)("div",{className:"floating-activities",children:[(0,lh.jsxs)("div",{className:"activity-bubble activity-1",children:[(0,lh.jsx)(Rb,{}),(0,lh.jsx)("span",{children:"Evento Comunitario"})]}),(0,lh.jsxs)("div",{className:"activity-bubble activity-2",children:[(0,lh.jsx)(xx,{}),(0,lh.jsx)("span",{children:"Alerta de Seguridad"})]}),(0,lh.jsxs)("div",{className:"activity-bubble activity-3",children:[(0,lh.jsx)(lx,{}),(0,lh.jsx)("span",{children:"Ayuda Vecinal"})]})]})]}),(0,lh.jsx)("div",{className:"visual-description",children:(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:"As\xed funciona:"})," Tu hogar se conecta digitalmente con el vecindario, creando una red inteligente de comunicaci\xf3n y colaboraci\xf3n local."]})})]})]})})}),(0,lh.jsx)("section",{id:"features",className:"features-section",children:(0,lh.jsxs)("div",{className:"section-container",children:[(0,lh.jsxs)("div",{className:"section-header",children:[(0,lh.jsx)("h2",{className:"section-title",children:"\xbfPor qu\xe9 elegir Vecino Activo?"}),(0,lh.jsxs)("p",{className:"section-subtitle",children:["Descubre todas las herramientas que necesitas",(0,lh.jsx)("br",{}),"para conectar con tu comunidad"]})]}),(0,lh.jsx)("div",{className:"features-grid",children:n.map((e,t)=>(0,lh.jsxs)("div",{className:"feature-card",children:[(0,lh.jsx)("div",{className:"feature-icon",children:e.icon}),(0,lh.jsx)("h3",{className:"feature-title",children:e.title}),(0,lh.jsx)("p",{className:"feature-description",children:e.description})]},t))})]})}),(0,lh.jsx)("section",{id:"about",className:"benefits-section",children:(0,lh.jsx)("div",{className:"section-container",children:(0,lh.jsxs)("div",{className:"benefits-content",children:[(0,lh.jsxs)("div",{className:"benefits-text",children:[(0,lh.jsx)("h2",{className:"section-title",children:"Una comunidad m\xe1s fuerte comienza contigo"}),(0,lh.jsx)("p",{className:"section-description",children:"\xdanete a miles de vecinos que ya est\xe1n construyendo comunidades m\xe1s conectadas, seguras y pr\xf3speras. Vecino Activo te da las herramientas para hacer la diferencia."}),(0,lh.jsx)("ul",{className:"benefits-list",children:["Comunidad verificada y segura","Eventos y actividades locales","Red de apoyo vecinal","Informaci\xf3n en tiempo real","F\xe1cil de usar y gratuito"].map((e,t)=>(0,lh.jsxs)("li",{className:"benefit-item",children:[(0,lh.jsx)(cx,{className:"check-icon"}),(0,lh.jsx)("span",{children:e})]},t))}),(0,lh.jsxs)("button",{className:"cta-button primary",onClick:()=>t("/registrarse"),children:["\xdanete Ahora",(0,lh.jsx)(dx,{})]})]}),(0,lh.jsx)("div",{className:"benefits-visual",children:(0,lh.jsx)("img",{src:"https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?w=500&h=600&fit=crop",alt:"Comunidad chilena unida"})})]})})}),(0,lh.jsx)("section",{id:"contact",className:"contact-section",children:(0,lh.jsx)("div",{className:"section-container",children:(0,lh.jsxs)("div",{className:"contact-content",children:[(0,lh.jsxs)("div",{className:"contact-info",children:[(0,lh.jsx)("h2",{className:"section-title",children:"\xbfTienes alguna pregunta?"}),(0,lh.jsx)("p",{className:"section-description",children:"Estamos aqu\xed para ayudarte. Env\xedanos un mensaje y te responderemos a la brevedad."}),(0,lh.jsxs)("div",{className:"contact-details",children:[(0,lh.jsxs)("div",{className:"contact-item",children:[(0,lh.jsx)("div",{className:"contact-icon",children:(0,lh.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lh.jsx)("path",{d:"M3 8L10.89 13.26C11.2187 13.4793 11.6049 13.5963 12 13.5963C12.3951 13.5963 12.7813 13.4793 13.11 13.26L21 8M5 19H19C19.5304 19 20.0391 18.7893 20.4142 18.4142C20.7893 18.0391 21 17.5304 21 17V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V17C3 17.5304 3.21071 18.0391 3.58579 18.4142C3.96086 18.7893 4.46957 19 5 19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("h4",{children:"Email"}),(0,lh.jsx)("p",{children:"hola@aintelligence.cl"})]})]}),(0,lh.jsxs)("div",{className:"contact-item",children:[(0,lh.jsx)("div",{className:"contact-icon",children:(0,lh.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lh.jsx)("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,lh.jsx)("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("h4",{children:"Ubicaci\xf3n"}),(0,lh.jsx)("p",{children:"Santiago, Chile"})]})]})]})]}),(0,lh.jsx)("div",{className:"contact-form-container",children:(0,lh.jsxs)("form",{className:"contact-form",id:"contactForm",children:[(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{htmlFor:"nombre",children:"Nombre *"}),(0,lh.jsx)("input",{type:"text",id:"nombre",name:"nombre",required:!0,placeholder:"Tu nombre completo"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,lh.jsx)("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"tu@email.com"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{htmlFor:"telefono",children:"Tel\xe9fono"}),(0,lh.jsx)("input",{type:"tel",id:"telefono",name:"telefono",placeholder:"+56 9 1234 5678"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{htmlFor:"mensaje",children:"Mensaje *"}),(0,lh.jsx)("textarea",{id:"mensaje",name:"mensaje",rows:"5",required:!0,placeholder:"Cu\xe9ntanos en qu\xe9 podemos ayudarte..."})]}),(0,lh.jsxs)("button",{type:"submit",className:"submit-btn",children:[(0,lh.jsx)("span",{className:"btn-text",children:"Enviar Mensaje"}),(0,lh.jsx)("span",{className:"btn-loading",style:{display:"none"},children:"Enviando..."})]}),(0,lh.jsx)("div",{className:"form-message",id:"formMessage",style:{display:"none"}})]})})]})})}),(0,lh.jsx)("section",{className:"cta-section",children:(0,lh.jsx)("div",{className:"section-container",children:(0,lh.jsxs)("div",{className:"cta-content",children:[(0,lh.jsx)("h2",{className:"cta-title",children:"\xbfListo para conectar con tu comunidad?"}),(0,lh.jsx)("p",{className:"cta-subtitle",children:"\xdanete a Vecino Activo hoy y comienza a construir relaciones que durar\xe1n toda la vida."}),(0,lh.jsxs)("div",{className:"cta-actions",children:[(0,lh.jsxs)("button",{className:"cta-button primary large",onClick:()=>t("/registrarse"),children:["Crear Cuenta Gratis",(0,lh.jsx)(dx,{})]}),(0,lh.jsx)("button",{className:"cta-button secondary large",onClick:()=>t("/iniciar-sesion"),children:"Ya tengo cuenta"})]})]})})}),(0,lh.jsx)("footer",{className:"landing-footer",children:(0,lh.jsxs)("div",{className:"footer-container",children:[(0,lh.jsxs)("div",{className:"footer-content",children:[(0,lh.jsxs)("div",{className:"footer-brand",children:[(0,lh.jsxs)("div",{className:"logo",children:[(0,lh.jsx)(ub,{className:"logo-icon"}),(0,lh.jsx)("span",{className:"logo-text",children:"Vecino Activo"})]}),(0,lh.jsx)("p",{className:"footer-description",children:"Conectando comunidades, construyendo el futuro."})]}),(0,lh.jsxs)("div",{className:"footer-links",children:[(0,lh.jsxs)("div",{className:"link-group",children:[(0,lh.jsx)("h4",{children:"Producto"}),(0,lh.jsx)("a",{href:"#features",children:"Caracter\xedsticas"}),(0,lh.jsx)("a",{href:"#pricing",children:"Precios"}),(0,lh.jsx)("a",{href:"#demo",children:"Demo"})]}),(0,lh.jsxs)("div",{className:"link-group",children:[(0,lh.jsx)("h4",{children:"Soporte"}),(0,lh.jsx)("a",{href:"#help",children:"Ayuda"}),(0,lh.jsx)("a",{href:"#contact",children:"Contacto"}),(0,lh.jsx)("a",{href:"#faq",children:"FAQ"})]}),(0,lh.jsxs)("div",{className:"link-group",children:[(0,lh.jsx)("h4",{children:"Legal"}),(0,lh.jsx)("a",{href:"#privacy",children:"Privacidad"}),(0,lh.jsx)("a",{href:"#terms",children:"T\xe9rminos"}),(0,lh.jsx)("a",{href:"#cookies",children:"Cookies"})]})]})]}),(0,lh.jsx)("div",{className:"footer-bottom",children:(0,lh.jsx)("p",{children:"\xa9 2024 Vecino Activo. Todos los derechos reservados."})})]})})]})},fw=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[r,s]=(0,e.useState)([]),[a,i]=(0,e.useState)(1),[o,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(!1),u=(0,e.useRef)(null),h=(0,e.useRef)(null),p=(0,e.useRef)(a),m=(0,e.useRef)(o),f=(0,e.useRef)(c);(0,e.useEffect)(()=>{p.current=a},[a]),(0,e.useEffect)(()=>{m.current=o},[o]),(0,e.useEffect)(()=>{f.current=c},[c]),(0,e.useEffect)(()=>{s(t.slice(0,n)),i(1),l(t.length>n)},[t,n]);const g=(0,e.useCallback)(()=>{!f.current&&m.current&&(d(!0),setTimeout(()=>{const e=p.current+1,r=e*n,a=t.slice(0,r);s(a),i(e),l(r<t.length),d(!1)},300))},[t,n]);return(0,e.useEffect)(()=>{if(!m.current)return void(u.current&&h.current&&u.current.unobserve(h.current));u.current=new IntersectionObserver(e=>{e[0].isIntersecting&&m.current&&!f.current&&g()},{root:null,rootMargin:"100px",threshold:.1});const e=h.current;return e&&u.current.observe(e),()=>{u.current&&e&&u.current.unobserve(e)}},[g]),{displayedItems:r,hasMore:o,isLoading:c,loadMoreRef:h}},gw=ab((0,lh.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),vw=ab((0,lh.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),yw=ab((0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),bw=()=>{const e=w();return{posts:N(Mb),loading:N(zb),error:N(Db),createPost:async t=>{const n=await e(wi(t));return wi.fulfilled.match(n)?{success:!0,post:n.payload}:{success:!1,error:n.error.message}},updatePost:async(t,n)=>{const r=await e(ji({postId:t,updates:n}));return ji.fulfilled.match(r)?{success:!0}:{success:!1,error:r.error.message}},deletePost:async t=>{const n=await e(_i(t));return _i.fulfilled.match(n)?{success:!0}:{success:!1,error:n.error.message}},addReaction:async(t,n)=>{const r=await e(Ni({postId:t,emoji:n}));return Ni.fulfilled.match(r)?{success:!0}:{success:!1,error:r.error.message}},addComment:async(t,n)=>{const r=await e(Si({postId:t,content:n}));return Si.fulfilled.match(r)?{success:!0,comment:r.payload.comment}:{success:!1,error:r.error.message}},getUserPosts:e=>(console.warn("getUserPosts debe ser usado con useSelector directamente en el componente"),[]),getPostsByCategory:e=>(console.warn("getPostsByCategory debe ser usado con useSelector directamente en el componente"),[]),clearError:()=>{e(Ei())}}},xw={fileToBase64:e=>new Promise((t,n)=>{if(e.size>5242880)return void n(new Error("La imagen es demasiado grande. M\xe1ximo 5MB."));const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=n,r.readAsDataURL(e)}),compressImage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;return new Promise(n=>{const r=new Image;r.onload=()=>{const e=document.createElement("canvas");let s=r.width,a=r.height;s>t&&(a=a*t/s,s=t),e.width=s,e.height=a;e.getContext("2d").drawImage(r,0,0,s,a),n(e.toDataURL("image/jpeg",.8))},r.src=e})},validateImageType:e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),processImage:async e=>{if(!xw.validateImageType(e))throw new Error("Tipo de archivo no v\xe1lido. Solo se permiten im\xe1genes (JPG, PNG, GIF, WEBP).");const t=await xw.fileToBase64(e);return await xw.compressImage(t)},saveProfileImage:async(e,t)=>{try{const n=await xw.processImage(t),r=JSON.parse(localStorage.getItem("users")||"[]"),s=r.findIndex(t=>t.id===e);if(-1!==s)return r[s].avatar=n,localStorage.setItem("users",JSON.stringify(r)),n;throw new Error("Usuario no encontrado")}catch(n){throw n}},saveCoverImage:async(e,t)=>{try{const n=await xw.processImage(t),r=JSON.parse(localStorage.getItem("users")||"[]"),s=r.findIndex(t=>t.id===e);if(-1!==s)return r[s].coverPhoto=n,localStorage.setItem("users",JSON.stringify(r)),n;throw new Error("Usuario no encontrado")}catch(n){throw n}},saveCoverPhoto:(e,t)=>{try{const n=JSON.parse(localStorage.getItem("users")||"[]"),r=n.findIndex(t=>t.id===e);if(-1!==r)return n[r].coverPhoto=t,localStorage.setItem("users",JSON.stringify(n)),t;throw new Error("Usuario no encontrado")}catch(n){throw n}},savePostImage:async e=>{try{return await xw.processImage(e)}catch(t){throw t}},getStorageSize:()=>{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=localStorage[t].length+t.length);return(e/1024/1024).toFixed(2)},checkStorageSpace:()=>{const e=xw.getStorageSize();return{used:parseFloat(e),limit:10,available:10-parseFloat(e),percentage:(parseFloat(e)/10*100).toFixed(2)}}},ww=xw,jw=ab([(0,lh.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,lh.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),_w=t=>{let{onImageSelect:n,currentImage:r,type:s="profile",buttonText:a="Cambiar Foto"}=t;const[i,o]=(0,e.useState)(r||null),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),h=(0,e.useRef)(null),p=()=>{var e;null===(e=h.current)||void 0===e||e.click()};return(0,lh.jsxs)("div",{className:"image-uploader ".concat(s," ").concat(d?"dragging":""),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),u(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),u(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:async e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=e.dataTransfer.files;if(t&&t.length>0){const e=t[0];c(!0);try{if(!ww.validateImageType(e))return tc("Tipo de archivo no v\xe1lido. Solo se permiten im\xe1genes (JPG, PNG, GIF, WEBP)."),void c(!1);const t=ww.checkStorageSpace();if(t.percentage>90)return tc("Espacio de almacenamiento casi lleno (".concat(t.percentage,"%). Elimina algunas im\xe1genes.")),void c(!1);const r=await ww.processImage(e);o(r),n&&n(r),ec("\xa1Imagen cargada exitosamente!")}catch(r){tc(r.message||"Error al cargar la imagen")}finally{c(!1)}}},children:[(0,lh.jsx)("input",{ref:h,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){c(!0);try{if(!ww.validateImageType(t))return tc("Tipo de archivo no v\xe1lido. Solo se permiten im\xe1genes (JPG, PNG, GIF, WEBP)."),void c(!1);const e=ww.checkStorageSpace();if(e.percentage>90)return tc("Espacio de almacenamiento casi lleno (".concat(e.percentage,"%). Elimina algunas im\xe1genes.")),void c(!1);const r=await ww.processImage(t);o(r),n&&n(r),ec("\xa1Imagen cargada exitosamente!")}catch(r){tc(r.message||"Error al cargar la imagen")}finally{c(!1)}}},style:{display:"none"}}),i?(0,lh.jsxs)("div",{className:"image-preview",children:[(0,lh.jsx)("img",{src:i,alt:"Preview"}),(0,lh.jsx)("button",{className:"remove-image-btn",onClick:()=>{o(null),n&&n(null),h.current&&(h.current.value="")},children:(0,lh.jsx)(fb,{})}),(0,lh.jsxs)("button",{className:"change-image-btn",onClick:p,children:[(0,lh.jsx)(jw,{})," Cambiar"]})]}):(0,lh.jsxs)("button",{className:"upload-button",onClick:p,disabled:l,children:[(0,lh.jsx)(jw,{}),(0,lh.jsx)("span",{children:l?"Cargando...":a}),!l&&(0,lh.jsx)("p",{className:"drag-hint",children:"o arrastra una imagen aqu\xed"})]}),l&&(0,lh.jsxs)("div",{className:"upload-progress",children:[(0,lh.jsx)("div",{className:"spinner"}),(0,lh.jsx)("span",{children:"Procesando imagen..."})]})]})},Nw=t=>{let{onEmojiSelect:n,position:r="bottom"}=t;const[s,a]=(0,e.useState)(!1),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)("Smileys"),[d,u]=(0,e.useState)([]),h=(0,e.useRef)(null),p={Smileys:["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83e\udd23","\ud83d\ude02","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude07","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd29","\ud83d\ude18","\ud83d\ude17","\ud83d\ude1a","\ud83d\ude19","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1c","\ud83e\udd2a","\ud83d\ude1d","\ud83e\udd11","\ud83e\udd17","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd14","\ud83e\udd10","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude44","\ud83d\ude2c","\ud83e\udd25","\ud83d\ude0c","\ud83d\ude14","\ud83d\ude2a","\ud83e\udd24","\ud83d\ude34"],Gestos:["\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83e\udd75","\ud83e\udd76","\ud83d\ude35","\ud83e\udd2f","\ud83e\udd20","\ud83e\udd73","\ud83d\ude0e","\ud83e\udd13","\ud83e\uddd0","\ud83d\ude15","\ud83d\ude1f","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude32","\ud83d\ude33","\ud83e\udd7a","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude31","\ud83d\ude16","\ud83d\ude23","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude29","\ud83d\ude2b","\ud83e\udd71","\ud83d\ude24","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c"],Personas:["\ud83d\udc76","\ud83d\udc67","\ud83e\uddd2","\ud83d\udc66","\ud83d\udc69","\ud83e\uddd1","\ud83d\udc68","\ud83d\udc69\u200d\ud83e\uddb1","\ud83d\udc68\u200d\ud83e\uddb1","\ud83d\udc69\u200d\ud83e\uddb0","\ud83d\udc68\u200d\ud83e\uddb0","\ud83d\udc71\u200d\u2640\ufe0f","\ud83d\udc71\u200d\u2642\ufe0f","\ud83d\udc69\u200d\ud83e\uddb3","\ud83d\udc68\u200d\ud83e\uddb3","\ud83d\udc69\u200d\ud83e\uddb2","\ud83d\udc68\u200d\ud83e\uddb2","\ud83e\uddd4","\ud83d\udc75","\ud83e\uddd3","\ud83d\udc74","\ud83d\udc72","\ud83d\udc73\u200d\u2640\ufe0f","\ud83d\udc73\u200d\u2642\ufe0f","\ud83e\uddd5","\ud83d\udc6e\u200d\u2640\ufe0f","\ud83d\udc6e\u200d\u2642\ufe0f","\ud83d\udc77\u200d\u2640\ufe0f","\ud83d\udc77\u200d\u2642\ufe0f","\ud83d\udc82\u200d\u2640\ufe0f","\ud83d\udc82\u200d\u2642\ufe0f"],Naturaleza:["\ud83d\udc36","\ud83d\udc31","\ud83d\udc2d","\ud83d\udc39","\ud83d\udc30","\ud83e\udd8a","\ud83d\udc3b","\ud83d\udc3c","\ud83d\udc28","\ud83d\udc2f","\ud83e\udd81","\ud83d\udc2e","\ud83d\udc37","\ud83d\udc3d","\ud83d\udc38","\ud83d\udc35","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc12","\ud83d\udc14","\ud83d\udc27","\ud83d\udc26","\ud83d\udc24","\ud83d\udc23","\ud83d\udc25","\ud83e\udd86","\ud83e\udd85","\ud83e\udd89","\ud83e\udd87","\ud83d\udc3a","\ud83d\udc17","\ud83d\udc34","\ud83e\udd84","\ud83d\udc1d","\ud83d\udc1b","\ud83e\udd8b","\ud83d\udc0c","\ud83d\udc1e","\ud83d\udc1c","\ud83e\udd9f","\ud83e\udd97"],Comida:["\ud83c\udf4f","\ud83c\udf4e","\ud83c\udf50","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf49","\ud83c\udf47","\ud83c\udf53","\ud83c\udf48","\ud83c\udf52","\ud83c\udf51","\ud83e\udd6d","\ud83c\udf4d","\ud83e\udd65","\ud83e\udd5d","\ud83c\udf45","\ud83c\udf46","\ud83e\udd51","\ud83e\udd66","\ud83e\udd6c","\ud83e\udd52","\ud83c\udf36\ufe0f","\ud83c\udf3d","\ud83e\udd55","\ud83e\udd54","\ud83c\udf60","\ud83e\udd50","\ud83e\udd6f","\ud83c\udf5e","\ud83e\udd56","\ud83e\udd68","\ud83e\uddc0","\ud83e\udd5a","\ud83c\udf73","\ud83e\udd5e","\ud83e\udd53","\ud83e\udd69","\ud83c\udf57","\ud83c\udf56","\ud83e\uddb4","\ud83c\udf2d","\ud83c\udf54","\ud83c\udf5f","\ud83c\udf55"],Actividades:["\u26bd","\ud83c\udfc0","\ud83c\udfc8","\u26be","\ud83e\udd4e","\ud83c\udfbe","\ud83c\udfd0","\ud83c\udfc9","\ud83e\udd4f","\ud83c\udfb1","\ud83e\ude80","\ud83c\udfd3","\ud83c\udff8","\ud83c\udfd2","\ud83c\udfd1","\ud83e\udd4d","\ud83c\udfcf","\ud83e\udd45","\u26f3","\ud83e\ude81","\ud83c\udff9","\ud83c\udfa3","\ud83e\udd3f","\ud83e\udd4a","\ud83e\udd4b","\ud83c\udfbd","\ud83d\udef9","\ud83d\udef7","\u26f8\ufe0f","\ud83e\udd4c","\ud83c\udfbf","\u26f7\ufe0f","\ud83c\udfc2","\ud83e\ude82","\ud83c\udfcb\ufe0f","\ud83e\udd3c","\ud83e\udd38","\ud83e\udd3a","\u26f9\ufe0f","\ud83e\udd3e","\ud83c\udfcc\ufe0f","\ud83c\udfc7","\ud83e\uddd8","\ud83c\udfca","\ud83e\udd3d"],Viajes:["\ud83d\ude97","\ud83d\ude95","\ud83d\ude99","\ud83d\ude8c","\ud83d\ude8e","\ud83c\udfce\ufe0f","\ud83d\ude93","\ud83d\ude91","\ud83d\ude92","\ud83d\ude90","\ud83d\ude9a","\ud83d\ude9b","\ud83d\ude9c","\ud83e\uddaf","\ud83e\uddbd","\ud83e\uddbc","\ud83d\udef4","\ud83d\udeb2","\ud83d\udef5","\ud83c\udfcd\ufe0f","\ud83d\udefa","\ud83d\udea8","\ud83d\ude94","\ud83d\ude8d","\ud83d\ude98","\ud83d\ude96","\ud83d\udea1","\ud83d\udea0","\ud83d\ude9f","\ud83d\ude83","\ud83d\ude8b","\ud83d\ude9e","\ud83d\ude9d","\ud83d\ude84","\ud83d\ude85","\ud83d\ude88","\ud83d\ude82","\ud83d\ude86","\ud83d\ude87","\ud83d\ude8a","\ud83d\ude89","\u2708\ufe0f","\ud83d\udeeb","\ud83d\udeec","\ud83d\udee9\ufe0f"],Objetos:["\u231a","\ud83d\udcf1","\ud83d\udcf2","\ud83d\udcbb","\u2328\ufe0f","\ud83d\udda5\ufe0f","\ud83d\udda8\ufe0f","\ud83d\uddb1\ufe0f","\ud83d\uddb2\ufe0f","\ud83d\udd79\ufe0f","\ud83d\udddc\ufe0f","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc0","\ud83d\udcfc","\ud83d\udcf7","\ud83d\udcf8","\ud83d\udcf9","\ud83c\udfa5","\ud83d\udcfd\ufe0f","\ud83c\udf9e\ufe0f","\ud83d\udcde","\u260e\ufe0f","\ud83d\udcdf","\ud83d\udce0","\ud83d\udcfa","\ud83d\udcfb","\ud83c\udf99\ufe0f","\ud83c\udf9a\ufe0f","\ud83c\udf9b\ufe0f","\ud83e\udded","\u23f1\ufe0f","\u23f2\ufe0f","\u23f0","\ud83d\udd70\ufe0f","\u231b","\u23f3","\ud83d\udce1","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udca1","\ud83d\udd26","\ud83d\udd6f\ufe0f"],"S\xedmbolos":["\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83d\udda4","\ud83e\udd0d","\ud83e\udd0e","\ud83d\udc94","\u2763\ufe0f","\ud83d\udc95","\ud83d\udc9e","\ud83d\udc93","\ud83d\udc97","\ud83d\udc96","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc9f","\u262e\ufe0f","\u271d\ufe0f","\u262a\ufe0f","\ud83d\udd49\ufe0f","\u2638\ufe0f","\u2721\ufe0f","\ud83d\udd2f","\ud83d\udd4e","\u262f\ufe0f","\u2626\ufe0f","\ud83d\uded0","\u26ce","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\ud83c\udd94","\u269b\ufe0f","\ud83c\ude51"],Banderas:["\ud83c\udfc1","\ud83d\udea9","\ud83c\udf8c","\ud83c\udff4","\ud83c\udff3\ufe0f","\ud83c\udff3\ufe0f\u200d\ud83c\udf08","\ud83c\udff4\u200d\u2620\ufe0f","\ud83c\udde6\ud83c\udde8","\ud83c\udde6\ud83c\udde9","\ud83c\udde6\ud83c\uddea","\ud83c\udde6\ud83c\uddeb","\ud83c\udde6\ud83c\uddec","\ud83c\udde6\ud83c\uddee","\ud83c\udde6\ud83c\uddf1","\ud83c\udde6\ud83c\uddf2","\ud83c\udde6\ud83c\uddf4","\ud83c\udde6\ud83c\uddf6","\ud83c\udde6\ud83c\uddf7","\ud83c\udde6\ud83c\uddf8","\ud83c\udde6\ud83c\uddf9","\ud83c\udde6\ud83c\uddfa","\ud83c\udde6\ud83c\uddfc","\ud83c\udde6\ud83c\uddfd","\ud83c\udde6\ud83c\uddff","\ud83c\udde7\ud83c\udde6","\ud83c\udde7\ud83c\udde7","\ud83c\udde7\ud83c\udde9","\ud83c\udde7\ud83c\uddea","\ud83c\udde7\ud83c\uddeb","\ud83c\udde7\ud83c\uddec","\ud83c\udde7\ud83c\udded","\ud83c\udde7\ud83c\uddee","\ud83c\udde7\ud83c\uddef","\ud83c\udde7\ud83c\uddf1","\ud83c\udde7\ud83c\uddf2","\ud83c\udde7\ud83c\uddf3","\ud83c\udde7\ud83c\uddf4","\ud83c\udde7\ud83c\uddf6","\ud83c\udde7\ud83c\uddf7","\ud83c\udde7\ud83c\uddf8","\ud83c\udde7\ud83c\uddf9","\ud83c\udde7\ud83c\uddfb","\ud83c\udde7\ud83c\uddfc","\ud83c\udde7\ud83c\uddfe","\ud83c\udde7\ud83c\uddff"]};(0,e.useEffect)(()=>{const e=localStorage.getItem("recentEmojis");e&&u(JSON.parse(e))},[]),(0,e.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&a(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]);const m=e=>{n(e);const t=[e,...d.filter(t=>t!==e)].slice(0,16);u(t),localStorage.setItem("recentEmojis",JSON.stringify(t)),a(!1)},f=(()=>{if(!i)return p[l]||[];return Object.values(p).flat().filter(e=>e.includes(i))})();return(0,lh.jsxs)("div",{className:"emoji-picker-container",ref:h,children:[(0,lh.jsx)("button",{className:"emoji-trigger-btn",onClick:()=>a(!s),type:"button",children:"\ud83d\ude0a"}),s&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("div",{className:"emoji-picker-overlay",onClick:()=>a(!1)}),(0,lh.jsxs)("div",{className:"emoji-picker ".concat(r),children:[(0,lh.jsx)("div",{className:"emoji-picker-header",children:(0,lh.jsx)("h4",{children:"Emojis"})}),(0,lh.jsx)("input",{type:"text",className:"emoji-search",placeholder:"Buscar emoji...",value:i,onChange:e=>o(e.target.value)}),!i&&(0,lh.jsx)("div",{className:"emoji-categories",children:Object.keys(p).map(e=>(0,lh.jsx)("button",{className:"emoji-category-btn ".concat(l===e?"active":""),onClick:()=>c(e),children:e},e))}),!i&&d.length>0&&(0,lh.jsxs)("div",{className:"emoji-recent",children:[(0,lh.jsx)("div",{className:"emoji-recent-title",children:"Recientes"}),(0,lh.jsx)("div",{className:"emoji-recent-grid",children:d.map((e,t)=>(0,lh.jsx)("button",{className:"emoji-btn",onClick:()=>m(e),children:e},t))})]}),(0,lh.jsx)("div",{className:"emoji-grid",children:f.length>0?f.map((e,t)=>(0,lh.jsx)("button",{className:"emoji-btn",onClick:()=>m(e),children:e},t)):(0,lh.jsx)("div",{className:"no-results",children:"No se encontraron emojis"})})]})]})]})},Sw=ab((0,lh.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),Cw=ab((0,lh.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),kw=ab((0,lh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),Ew=ab((0,lh.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),Pw=ab((0,lh.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),Iw=ab([(0,lh.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,lh.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4z"},"2")]),Aw=ab([(0,lh.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,lh.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")]),Tw=ab((0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5"})),Ow=ab((0,lh.jsx)("path",{d:"M20.57 14.86 22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"})),Rw=ab((0,lh.jsx)("path",{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3m12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4"})),Lw=ab((0,lh.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),Mw=ab((0,lh.jsx)("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"})),zw=ab((0,lh.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Dw=ab((0,lh.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"})),Bw=ab((0,lh.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),Vw=ab((0,lh.jsx)("path",{d:"M13.5 7h-3c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m0 8h-3V9h3zM1 15h4v-2H3c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h4v2H3v2h2c1.1 0 2 .9 2 2v2c0 1.1-.9 2-2 2H1zm16 0h4v-2h-2c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h4v2h-4v2h2c1.1 0 2 .9 2 2v2c0 1.1-.9 2-2 2h-4z"})),Uw=t=>{var n,r,s,a;let{onClose:i}=t;const{user:o}=lp(),{addPost:l}=bw(),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(null),[p,m]=(0,e.useState)(""),[f,g]=(0,e.useState)(""),[v,y]=(0,e.useState)("public"),[b,x]=(0,e.useState)("general"),[w,j]=(0,e.useState)(!1),[_,N]=(0,e.useState)(!1),[S,C]=(0,e.useState)(!1),k=[{icon:(0,lh.jsx)(yw,{}),text:"feliz"},{icon:(0,lh.jsx)(Pw,{}),text:"enamorado"},{icon:(0,lh.jsx)(Iw,{}),text:"genial"},{icon:(0,lh.jsx)(Aw,{}),text:"triste"},{icon:(0,lh.jsx)(Tw,{}),text:"divertido"},{icon:(0,lh.jsx)(px,{}),text:"celebrando"},{icon:(0,lh.jsx)(Ow,{}),text:"motivado"},{icon:(0,lh.jsx)(Rw,{}),text:"cansado"}],E=[{value:"public",icon:(0,lh.jsx)(kw,{}),label:"P\xfablico",desc:"Cualquiera dentro o fuera de Vecino Activo"},{value:"friends",icon:(0,lh.jsx)(ub,{}),label:"Vecinos",desc:"Tus vecinos en Vecino Activo"},{value:"private",icon:(0,lh.jsx)(Ew,{}),label:"Solo yo",desc:"Solo t\xfa puedes ver esto"}],P=[{value:"general",label:"General",icon:(0,lh.jsx)(Lw,{}),color:"#6b7280"},{value:"anuncio",label:"Anuncio",icon:(0,lh.jsx)(Mw,{}),color:"#3b82f6"},{value:"seguridad",label:"Seguridad",icon:(0,lh.jsx)(zw,{}),color:"#ef4444"},{value:"marketplace",label:"Marketplace",icon:(0,lh.jsx)(Dw,{}),color:"#10b981"},{value:"consulta",label:"Consulta",icon:(0,lh.jsx)(Bw,{}),color:"#f59e0b"},{value:"evento",label:"Evento",icon:(0,lh.jsx)(px,{}),color:"#8b5cf6"},{value:"emergencia",label:"Emergencia",icon:(0,lh.jsx)(Vw,{}),color:"#dc2626"}];return(0,lh.jsx)("div",{className:"modal-overlay",onClick:i,children:(0,lh.jsxs)("div",{className:"create-post-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear publicaci\xf3n"}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:i,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-user-info",children:[(0,lh.jsx)("img",{src:null===o||void 0===o?void 0:o.avatar,alt:null===o||void 0===o?void 0:o.name}),(0,lh.jsxs)("div",{className:"user-details",children:[(0,lh.jsx)("h4",{children:null===o||void 0===o?void 0:o.name}),(0,lh.jsxs)("div",{className:"post-settings",children:[(0,lh.jsxs)("button",{className:"privacy-btn",onClick:()=>j(!w),children:[(()=>{const e=E.find(e=>e.value===v);return e?e.icon:(0,lh.jsx)(kw,{})})(),(0,lh.jsx)("span",{children:null===(n=E.find(e=>e.value===v))||void 0===n?void 0:n.label}),(0,lh.jsx)(pb,{fontSize:"small"})]}),(0,lh.jsxs)("button",{className:"category-btn",onClick:()=>C(!S),style:{borderColor:null===(r=P.find(e=>e.value===b))||void 0===r?void 0:r.color},children:[(0,lh.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[null===(s=P.find(e=>e.value===b))||void 0===s?void 0:s.icon,null===(a=P.find(e=>e.value===b))||void 0===a?void 0:a.label]}),(0,lh.jsx)(pb,{fontSize:"small"})]})]}),w&&(0,lh.jsx)("div",{className:"privacy-menu",children:E.map(e=>(0,lh.jsxs)("button",{className:"privacy-option ".concat(v===e.value?"active":""),onClick:()=>{y(e.value),j(!1)},children:[(0,lh.jsx)("div",{className:"privacy-icon",children:e.icon}),(0,lh.jsxs)("div",{className:"privacy-text",children:[(0,lh.jsx)("strong",{children:e.label}),(0,lh.jsx)("span",{children:e.desc})]})]},e.value))}),S&&(0,lh.jsx)("div",{className:"category-menu",children:P.map(e=>(0,lh.jsx)("button",{className:"category-option ".concat(b===e.value?"active":""),onClick:()=>{x(e.value),C(!1)},style:{borderLeftColor:e.color},children:(0,lh.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.icon,e.label]})},e.value))})]})]}),(0,lh.jsxs)("div",{className:"modal-content",children:[(0,lh.jsx)("textarea",{placeholder:"\xbfQu\xe9 est\xe1s pensando, ".concat(null===o||void 0===o?void 0:o.name,"?"),value:c,onChange:e=>d(e.target.value),autoFocus:!0}),p&&(0,lh.jsxs)("div",{className:"post-tag",children:["se siente ",(0,lh.jsx)("strong",{children:p}),(0,lh.jsx)("button",{onClick:()=>m(""),children:(0,lh.jsx)(fb,{fontSize:"small"})})]}),f&&(0,lh.jsxs)("div",{className:"post-tag",children:["en ",(0,lh.jsx)("strong",{children:f}),(0,lh.jsx)("button",{onClick:()=>g(""),children:(0,lh.jsx)(fb,{fontSize:"small"})})]}),(0,lh.jsx)(_w,{onImageSelect:e=>{h(e)},currentImage:u,type:"post",buttonText:"Agregar Foto"})]}),(0,lh.jsxs)("div",{className:"add-to-post",children:[(0,lh.jsx)("span",{children:"Agregar a tu publicaci\xf3n"}),(0,lh.jsxs)("div",{className:"add-options",children:[(0,lh.jsx)("button",{className:"add-option-btn",title:"Etiquetar personas",onClick:()=>{nc("Funci\xf3n de etiquetar personas pr\xf3ximamente!")},children:(0,lh.jsx)(Cw,{style:{color:"#1877f2"}})}),(0,lh.jsx)(Nw,{onEmojiSelect:e=>{d(c+e)}}),(0,lh.jsx)("button",{className:"add-option-btn",title:"Registrarse",onClick:()=>{const e=prompt("Ingresa la ubicaci\xf3n:");e&&g(e)},children:(0,lh.jsx)(hb,{style:{color:"#f5533d"}})}),(0,lh.jsx)("button",{className:"add-option-btn",title:"Etiquetar producto",onClick:()=>{nc("Funci\xf3n de etiquetar producto pr\xf3ximamente!")},children:(0,lh.jsx)(Sw,{style:{color:"#8a3ab9"}})})]})]}),_&&(0,lh.jsxs)("div",{className:"feeling-menu",children:[(0,lh.jsx)("h4",{children:"\xbfC\xf3mo te sientes?"}),(0,lh.jsx)("div",{className:"feeling-options",children:k.map((e,t)=>(0,lh.jsxs)("button",{className:"feeling-option",onClick:()=>{m("".concat(e.text)),N(!1)},children:[(0,lh.jsx)("span",{className:"feeling-icon",children:e.icon}),(0,lh.jsx)("span",{children:e.text})]},t))})]}),(0,lh.jsx)("button",{className:"post-btn",onClick:()=>{if(!c.trim()&&!u)return;l({content:c,image:u,feeling:p,location:f,privacy:v,category:b}),ec("\xa1Publicaci\xf3n creada exitosamente!"),i()},disabled:!c.trim()&&!u,children:"Publicar"})]})})},qw=t=>{let{onPost:n}=t;const{user:r}=lp(),[s,a]=(0,e.useState)(!1);return(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"create-post",children:[(0,lh.jsxs)("div",{className:"create-post-input",onClick:()=>a(!0),children:[(0,lh.jsx)("img",{src:null===r||void 0===r?void 0:r.avatar,alt:"Usuario"}),(0,lh.jsx)("input",{type:"text",placeholder:"\xbfQu\xe9 hay de nuevo, ".concat(null===r||void 0===r?void 0:r.name,"?"),readOnly:!0})]}),(0,lh.jsxs)("div",{className:"create-post-actions",children:[(0,lh.jsxs)("button",{className:"post-action-btn",onClick:()=>a(!0),children:[(0,lh.jsx)(gw,{})," Foto"]}),(0,lh.jsxs)("button",{className:"post-action-btn",onClick:()=>a(!0),children:[(0,lh.jsx)(vw,{})," Video"]}),(0,lh.jsxs)("button",{className:"post-action-btn",onClick:()=>a(!0),children:[(0,lh.jsx)(yw,{})," Estado"]})]})]}),s&&(0,lh.jsx)(Uw,{onClose:()=>a(!1),onPost:n})]})},Fw=e=>void 0===e||null===e?"0":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),Hw=ab((0,lh.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"})),Ww=e=>{let{size:t="small",showText:n=!1,className:r=""}=e;return(0,lh.jsxs)("span",{className:"verified-badge ".concat(r),title:"Vecino Verificado",children:[(0,lh.jsx)(Hw,{style:{fontSize:{small:16,medium:20,large:24}[t],color:"#f97316"}}),n&&(0,lh.jsx)("span",{className:"verified-text",children:"Verificado"})]})},Gw=ab((0,lh.jsx)("path",{d:"M16.48 10.41c-.39.39-1.04.39-1.43 0l-4.47-4.46-7.05 7.04-.66-.63c-1.17-1.17-1.17-3.07 0-4.24l4.24-4.24c1.17-1.17 3.07-1.17 4.24 0L16.48 9c.39.39.39 1.02 0 1.41m.7-2.12c.78.78.78 2.05 0 2.83-1.27 1.27-2.61.22-2.83 0l-3.76-3.76-5.57 5.57c-.39.39-.39 1.02 0 1.41s1.02.39 1.42 0l4.62-4.62.71.71-4.62 4.62c-.39.39-.39 1.02 0 1.41s1.02.39 1.42 0l4.62-4.62.71.71-4.62 4.62c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l4.62-4.62.71.71-4.62 4.62c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0l8.32-8.34c1.17-1.17 1.17-3.07 0-4.24l-4.24-4.24c-1.15-1.15-3.01-1.17-4.18-.06z"})),Zw=ab((0,lh.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"})),Jw=ab((0,lh.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"})),Kw=ab((0,lh.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),$w=t=>{let{post:n,onClose:r}=t;const{user:s}=lp(),{getVerificationStatus:a}=dp(),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)([{id:1,authorId:15,author:"Pabalo Mukrani",avatar:"https://i.pravatar.cc/40?img=15",content:"Oooo muy lindo y dulce perrito feliz cumplea\xf1os... \ud83c\udf82",time:"hace 30 min",likes:12,reactions:{"\ud83d\udc4d":8,"\u2764\ufe0f":3,"\ud83d\ude0a":1},replies:[]},{id:2,authorId:16,author:"Sufiya Elija",avatar:"https://i.pravatar.cc/40?img=16",content:"Muchas gracias \ud83d\ude0a\ud83d\ude0a",time:"hace 25 min",likes:8,reactions:{"\u2764\ufe0f":5,"\ud83d\ude0a":3},replies:[{id:3,authorId:5,author:"Anna Sthesia",avatar:"https://i.pravatar.cc/40?img=5",content:"\xa1Felicitaciones! \ud83c\udf89",time:"hace 20 min",likes:3,reactions:{"\ud83c\udf89":2,"\ud83d\udc4d":1}}]}]),[h,p]=(0,e.useState)({}),m=["\ud83d\udc4d","\u2764\ufe0f","\ud83d\ude0a","\ud83d\ude2e","\ud83d\ude22","\ud83d\ude21"],f=()=>{if(!i.trim())return;const e={id:Date.now(),authorId:s.id,author:s.name,avatar:s.avatar,content:i,time:"Justo ahora",likes:0,replies:[]};u([...d,e]),o("")},g=(e,t)=>{u(d.map(n=>{if(n.id===e){const e=z({},n.reactions);return e[t]=(e[t]||0)+1,z(z({},n),{},{reactions:e})}return n.replies?z(z({},n),{},{replies:n.replies.map(n=>{if(n.id===e){const e=z({},n.reactions);return e[t]=(e[t]||0)+1,z(z({},n),{},{reactions:e})}return n})}):n})),c(null)},v=e=>{p(z(z({},h),{},{[e]:!h[e]}))};return(0,lh.jsx)("div",{className:"comments-modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"comments-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"comments-modal-header",children:[(0,lh.jsxs)("h2",{children:["Publicaci\xf3n de ",n.author]}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"comments-modal-content",children:[(0,lh.jsxs)("div",{className:"post-in-modal",children:[(0,lh.jsxs)("div",{className:"post-header-modal",children:[(0,lh.jsx)("img",{src:n.avatar,alt:n.author}),(0,lh.jsxs)("div",{className:"post-author-info-modal",children:[(0,lh.jsx)("h4",{children:n.author}),(0,lh.jsx)("span",{children:n.time})]})]}),(0,lh.jsx)("div",{className:"post-content-modal",children:(0,lh.jsx)("p",{children:n.content})}),n.image&&(0,lh.jsx)("div",{className:"post-image-modal",children:(0,lh.jsx)("img",{src:n.image,alt:"Post"})}),(0,lh.jsxs)("div",{className:"post-stats-modal",children:[(0,lh.jsxs)("div",{className:"reactions-count",children:[(0,lh.jsx)("div",{className:"reaction-icons",children:n.reactions&&n.reactions.map((e,t)=>(0,lh.jsx)("span",{children:e},t))}),(0,lh.jsxs)("span",{children:[n.likes," reacciones"]})]}),(0,lh.jsxs)("div",{className:"comments-count",children:[d.length," comentarios"]})]})]}),(0,lh.jsx)("div",{className:"comments-list",children:d.map(e=>{const t=a(e.authorId);return(0,lh.jsxs)("div",{children:[(0,lh.jsxs)("div",{className:"comment-item",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.author,className:"comment-avatar"}),(0,lh.jsxs)("div",{className:"comment-content",children:[(0,lh.jsxs)("div",{className:"comment-bubble",children:[(0,lh.jsxs)("div",{className:"comment-author-name",children:[(0,lh.jsx)("strong",{children:e.author}),(null===t||void 0===t?void 0:t.verified)&&(0,lh.jsx)(Ww,{size:"small"})]}),(0,lh.jsx)("p",{children:e.content}),e.reactions&&Object.keys(e.reactions).length>0&&(0,lh.jsx)("div",{className:"comment-reactions",children:Object.entries(e.reactions).map(e=>{let[t,n]=e;return(0,lh.jsxs)("span",{className:"comment-reaction",children:[t," ",n]},t)})})]}),(0,lh.jsxs)("div",{className:"comment-actions",children:[(0,lh.jsxs)("div",{className:"comment-action-wrapper",children:[(0,lh.jsx)("button",{onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:"Me gusta"}),l===e.id&&(0,lh.jsx)("div",{className:"comment-reaction-picker",onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:m.map(t=>(0,lh.jsx)("button",{className:"reaction-emoji-btn",onClick:()=>g(e.id,t),children:t},t))})]}),(0,lh.jsx)("button",{children:"Responder"}),(0,lh.jsx)("span",{className:"comment-time",children:e.time})]})]})]}),e.replies&&e.replies.length>0&&(0,lh.jsx)(lh.Fragment,{children:h[e.id]?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("div",{className:"comment-replies",children:e.replies.map(e=>{const t=a(e.authorId);return(0,lh.jsxs)("div",{className:"comment-item",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.author,className:"comment-avatar"}),(0,lh.jsxs)("div",{className:"comment-content",children:[(0,lh.jsxs)("div",{className:"comment-bubble",children:[(0,lh.jsxs)("div",{className:"comment-author-name",children:[(0,lh.jsx)("strong",{children:e.author}),(null===t||void 0===t?void 0:t.verified)&&(0,lh.jsx)(Ww,{size:"small"})]}),(0,lh.jsx)("p",{children:e.content}),e.reactions&&Object.keys(e.reactions).length>0&&(0,lh.jsx)("div",{className:"comment-reactions",children:Object.entries(e.reactions).map(e=>{let[t,n]=e;return(0,lh.jsxs)("span",{className:"comment-reaction",children:[t," ",n]},t)})})]}),(0,lh.jsxs)("div",{className:"comment-actions",children:[(0,lh.jsxs)("div",{className:"comment-action-wrapper",children:[(0,lh.jsx)("button",{onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:"Me gusta"}),l===e.id&&(0,lh.jsx)("div",{className:"comment-reaction-picker",onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:m.map(t=>(0,lh.jsx)("button",{className:"reaction-emoji-btn",onClick:()=>g(e.id,t),children:t},t))})]}),(0,lh.jsx)("button",{children:"Responder"}),(0,lh.jsx)("span",{className:"comment-time",children:e.time})]})]})]},e.id)})}),(0,lh.jsx)("button",{className:"view-replies-btn",onClick:()=>v(e.id),children:"Ocultar respuestas"})]}):(0,lh.jsxs)("button",{className:"view-replies-btn",onClick:()=>v(e.id),children:[(0,lh.jsx)(pb,{fontSize:"small"}),"Ver ",e.replies.length," ",1===e.replies.length?"respuesta":"respuestas"]})})]},e.id)})})]}),(0,lh.jsx)("div",{className:"add-comment-section",children:(0,lh.jsxs)("div",{className:"add-comment-form",children:[(0,lh.jsx)("img",{src:null===s||void 0===s?void 0:s.avatar,alt:null===s||void 0===s?void 0:s.name}),(0,lh.jsxs)("div",{className:"comment-input-wrapper",children:[(0,lh.jsx)("input",{type:"text",placeholder:"Escribe un comentario...",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())}}),(0,lh.jsxs)("div",{className:"comment-actions-icons",children:[(0,lh.jsx)(Nw,{onEmojiSelect:e=>{o(i+e)}}),(0,lh.jsx)("button",{className:"comment-icon-btn",children:(0,lh.jsx)(gw,{})})]})]}),(0,lh.jsx)("button",{className:"send-comment-btn",onClick:f,disabled:!i.trim(),children:(0,lh.jsx)(Kw,{fontSize:"small"})})]})})]})})},Yw=ab((0,lh.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),Xw=ab((0,lh.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"})),Qw=t=>{let{post:n,onClose:r}=t;const{user:s}=lp(),{sharePost:a}=bw(),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)("options"),d=()=>{a(n.id,i),ec("\xa1Publicaci\xf3n compartida exitosamente!"),r()};return"feed"===l?(0,lh.jsx)("div",{className:"share-modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"share-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"share-modal-header",children:[(0,lh.jsx)("h2",{children:"Compartir en tu muro"}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"share-to-feed",children:[(0,lh.jsx)("div",{className:"share-input-area",children:(0,lh.jsx)("textarea",{placeholder:"Di algo sobre esto...",value:i,onChange:e=>o(e.target.value),autoFocus:!0})}),(0,lh.jsxs)("div",{className:"shared-post-preview",children:[(0,lh.jsxs)("div",{className:"shared-post-header",children:[(0,lh.jsx)("img",{src:n.avatar,alt:n.author}),(0,lh.jsxs)("div",{className:"shared-post-author",children:[(0,lh.jsx)("strong",{children:n.author}),(0,lh.jsx)("span",{children:n.time})]})]}),(0,lh.jsx)("div",{className:"shared-post-content",children:n.content}),n.image&&(0,lh.jsx)("div",{className:"shared-post-image",children:(0,lh.jsx)("img",{src:n.image,alt:"Publicaci\xf3n compartida"})})]}),(0,lh.jsx)("button",{className:"share-btn",onClick:d,children:"Compartir ahora"})]})]})}):(0,lh.jsx)("div",{className:"share-modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"share-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"share-modal-header",children:[(0,lh.jsx)("h2",{children:"Compartir publicaci\xf3n"}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"share-options",children:[(0,lh.jsxs)("button",{className:"share-option",onClick:()=>c("feed"),children:[(0,lh.jsx)("div",{className:"share-icon",children:(0,lh.jsx)(Xw,{})}),(0,lh.jsxs)("div",{className:"share-text",children:[(0,lh.jsx)("strong",{children:"Compartir en tu muro"}),(0,lh.jsx)("span",{children:"Comparte esta publicaci\xf3n en tu l\xednea de tiempo"})]})]}),(0,lh.jsxs)("button",{className:"share-option",onClick:()=>{nc("Funci\xf3n de enviar por Messenger pr\xf3ximamente!")},children:[(0,lh.jsx)("div",{className:"share-icon",children:(0,lh.jsx)(Kw,{})}),(0,lh.jsxs)("div",{className:"share-text",children:[(0,lh.jsx)("strong",{children:"Enviar por Messenger"}),(0,lh.jsx)("span",{children:"Comparte en un mensaje privado"})]})]}),(0,lh.jsx)("div",{className:"share-divider"}),(0,lh.jsxs)("button",{className:"share-option",onClick:()=>{navigator.clipboard.writeText("https://vecinoactivo.cl/post/".concat(n.id)),ec("\xa1Enlace copiado al portapapeles!")},children:[(0,lh.jsx)("div",{className:"share-icon",children:(0,lh.jsx)(Yw,{})}),(0,lh.jsxs)("div",{className:"share-text",children:[(0,lh.jsx)("strong",{children:"Copiar enlace"}),(0,lh.jsx)("span",{children:"Copiar enlace al portapapeles"})]})]})]})]})})},ej=t=>{let{post:n,onClose:r,onReact:s}=t;const[a,i]=(0,e.useState)("all"),o={all:[{id:1,name:"Carlos Mendoza",avatar:"https://i.pravatar.cc/40?img=11",reaction:"\ud83e\udd1d"},{id:2,name:"Maria Elena Rodriguez",avatar:"https://i.pravatar.cc/40?img=5",reaction:"\u2764\ufe0f"},{id:3,name:"Juan Pablo Torres",avatar:"https://i.pravatar.cc/40?img=12",reaction:"\ud83d\udc4f"},{id:4,name:"Ana Maria Fernandez",avatar:"https://i.pravatar.cc/40?img=9",reaction:"\ud83d\udca1"},{id:5,name:"Roberto Carlos Gomez",avatar:"https://i.pravatar.cc/40?img=13",reaction:"\ud83d\ude4c"}],apoyo:[{id:1,name:"Carlos Mendoza",avatar:"https://i.pravatar.cc/40?img=11",reaction:"\ud83e\udd1d"}],meimporta:[{id:2,name:"Maria Elena Rodriguez",avatar:"https://i.pravatar.cc/40?img=5",reaction:"\u2764\ufe0f"}],bienhecho:[{id:3,name:"Juan Pablo Torres",avatar:"https://i.pravatar.cc/40?img=12",reaction:"\ud83d\udc4f"}],buenaidea:[{id:4,name:"Ana Maria Fernandez",avatar:"https://i.pravatar.cc/40?img=9",reaction:"\ud83d\udca1"}],cuentaconmigo:[{id:5,name:"Roberto Carlos Gomez",avatar:"https://i.pravatar.cc/40?img=13",reaction:"\ud83d\ude4c"}]},l=[{key:"all",label:"Todas",emoji:"",count:o.all.length},{key:"apoyo",label:"Apoyo",emoji:"\ud83e\udd1d",count:o.apoyo.length},{key:"meimporta",label:"Me importa",emoji:"\u2764\ufe0f",count:o.meimporta.length},{key:"bienhecho",label:"Bien hecho",emoji:"\ud83d\udc4f",count:o.bienhecho.length},{key:"buenaidea",label:"Buena idea",emoji:"\ud83d\udca1",count:o.buenaidea.length},{key:"cuentaconmigo",label:"Cuenta conmigo",emoji:"\ud83d\ude4c",count:o.cuentaconmigo.length}],c=o[a]||o.all;return(0,lh.jsx)("div",{className:"reactions-modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"reactions-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"reactions-modal-header",children:[(0,lh.jsx)("h2",{children:"Reacciones"}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsx)("div",{className:"reactions-tabs",children:l.map(e=>(0,lh.jsxs)("button",{className:"reaction-tab ".concat(a===e.key?"active":""),onClick:()=>i(e.key),children:[e.emoji&&(0,lh.jsx)("span",{className:"tab-emoji",children:e.emoji}),(0,lh.jsx)("span",{children:e.label}),(0,lh.jsx)("span",{className:"tab-count",children:e.count})]},e.key))}),(0,lh.jsx)("div",{className:"reactions-list",children:c.map(e=>(0,lh.jsxs)("div",{className:"reaction-item",children:[(0,lh.jsxs)("div",{className:"reaction-user-info",children:[(0,lh.jsxs)("div",{className:"reaction-avatar-wrapper",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsx)("span",{className:"reaction-badge",children:e.reaction})]}),(0,lh.jsx)("span",{className:"reaction-user-name",children:e.name})]}),(0,lh.jsx)("button",{className:"follow-btn",children:"Seguir"})]},e.id))})]})})},tj=ab((0,lh.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),nj=t=>{var n;let{isOpen:r,onClose:s,targetType:a,targetId:i,targetInfo:o={}}=t;const{reportContent:l}=(()=>{const t=(0,e.useContext)(hp);if(!t)throw new Error("useReports must be used within ReportsProvider");return t})(),[c,d]=(0,e.useState)({reason:"",description:""});if(!r)return null;const u=e=>{const{name:t,value:n}=e.target;d(e=>z(z({},e),{},{[t]:n}))};return(0,lh.jsx)("div",{className:"modal-overlay",onClick:s,children:(0,lh.jsxs)("div",{className:"report-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"report-modal-header",children:[(0,lh.jsxs)("div",{className:"report-modal-title",children:[(0,lh.jsx)(tj,{style:{color:"#dc2626",fontSize:24}}),(0,lh.jsxs)("h2",{children:["Reportar ","post"===a?"Publicaci\xf3n":"comment"===a?"Comentario":"Usuario"]})]}),(0,lh.jsx)("button",{className:"close-btn",onClick:s,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"report-modal-body",children:[(0,lh.jsx)("div",{className:"report-info",children:(0,lh.jsx)("p",{children:"Ay\xfadanos a mantener Vecino Activo seguro. Tu reporte ser\xe1 revisado por nuestro equipo."})}),(0,lh.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c.reason)return void tc("Por favor selecciona un motivo");l({type:a,targetId:i,targetType:a,reason:c.reason,description:c.description}).success?(ec("Reporte enviado correctamente. Lo revisaremos pronto."),s(),d({reason:"",description:""})):tc("Error al enviar el reporte")},children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Motivo del reporte *"}),(0,lh.jsxs)("select",{name:"reason",value:c.reason,onChange:u,required:!0,children:[(0,lh.jsx)("option",{value:"",children:"Selecciona un motivo"}),null===(n={post:["Contenido inapropiado","Spam o publicidad","Informaci\xf3n falsa","Acoso o bullying","Contenido violento","Otro"],comment:["Comentario ofensivo","Spam","Acoso","Informaci\xf3n falsa","Otro"],user:["Perfil falso","Suplantaci\xf3n de identidad","Comportamiento inapropiado","Acoso","Spam","Otro"]}[a])||void 0===n?void 0:n.map(e=>(0,lh.jsx)("option",{value:e,children:e},e))]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n (Opcional)"}),(0,lh.jsx)("textarea",{name:"description",value:c.description,onChange:u,placeholder:"Proporciona m\xe1s detalles sobre el problema...",rows:4})]}),(0,lh.jsx)("div",{className:"report-note",children:(0,lh.jsx)("p",{children:"\u2139\ufe0f Los reportes son an\xf3nimos. El usuario reportado no sabr\xe1 qui\xe9n lo report\xf3."})}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{type:"button",className:"btn-secondary",onClick:s,children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"btn-danger",children:"Enviar Reporte"})]})]})]})]})})},rj=t=>{let{post:n,onShare:r}=t;const s=N(Lu),{getVerificationStatus:a}=dp(),[i,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),y=a(n.authorId),b=e=>{const t={anuncio:"#3b82f6",seguridad:"#ef4444",marketplace:"#10b981",consulta:"#f59e0b",evento:"#8b5cf6",emergencia:"#dc2626",general:"#6b7280"};return t[e]||t.general};return(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"post",children:[(0,lh.jsxs)("div",{className:"post-header",children:[(0,lh.jsx)("img",{src:n.avatar,alt:n.author,className:"post-avatar"}),(0,lh.jsxs)("div",{className:"post-author-info",children:[(0,lh.jsxs)("h4",{children:[n.author,(null===y||void 0===y?void 0:y.verified)&&(0,lh.jsx)(Ww,{size:"small"})]}),(0,lh.jsxs)("div",{className:"post-meta",children:[(0,lh.jsx)("span",{className:"post-time",children:n.time}),n.category&&"general"!==n.category&&(0,lh.jsx)("span",{className:"post-category-badge",style:{backgroundColor:b(n.category)+"20",color:b(n.category),borderColor:b(n.category)},children:(e=>{const t={anuncio:"\ud83d\udce2 Anuncio",seguridad:"\ud83d\udea8 Seguridad",marketplace:"\ud83d\uded2 Marketplace",consulta:"\u2753 Consulta",evento:"\ud83c\udf89 Evento",emergencia:"\ud83c\udd98 Emergencia",general:"\ud83d\udcdd General"};return t[e]||t.general})(n.category)})]})]}),(0,lh.jsxs)("div",{className:"post-menu-wrapper",children:[(0,lh.jsx)("button",{className:"post-menu",onClick:()=>v(!g),children:(0,lh.jsx)(bb,{})}),g&&(0,lh.jsxs)("div",{className:"post-options-menu",children:[n.authorId!==(null===s||void 0===s?void 0:s.id)&&(0,lh.jsxs)("button",{onClick:()=>{f(!0),v(!1)},children:[(0,lh.jsx)(Jw,{})," Reportar publicaci\xf3n"]}),n.authorId===(null===s||void 0===s?void 0:s.id)&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("button",{onClick:()=>v(!1),children:"Editar publicaci\xf3n"}),(0,lh.jsx)("button",{onClick:()=>v(!1),children:"Eliminar publicaci\xf3n"})]})]})]})]}),(0,lh.jsxs)("div",{className:"post-content",children:[(0,lh.jsx)("p",{children:n.content}),n.hashtags&&(0,lh.jsx)("div",{className:"post-hashtags",children:n.hashtags.map((e,t)=>(0,lh.jsx)("span",{className:"hashtag",children:e},t))})]}),n.image&&(0,lh.jsxs)("div",{className:"post-image",children:[(0,lh.jsx)("img",{src:n.image,alt:"Post"}),(0,lh.jsx)("span",{className:"post-duration",children:"04:20"})]}),(0,lh.jsxs)("div",{className:"post-reactions",children:[(0,lh.jsxs)("div",{className:"reactions-left",onClick:()=>u(!0),children:[n.reactions&&n.reactions.map((e,t)=>(0,lh.jsx)("span",{className:"reaction-emoji",children:e},t)),(0,lh.jsx)("span",{className:"reaction-count",children:Fw(n.likes)})]}),(0,lh.jsxs)("div",{className:"reactions-right",children:[(0,lh.jsxs)("span",{children:["\ud83d\udcac ",Fw(n.comments)]}),(0,lh.jsxs)("span",{children:["\ud83e\udd1d ",Fw(n.shares)]})]})]}),(0,lh.jsxs)("div",{className:"post-actions",children:[(0,lh.jsxs)("div",{className:"action-btn-wrapper",children:[(0,lh.jsxs)("button",{className:"action-btn",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[(0,lh.jsx)(Gw,{})," ",(0,lh.jsx)("span",{children:"Me Uno"})]}),h&&(0,lh.jsx)("div",{className:"reaction-picker",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[{emoji:"\ud83e\udd1d",label:"Apoyo",description:"Solidaridad vecinal"},{emoji:"\u2764\ufe0f",label:"Me importa",description:"Empat\xeda comunitaria"},{emoji:"\ud83d\udc4f",label:"Bien hecho",description:"Reconocimiento"},{emoji:"\ud83d\udca1",label:"Buena idea",description:"Propuestas \xfatiles"},{emoji:"\ud83d\ude4c",label:"Cuenta conmigo",description:"Compromiso de ayuda"}].map((e,t)=>(0,lh.jsxs)("button",{className:"reaction-picker-btn",onClick:()=>(e=>{const t="string"===typeof e?e:e.emoji,n="string"===typeof e?"":e.label;console.log("Reacted with:",t,n),p(!1)})(e),title:"".concat(e.label," - ").concat(e.description),children:[(0,lh.jsx)("span",{className:"reaction-emoji-large",children:e.emoji}),(0,lh.jsx)("span",{className:"reaction-label",children:e.label})]},t))})]}),(0,lh.jsxs)("button",{className:"action-btn",onClick:()=>o(!0),children:[(0,lh.jsx)(Zw,{})," ",(0,lh.jsx)("span",{children:"Opinar"})]}),(0,lh.jsxs)("button",{className:"action-btn",onClick:()=>c(!0),children:[(0,lh.jsx)(vx,{})," ",(0,lh.jsx)("span",{children:"Compartir"})]})]})]}),i&&(0,lh.jsx)($w,{post:n,onClose:()=>o(!1)}),l&&(0,lh.jsx)(Qw,{post:n,onClose:()=>c(!1),onShare:r}),d&&(0,lh.jsx)(ej,{post:n,onClose:()=>u(!1)}),m&&(0,lh.jsx)(nj,{type:"post",targetId:n.id,targetAuthor:n.author,onClose:()=>f(!1)})]})},sj=()=>{const e=ou(),{user:t}=lp();return t?(0,lh.jsxs)("div",{className:"profile-card-home",children:[(0,lh.jsx)("div",{className:"profile-cover-small",style:{backgroundImage:"url(".concat(null===t||void 0===t?void 0:t.coverPhoto,")")}}),(0,lh.jsxs)("div",{className:"profile-avatar-home",children:[(0,lh.jsx)("img",{src:null===t||void 0===t?void 0:t.avatar,alt:null===t||void 0===t?void 0:t.name}),(null===t||void 0===t?void 0:t.verified)&&(0,lh.jsx)(Hw,{className:"verified-badge-small"})]}),(0,lh.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),(0,lh.jsx)("p",{className:"profile-email-small",children:null===t||void 0===t?void 0:t.email}),(0,lh.jsxs)("div",{className:"profile-stats-home",children:[(0,lh.jsxs)("div",{className:"stat-home",children:[(0,lh.jsx)("strong",{children:Fw((null===t||void 0===t?void 0:t.following)||0)}),(0,lh.jsx)("span",{children:"Siguiendo"})]}),(0,lh.jsxs)("div",{className:"stat-home",children:[(0,lh.jsx)("strong",{children:Fw(0)}),(0,lh.jsx)("span",{children:"Me gusta"})]}),(0,lh.jsxs)("div",{className:"stat-home",children:[(0,lh.jsx)("strong",{children:Fw((null===t||void 0===t?void 0:t.followers)||0)}),(0,lh.jsx)("span",{children:"Seguidores"})]})]}),(0,lh.jsx)("button",{className:"edit-profile-btn-home",onClick:()=>e("/app/configuracion"),children:"Editar perfil"})]}):null},aj=(e,t,n,r)=>{const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},ij=t=>{let{maxDistance:n=5,limit:r=5}=t;const{user:s}=lp(),[a,i]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{if(!s||!s.latitude||!s.longitude)return void l(!1);(()=>{const e=JSON.parse(localStorage.getItem("friendbook_users")||"[]"),t=s.id,a=e.filter(e=>e.id!==t&&e.latitude&&e.longitude).map(e=>z(z({},e),{},{distance:aj(s.latitude,s.longitude,e.latitude,e.longitude)})).filter(e=>e.distance<=n).sort((e,t)=>e.distance-t.distance).slice(0,r);i(a),l(!1)})()},[s,n,r]);return o?(0,lh.jsxs)("div",{className:"friend-suggestions loading",children:[(0,lh.jsx)("div",{className:"suggestions-loader"}),(0,lh.jsx)("p",{children:"Buscando vecinos cerca de ti..."})]}):0===a.length?(0,lh.jsxs)("div",{className:"friend-suggestions empty",children:[(0,lh.jsx)(Cw,{className:"empty-icon"}),(0,lh.jsx)("h4",{children:"No hay vecinos cerca"}),(0,lh.jsxs)("p",{children:["No se encontraron vecinos dentro de ",n,"km de distancia."]}),(0,lh.jsx)("p",{className:"tip",children:"\ud83d\udca1 Ajusta tu distancia m\xe1xima en la configuraci\xf3n para ver m\xe1s vecinos."})]}):(0,lh.jsxs)("div",{className:"friend-suggestions",children:[(0,lh.jsxs)("div",{className:"suggestions-header",children:[(0,lh.jsx)(Cw,{className:"header-icon"}),(0,lh.jsx)("h3",{children:"Vecinos Cerca de Ti"}),(0,lh.jsx)("span",{className:"suggestions-count",children:a.length})]}),(0,lh.jsx)("div",{className:"suggestions-list",children:a.map(e=>(0,lh.jsxs)("div",{className:"suggestion-card",children:[(0,lh.jsxs)("div",{className:"suggestion-avatar",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsxs)("span",{className:"distance-badge",children:[e.distance.toFixed(1)," km"]})]}),(0,lh.jsxs)("div",{className:"suggestion-info",children:[(0,lh.jsx)("h4",{children:e.name}),(0,lh.jsxs)("p",{className:"suggestion-username",children:["@",e.username]}),e.neighborhoodName&&(0,lh.jsxs)("p",{className:"suggestion-neighborhood",children:["\ud83d\udccd ",e.neighborhoodName]})]}),(0,lh.jsxs)("div",{className:"suggestion-actions",children:[(0,lh.jsx)("button",{className:"btn-add",onClick:()=>(e=>{const t=JSON.parse(localStorage.getItem("friendbook_friends")||"{}");t[s.id]||(t[s.id]=[]),t[s.id].includes(e)||(t[s.id].push(e),localStorage.setItem("friendbook_friends",JSON.stringify(t))),i(a.filter(t=>t.id!==e))})(e.id),title:"Agregar como amigo",children:(0,lh.jsx)(Cw,{})}),(0,lh.jsx)("button",{className:"btn-dismiss",onClick:()=>{return t=e.id,void i(a.filter(e=>e.id!==t));var t},title:"Omitir",children:(0,lh.jsx)(fb,{})})]})]},e.id))}),(0,lh.jsx)("div",{className:"suggestions-footer",children:(0,lh.jsxs)("p",{children:["Mostrando vecinos dentro de ",n,"km"]})})]})},oj=()=>{const{user:e}=lp(),t=ou();return(0,lh.jsxs)("div",{className:"my-photos-widget",children:[(0,lh.jsxs)("div",{className:"photos-header",children:[(0,lh.jsx)("h3",{children:"Mis Fotos"}),(0,lh.jsx)("button",{onClick:()=>{var n;const r=(null===e||void 0===e?void 0:e.username)||(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().replace(/\s+/g,"-"))||"me";t("/".concat(r),{state:{activeTab:"photos"}})},className:"view-all-link",children:"Ver Todas"})]}),(0,lh.jsx)("div",{className:"photos-grid-home",children:["https://images.unsplash.com/photo-1511988617509-a57c8a288659?w=200&h=200&fit=crop","https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&h=200&fit=crop","https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=200&h=200&fit=crop","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=200&h=200&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=200&h=200&fit=crop"].map((e,t)=>(0,lh.jsx)("div",{className:"photo-item-home",children:(0,lh.jsx)("img",{src:e,alt:"Photo ".concat(t+1)})},t))})]})},lj=e=>{let{type:t="post",count:n=1}=e;const r=()=>(0,lh.jsxs)("div",{className:"skeleton-post",children:[(0,lh.jsxs)("div",{className:"skeleton-header",children:[(0,lh.jsx)("div",{className:"skeleton-avatar"}),(0,lh.jsxs)("div",{className:"skeleton-author-info",children:[(0,lh.jsx)("div",{className:"skeleton-line skeleton-name"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-time"})]})]}),(0,lh.jsxs)("div",{className:"skeleton-content",children:[(0,lh.jsx)("div",{className:"skeleton-line skeleton-text"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-text"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-text short"})]}),(0,lh.jsx)("div",{className:"skeleton-image"}),(0,lh.jsxs)("div",{className:"skeleton-actions",children:[(0,lh.jsx)("div",{className:"skeleton-button"}),(0,lh.jsx)("div",{className:"skeleton-button"}),(0,lh.jsx)("div",{className:"skeleton-button"})]})]}),s=()=>{switch(t){case"post":default:return r();case"card":return(0,lh.jsxs)("div",{className:"skeleton-card",children:[(0,lh.jsx)("div",{className:"skeleton-card-image"}),(0,lh.jsxs)("div",{className:"skeleton-card-content",children:[(0,lh.jsx)("div",{className:"skeleton-line skeleton-title"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-subtitle"})]})]});case"list":return(0,lh.jsxs)("div",{className:"skeleton-list-item",children:[(0,lh.jsx)("div",{className:"skeleton-avatar small"}),(0,lh.jsxs)("div",{className:"skeleton-list-content",children:[(0,lh.jsx)("div",{className:"skeleton-line skeleton-name"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-subtitle"})]})]});case"comment":return(0,lh.jsxs)("div",{className:"skeleton-comment",children:[(0,lh.jsx)("div",{className:"skeleton-avatar small"}),(0,lh.jsxs)("div",{className:"skeleton-comment-bubble",children:[(0,lh.jsx)("div",{className:"skeleton-line skeleton-text"}),(0,lh.jsx)("div",{className:"skeleton-line skeleton-text short"})]})]})}};return(0,lh.jsx)("div",{className:"skeleton-loader",children:Array.from({length:n}).map((e,t)=>(0,lh.jsx)("div",{children:s()},t))})},cj=ab((0,lh.jsx)("path",{d:"M19 5v14H5V5zm1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"})),dj=()=>{const{posts:t,createPost:n,pollingStatus:r}=Bb({enablePolling:!0,pollingInterval:3e3,showNotifications:!0}),{isRightSidebarCollapsed:s}=vh(),{user:a}=lp(),[i,o]=(0,e.useState)("all"),[l,c]=(0,e.useState)("all"),d=[{value:"all",label:"Todos",icon:(0,lh.jsx)(cj,{}),color:"#6b7280"},{value:"anuncio",label:"Anuncios",icon:(0,lh.jsx)(Mw,{}),color:"#3b82f6"},{value:"marketplace",label:"Marketplace",icon:(0,lh.jsx)(Dw,{}),color:"#10b981"},{value:"consulta",label:"Consultas",icon:(0,lh.jsx)(Bw,{}),color:"#f59e0b"},{value:"evento",label:"Eventos",icon:(0,lh.jsx)(px,{}),color:"#8b5cf6"}];let u="all"===i?t:t.filter(e=>e.category===i);"myNeighborhood"===l&&null!==a&&void 0!==a&&a.neighborhoodId&&(u=u.filter(e=>e.neighborhoodId===a.neighborhoodId));const{displayedItems:h,hasMore:p,isLoading:m,loadMoreRef:f}=fw(u,5),g=e=>{};return(0,lh.jsxs)("div",{className:"home-page ".concat(s?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"home-left",children:[(0,lh.jsx)(sj,{}),(null===a||void 0===a?void 0:a.latitude)&&(null===a||void 0===a?void 0:a.longitude)&&(0,lh.jsx)(ij,{maxDistance:a.maxDistance||5,limit:5})]}),(0,lh.jsxs)("div",{className:"home-center",children:[r.isPolling&&(0,lh.jsx)("div",{className:"polling-status",children:(0,lh.jsxs)("div",{className:"polling-indicator",children:[(0,lh.jsx)("span",{className:"polling-dot"}),(0,lh.jsxs)("span",{className:"polling-text",children:["Actualizaciones en tiempo real activas (cada ",r.interval/1e3,"s)"]})]})}),(null===a||void 0===a?void 0:a.neighborhoodId)&&(0,lh.jsxs)("div",{className:"neighborhood-filter",children:[(0,lh.jsxs)("button",{className:"filter-toggle ".concat("all"===l?"active":""),onClick:()=>c("all"),children:[(0,lh.jsx)(kw,{style:{marginRight:"8px",fontSize:"20px"}}),"Todos los Vecindarios"]}),(0,lh.jsxs)("button",{className:"filter-toggle ".concat("myNeighborhood"===l?"active":""),onClick:()=>c("myNeighborhood"),children:[(0,lh.jsx)(vx,{style:{marginRight:"8px",fontSize:"20px"}}),"Mi Barrio (",a.neighborhoodName,")"]})]}),(0,lh.jsx)("div",{className:"category-filters",style:{gap:"6px",display:"flex",columnGap:"6px",rowGap:"6px"},children:d.map(e=>(0,lh.jsxs)("button",{className:"category-filter-btn ".concat(i===e.value?"active":""),onClick:()=>o(e.value),style:{margin:"0",marginRight:"0",marginLeft:"0"},children:[(0,lh.jsx)("span",{className:"cat-icon",children:e.icon}),(0,lh.jsx)("span",{children:e.label})]},e.value))}),(0,lh.jsx)(qw,{onPost:e=>{n(e)}}),h.map(e=>(0,lh.jsx)(rj,{post:e,onShare:g},e.id)),m&&(0,lh.jsx)(lj,{type:"post",count:2}),p&&(0,lh.jsx)("div",{ref:f,style:{height:"20px"}}),0===t.length&&!m&&(0,lh.jsx)("div",{className:"no-posts",children:(0,lh.jsx)("p",{children:"No hay publicaciones a\xfan. \xa1S\xe9 el primero en publicar!"})}),0===u.length&&t.length>0&&!m&&(0,lh.jsx)("div",{className:"no-posts",children:(0,lh.jsx)("p",{children:"No hay publicaciones en esta categor\xeda"})})]}),(0,lh.jsx)("div",{className:"home-right",children:(0,lh.jsx)(oj,{})})]})},uj=ab((0,lh.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),hj=ab((0,lh.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"})),pj=ab((0,lh.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),mj=ab((0,lh.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"})),fj=t=>{let{onClose:n}=t;const{user:r,updateUser:s}=lp(),[a,i]=(0,e.useState)({name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",bio:(null===r||void 0===r?void 0:r.bio)||"",location:(null===r||void 0===r?void 0:r.location)||"",work:(null===r||void 0===r?void 0:r.work)||"",education:(null===r||void 0===r?void 0:r.education)||"",website:(null===r||void 0===r?void 0:r.website)||"",birthday:(null===r||void 0===r?void 0:r.birthday)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",relationship:(null===r||void 0===r?void 0:r.relationship)||"single"}),o=e=>{i(z(z({},a),{},{[e.target.name]:e.target.value}))};return(0,lh.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,lh.jsxs)("div",{className:"edit-profile-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Editar Perfil"}),(0,lh.jsx)("button",{className:"close-modal-btn",onClick:n,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.name&&a.email?(s(z(z({},r),a)),ec("\xa1Perfil actualizado exitosamente!"),n()):tc("Nombre y email son requeridos")},className:"edit-profile-form",children:[(0,lh.jsxs)("div",{className:"form-section",children:[(0,lh.jsx)("h3",{children:"Informaci\xf3n B\xe1sica"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(wb,{fontSize:"small"})," Nombre Completo"]}),(0,lh.jsx)("input",{type:"text",name:"name",value:a.name,onChange:o,placeholder:"Tu nombre completo",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(uj,{fontSize:"small"})," Email"]}),(0,lh.jsx)("input",{type:"email",name:"email",value:a.email,onChange:o,placeholder:"tu@email.com",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Biograf\xeda"}),(0,lh.jsx)("textarea",{name:"bio",value:a.bio,onChange:o,placeholder:"Cu\xe9ntanos sobre ti...",rows:"3"})]})]}),(0,lh.jsxs)("div",{className:"form-section",children:[(0,lh.jsx)("h3",{children:"Informaci\xf3n de Contacto"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(hb,{fontSize:"small"})," Ubicaci\xf3n"]}),(0,lh.jsx)("input",{type:"text",name:"location",value:a.location,onChange:o,placeholder:"Ciudad, Pa\xeds"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tel\xe9fono"}),(0,lh.jsx)("input",{type:"tel",name:"phone",value:a.phone,onChange:o,placeholder:"+1 234 567 8900"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(Yw,{fontSize:"small"})," Sitio Web"]}),(0,lh.jsx)("input",{type:"url",name:"website",value:a.website,onChange:o,placeholder:"https://tusitio.com"})]})]}),(0,lh.jsxs)("div",{className:"form-section",children:[(0,lh.jsx)("h3",{children:"Trabajo y Educaci\xf3n"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(hj,{fontSize:"small"})," Trabajo"]}),(0,lh.jsx)("input",{type:"text",name:"work",value:a.work,onChange:o,placeholder:"Empresa o puesto"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(pj,{fontSize:"small"})," Educaci\xf3n"]}),(0,lh.jsx)("input",{type:"text",name:"education",value:a.education,onChange:o,placeholder:"Universidad o instituci\xf3n"})]})]}),(0,lh.jsxs)("div",{className:"form-section",children:[(0,lh.jsx)("h3",{children:"Informaci\xf3n Personal"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsxs)("label",{children:[(0,lh.jsx)(mj,{fontSize:"small"})," Fecha de Nacimiento"]}),(0,lh.jsx)("input",{type:"date",name:"birthday",value:a.birthday,onChange:o})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Estado de Relaci\xf3n"}),(0,lh.jsxs)("select",{name:"relationship",value:a.relationship,onChange:o,children:[(0,lh.jsx)("option",{value:"single",children:"Soltero/a"}),(0,lh.jsx)("option",{value:"relationship",children:"En una relaci\xf3n"}),(0,lh.jsx)("option",{value:"engaged",children:"Comprometido/a"}),(0,lh.jsx)("option",{value:"married",children:"Casado/a"}),(0,lh.jsx)("option",{value:"complicated",children:"Es complicado"})]})]})]}),(0,lh.jsxs)("div",{className:"form-actions",children:[(0,lh.jsx)("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"save-btn",children:"Guardar Cambios"})]})]})]})})},gj=ab((0,lh.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),vj=t=>{let{isOpen:n,onClose:r}=t;const{user:s}=lp(),{requestVerification:a,loading:i}=dp(),[o,l]=(0,e.useState)({documentType:"cedula",documentNumber:"",address:"",proofImage:null,additionalInfo:""}),[c,d]=(0,e.useState)(null);if(!n)return null;const u=e=>{const{name:t,value:n}=e.target;l(e=>z(z({},e),{},{[t]:n}))};return(0,lh.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"verification-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"verification-modal-header",children:[(0,lh.jsxs)("div",{className:"verification-modal-title",children:[(0,lh.jsx)(mx,{style:{color:"#f97316",fontSize:28}}),(0,lh.jsx)("h2",{children:"Verificar mi Vecindario"})]}),(0,lh.jsx)("button",{className:"close-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"verification-modal-body",children:[(0,lh.jsxs)("div",{className:"verification-info",children:[(0,lh.jsx)("p",{children:(0,lh.jsx)("strong",{children:"\xbfPor qu\xe9 verificarte?"})}),(0,lh.jsxs)("ul",{children:[(0,lh.jsx)("li",{children:"\u2705 Genera confianza en la comunidad"}),(0,lh.jsx)("li",{children:"\u2705 Accede a funciones exclusivas"}),(0,lh.jsx)("li",{children:"\u2705 Obt\xe9n un badge de vecino verificado"}),(0,lh.jsx)("li",{children:"\u2705 Participa en votaciones oficiales"})]})]}),(0,lh.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.documentNumber||!o.address||!o.proofImage)return void tc("Por favor completa todos los campos obligatorios");(await a(o)).success?(ec("Solicitud de verificaci\xf3n enviada correctamente"),r()):tc("Error al enviar la solicitud")},children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Unidad Vecinal"}),(0,lh.jsx)("input",{type:"text",value:"UV ".concat(null===s||void 0===s?void 0:s.neighborhoodCode," - ").concat(null===s||void 0===s?void 0:s.neighborhoodName),disabled:!0,className:"input-disabled"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tipo de Documento *"}),(0,lh.jsxs)("select",{name:"documentType",value:o.documentType,onChange:u,required:!0,children:[(0,lh.jsx)("option",{value:"cedula",children:"C\xe9dula de Identidad"}),(0,lh.jsx)("option",{value:"pasaporte",children:"Pasaporte"}),(0,lh.jsx)("option",{value:"rut",children:"RUT"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"N\xfamero de Documento *"}),(0,lh.jsx)("input",{type:"text",name:"documentNumber",value:o.documentNumber,onChange:u,placeholder:"Ej: 12.345.678-9",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Direcci\xf3n Completa *"}),(0,lh.jsx)("input",{type:"text",name:"address",value:o.address,onChange:u,placeholder:"Calle, n\xfamero, depto/casa",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Comprobante de Domicilio * (Foto)"}),(0,lh.jsx)("p",{className:"form-help",children:"Sube una foto de: cuenta de luz, agua, gas, contrato de arriendo, escritura, etc."}),(0,lh.jsxs)("div",{className:"image-upload-area",children:[(0,lh.jsx)("input",{type:"file",id:"proofImage",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void tc("La imagen no debe superar 5MB");const e=new FileReader;e.onloadend=()=>{l(t=>z(z({},t),{},{proofImage:e.result})),d(e.result)},e.readAsDataURL(t)}},style:{display:"none"},required:!0}),(0,lh.jsx)("label",{htmlFor:"proofImage",className:"upload-label",children:c?(0,lh.jsx)("img",{src:c,alt:"Preview",className:"image-preview"}):(0,lh.jsxs)("div",{className:"upload-placeholder",children:[(0,lh.jsx)(gj,{style:{fontSize:48,color:"#f97316"}}),(0,lh.jsx)("p",{children:"Haz clic para subir imagen"}),(0,lh.jsx)("span",{children:"M\xe1ximo 5MB"})]})})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Informaci\xf3n Adicional (Opcional)"}),(0,lh.jsx)("textarea",{name:"additionalInfo",value:o.additionalInfo,onChange:u,placeholder:"Cualquier informaci\xf3n adicional que quieras agregar...",rows:3})]}),(0,lh.jsx)("div",{className:"verification-note",children:(0,lh.jsx)("p",{children:"\u2139\ufe0f Tu solicitud ser\xe1 revisada por un administrador en un plazo de 24-48 horas. Recibir\xe1s una notificaci\xf3n cuando sea aprobada."})}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{type:"button",className:"btn-secondary",onClick:r,children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"btn-primary",disabled:i,children:i?"Enviando...":"Enviar Solicitud"})]})]})]})]})})},yj=t=>{let{user:n,isOwnProfile:r=!0}=t;const{user:s,updateUser:a}=lp(),{getVerificationStatus:i}=dp(),o=n||s,[l,c]=(0,e.useState)((null===o||void 0===o?void 0:o.coverPhoto)||"https://images.unsplash.com/photo-1557683316-973673baf926?w=1200&h=300&fit=crop"),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(!1),g=i(null===o||void 0===o?void 0:o.id);return(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"profile-header",children:[(0,lh.jsxs)("div",{className:"cover-photo",children:[(0,lh.jsx)("img",{src:l,alt:"Cover"}),r&&(0,lh.jsxs)("label",{className:"edit-cover-btn",children:[(0,lh.jsx)(jw,{}),"Editar Portada",(0,lh.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)try{if(!ww.validateImageType(t))return void tc("Tipo de archivo no v\xe1lido. Solo se permiten im\xe1genes.");const e=await ww.processImage(t),n=ww.saveCoverPhoto(s.id,e);c(n),a(z(z({},s),{},{coverPhoto:n})),ec("\xa1Foto de portada actualizada!")}catch(n){tc(n.message||"Error al cargar la imagen")}},style:{display:"none"}})]})]}),(0,lh.jsxs)("div",{className:"profile-info-container",children:[(0,lh.jsxs)("div",{className:"profile-info",children:[(0,lh.jsxs)("h2",{children:[(null===o||void 0===o?void 0:o.name)||"Usuario",(null===g||void 0===g?void 0:g.verified)&&(0,lh.jsx)(Ww,{})]}),(null===o||void 0===o?void 0:o.username)&&(0,lh.jsxs)("p",{className:"profile-username",children:["@",o.username]}),(0,lh.jsx)("p",{className:"profile-email",children:(null===o||void 0===o?void 0:o.email)||"email@example.com"}),(null===g||void 0===g?void 0:g.verified)&&(0,lh.jsx)("p",{className:"verification-status verified",children:"\u2713 Vecino Verificado"}),"pending"===(null===g||void 0===g?void 0:g.status)&&(0,lh.jsx)("p",{className:"verification-status pending",children:"\u23f3 Verificaci\xf3n en proceso"}),"rejected"===(null===g||void 0===g?void 0:g.status)&&(0,lh.jsx)("p",{className:"verification-status rejected",children:"\u2717 Verificaci\xf3n rechazada"})]}),(0,lh.jsxs)("div",{className:"profile-stats",children:[(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw((null===o||void 0===o?void 0:o.following)||0)}),(0,lh.jsx)("span",{className:"stat-label",children:"Siguiendo"})]}),(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw((null===o||void 0===o?void 0:o.likes)||0)}),(0,lh.jsx)("span",{className:"stat-label",children:"Me gusta"})]}),(0,lh.jsxs)("div",{className:"stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw((null===o||void 0===o?void 0:o.followers)||0)}),(0,lh.jsx)("span",{className:"stat-label",children:"Seguidores"})]})]}),(0,lh.jsx)("div",{className:"profile-actions",children:r?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("button",{className:"edit-profile-btn",onClick:()=>u(!0),children:"Editar Perfil"}),!(null!==g&&void 0!==g&&g.verified)&&"pending"!==(null===g||void 0===g?void 0:g.status)&&(0,lh.jsxs)("button",{className:"verify-profile-btn",onClick:()=>p(!0),children:[(0,lh.jsx)(Hw,{})," Verificar Perfil"]})]}):(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("button",{className:"follow-btn",onClick:()=>{f(!m),ec(m?"Dejaste de seguir":"\xa1Ahora sigues a este usuario!")},children:m?"Siguiendo":"Seguir"}),(0,lh.jsx)("button",{className:"message-btn",onClick:()=>{ec("Funci\xf3n de mensajer\xeda pr\xf3ximamente")},children:"Mensaje"})]})})]})]}),d&&r&&(0,lh.jsx)(fj,{onClose:()=>u(!1)}),h&&r&&(0,lh.jsx)(vj,{onClose:()=>p(!1)})]})},bj=()=>(0,lh.jsxs)("div",{className:"events-widget",children:[(0,lh.jsxs)("div",{className:"widget-header",children:[(0,lh.jsx)(Rb,{style:{color:"#0e8ce4"}}),(0,lh.jsx)("h3",{children:"Eventos"})]}),(0,lh.jsx)("div",{className:"events-list",children:[{title:"Pr\xf3ximo Evento",date:"25 Dic, 2024",time:"10:00 AM",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=300&h=150&fit=crop"},{title:"Festival de M\xfasica",date:"15 Ene, 2025",time:"6:00 PM",image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=150&fit=crop"}].map((e,t)=>(0,lh.jsxs)("div",{className:"event-item",children:[(0,lh.jsx)("img",{src:e.image,alt:e.title}),(0,lh.jsxs)("div",{className:"event-info",children:[(0,lh.jsx)("h4",{children:e.title}),(0,lh.jsxs)("p",{children:[e.date," \u2022 ",e.time]})]})]},t))})]}),xj=()=>(0,lh.jsxs)("div",{className:"activity-news-widget",children:[(0,lh.jsxs)("div",{className:"widget-header",children:[(0,lh.jsx)(Eb,{style:{color:"#0e8ce4"}}),(0,lh.jsx)("h3",{children:"Noticias de Actividad"})]}),(0,lh.jsx)("div",{className:"news-list",children:[{title:"Nueva Funci\xf3n Lanzada",description:"Revisa nuestras \xfaltimas actualizaciones",time:"hace 2 horas",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=100&h=100&fit=crop"},{title:"Hito de la Comunidad",description:"10K usuarios se unieron este mes",time:"hace 5 horas",image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=100&h=100&fit=crop"},{title:"Tema en Tendencia",description:"#RedesSociales est\xe1 en tendencia",time:"hace 1 d\xeda",image:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=100&h=100&fit=crop"}].map((e,t)=>(0,lh.jsxs)("div",{className:"news-item",children:[(0,lh.jsx)("img",{src:e.image,alt:e.title}),(0,lh.jsxs)("div",{className:"news-info",children:[(0,lh.jsx)("h4",{children:e.title}),(0,lh.jsx)("p",{children:e.description}),(0,lh.jsx)("span",{children:e.time})]})]},t))})]}),wj=()=>{const t=ou(),{user:n}=lp(),{isRightSidebarCollapsed:r}=vh();return(0,e.useEffect)(()=>{null!==n&&void 0!==n&&n.username&&t("/".concat(n.username),{replace:!0})},[n,t]),(0,lh.jsx)("div",{className:"timeline",children:(0,lh.jsx)("div",{className:"loading-profile",children:"Cargando perfil..."})})},jj=ab([(0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,lh.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),_j=ab((0,lh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Nj=ab((0,lh.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),Sj=ab((0,lh.jsx)("path",{d:"M16 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8zM7 7h5v2H7zm10 10H7v-2h10zm0-4H7v-2h10zm-2-4V5l4 4z"})),Cj=ab((0,lh.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),kj=ab((0,lh.jsx)("path",{d:"M5.5 22v-7.5H4V9c0-1.1.9-2 2-2h3c1.1 0 2 .9 2 2v5.5H9.5V22zM18 22v-6h3l-2.54-7.63C18.18 7.55 17.42 7 16.56 7h-.12c-.86 0-1.63.55-1.9 1.37L12 16h3v6zM7.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m9 0c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2"})),Ej=ab((0,lh.jsx)("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8m3 16H9v-2h6zm0-5h-2v2h-2v-2H9v-2h2V9h2v2h2z"})),Pj=ab((0,lh.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),Ij=ab((0,lh.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})),Aj=ab((0,lh.jsx)("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"})),Tj=ab((0,lh.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),Oj=ab((0,lh.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Rj=()=>{const t=ou(),{isRightSidebarCollapsed:n}=vh(),[r,s]=(0,e.useState)(!1),a=()=>{s(!0)};return(0,lh.jsxs)("div",{className:"about-page ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsx)(yj,{}),(0,lh.jsxs)("div",{className:"about-tabs",children:[(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/app/linea-tiempo"),children:[(0,lh.jsx)(jj,{fontSize:"small"})," L\xednea de tiempo"]}),(0,lh.jsxs)("button",{className:"tab active",children:[(0,lh.jsx)(_j,{fontSize:"small"})," Acerca de"]}),(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/app/descubrir-vecinos"),children:[(0,lh.jsx)(Nj,{fontSize:"small"})," Vecinos"]}),(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/fotos"),children:[(0,lh.jsx)(gw,{fontSize:"small"})," Fotos"]}),(0,lh.jsxs)("div",{className:"tab-right",children:[(0,lh.jsx)("input",{type:"text",placeholder:"Buscar aqu\xed..."}),(0,lh.jsxs)("button",{className:"activity-feed-btn",children:[(0,lh.jsx)(Sj,{fontSize:"small"})," Feed de actividad"]})]})]}),(0,lh.jsxs)("div",{className:"about-content",children:[(0,lh.jsx)("div",{className:"about-sidebar",children:(0,lh.jsxs)("div",{className:"about-card",children:[(0,lh.jsxs)("div",{className:"card-header",children:[(0,lh.jsx)("h3",{children:"Acerca de"}),(0,lh.jsx)("span",{children:"Sobre m\xed"})]}),(0,lh.jsx)("button",{className:"edit-btn",onClick:a,children:(0,lh.jsx)(Tj,{fontSize:"small"})}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(wb,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Acerca de"}),(0,lh.jsx)("p",{children:"Dise\xf1ador UX/UI freelance, Desarrollador Web. Basado en Par\xeds, tengo amplia experiencia en dise\xf1o web, tambi\xe9n soy bueno en Wordpress. Me encanta hablar contigo sobre nuestro proyecto \xfanico."})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(mj,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Cumplea\xf1os"}),(0,lh.jsx)("p",{children:"27 de agosto, 1994"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(Cj,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Tel\xe9fono"}),(0,lh.jsx)("p",{children:"041 985 245 910"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(kj,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"G\xe9nero"}),(0,lh.jsx)("p",{children:"Hombre"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(Pw,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Estado de relaci\xf3n"}),(0,lh.jsx)("p",{children:"Soltero"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(hb,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Vivi\xf3 en Londres"}),(0,lh.jsx)("p",{children:"\xdaltimos 5 a\xf1os"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(Ej,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Grupo sangu\xedneo"}),(0,lh.jsx)("p",{children:"A+ Positivo"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(uj,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Correo electr\xf3nico"}),(0,lh.jsx)("p",{children:"Billverds@Gmail.Com"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(Pj,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Sitio web"}),(0,lh.jsx)("p",{children:"VecinoActivo.cl"})]})]}),(0,lh.jsxs)("div",{className:"about-item",children:[(0,lh.jsx)(Fb,{className:"icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Se uni\xf3"}),(0,lh.jsx)("p",{children:"20 de junio, 2010"})]})]}),(0,lh.jsxs)("div",{className:"social-links",children:[(0,lh.jsx)("button",{className:"social-btn facebook",children:(0,lh.jsx)(Xw,{})}),(0,lh.jsx)("button",{className:"social-btn twitter",children:(0,lh.jsx)(Ij,{})}),(0,lh.jsx)("button",{className:"social-btn whatsapp",children:(0,lh.jsx)(Aj,{})})]})]})}),(0,lh.jsxs)("div",{className:"about-main",children:[(0,lh.jsxs)("div",{className:"info-section",children:[(0,lh.jsxs)("div",{className:"section-header",children:[(0,lh.jsx)("h3",{children:"Pasatiempos e intereses"}),(0,lh.jsx)("button",{className:"edit-icon",onClick:a,children:(0,lh.jsx)(Tj,{fontSize:"small"})})]}),(0,lh.jsx)("div",{className:"info-content",children:(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:"Pasatiempos:"})," En mi tiempo libre, disfruto ir al gimnasio y participar regularmente en carreras ben\xe9ficas en todo el Reino Unido. Para mantenerme en forma y saludable, tambi\xe9n disfruto mantenerme al d\xeda con los asuntos actuales, tanto eventos nacionales como internacionales, lo que me ayuda a comprender mejor el mundo y c\xf3mo funciona."]})})]}),(0,lh.jsxs)("div",{className:"info-section",children:[(0,lh.jsxs)("div",{className:"section-header",children:[(0,lh.jsx)("h3",{children:"Educaci\xf3n y trabajo"}),(0,lh.jsx)("button",{className:"edit-icon",onClick:a,children:(0,lh.jsx)(Tj,{fontSize:"small"})})]}),(0,lh.jsxs)("div",{className:"education-item",children:[(0,lh.jsx)("strong",{children:"Arquitecto Junior:"}),(0,lh.jsx)("p",{children:"Losos X Zhang Architects, San Diego, CA / Agosto 2018\u2014presente"})]})]}),(0,lh.jsxs)("div",{className:"friends-section",children:[(0,lh.jsxs)("div",{className:"section-header",children:[(0,lh.jsx)("h3",{children:"Amigos"}),(0,lh.jsxs)("div",{className:"friends-actions",children:[(0,lh.jsx)("input",{type:"text",placeholder:"Buscar amigos..."}),(0,lh.jsxs)("button",{className:"filter-btn",children:[(0,lh.jsx)(Oj,{fontSize:"small"})," Filtrar"]})]})]}),(0,lh.jsx)("div",{className:"friends-preview-grid",children:[{name:"Carlos Mendoza",location:"Chamisero, Colina",img:11},{name:"Maria Elena Rodriguez",location:"Chamisero, Colina",img:5},{name:"Juan Pablo Torres",location:"Chamisero, Colina",img:12},{name:"Roberto Carlos Gomez",location:"Chicureo, Colina",img:13},{name:"Josephin Water",location:"Chamisero, Colina",img:8},{name:"Ana Maria Fernandez",location:"Chamisero, Colina",img:9}].map((e,n)=>(0,lh.jsxs)("div",{className:"friend-preview",onClick:()=>t("/app/linea-tiempo"),style:{cursor:"pointer"},children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/150?img=".concat(e.img),alt:e.name}),(0,lh.jsx)("p",{children:e.name}),(0,lh.jsx)("span",{children:e.location}),(0,lh.jsx)("button",{className:"more-btn",children:(0,lh.jsx)(bb,{fontSize:"small"})})]},n))}),(0,lh.jsx)("button",{className:"see-all-btn",onClick:()=>t("/app/descubrir-vecinos"),children:"Ver todo"})]})]})]}),r&&(0,lh.jsx)(fj,{onClose:()=>s(!1)})]})},Lj=e=>{let{friend:t}=e;const n=ou();return(0,lh.jsxs)("div",{className:"friend-card",children:[(0,lh.jsxs)("div",{className:"friend-avatar-container",children:[(0,lh.jsx)("img",{src:t.avatar,alt:t.name}),t.verified&&(0,lh.jsx)("span",{className:"verified-badge",children:"\u2713"})]}),(0,lh.jsx)("h3",{children:t.name}),(0,lh.jsxs)("div",{className:"friend-location-row",children:[(0,lh.jsxs)("span",{className:"friend-location",children:[t.neighborhood,", ",t.city]}),void 0!==t.distance&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("span",{className:"location-separator",children:"\u2022"}),(0,lh.jsx)("span",{className:"friend-distance",children:(r=t.distance,void 0===r||null===r?"":r<1?"".concat(Math.round(1e3*r)," m"):"".concat(r.toFixed(1)," KM"))})]})]}),(0,lh.jsxs)("div",{className:"friend-stats",children:[(0,lh.jsxs)("div",{className:"friend-stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw(t.following)}),(0,lh.jsx)("span",{className:"stat-label",children:"Siguiendo"})]}),(0,lh.jsxs)("div",{className:"friend-stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw(t.likes)}),(0,lh.jsx)("span",{className:"stat-label",children:"Me Gusta"})]}),(0,lh.jsxs)("div",{className:"friend-stat",children:[(0,lh.jsx)("span",{className:"stat-number",children:Fw(t.followers)}),(0,lh.jsx)("span",{className:"stat-label",children:"Seguidores"})]})]}),(0,lh.jsx)("button",{className:"view-profile-btn",onClick:()=>{const e=t.name.toLowerCase().replace(/\s+/g,"-");n("/".concat(e))},children:"Ver Perfil"})]});var r},Mj=ab((0,lh.jsx)("path",{d:"M21 3 3 10.53v.98l6.84 2.65L12.48 21h.98z"})),zj=(e,t,n,r)=>{const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},Dj=()=>{const t=ou(),{isRightSidebarCollapsed:n}=vh(),{user:r}=lp(),[s,a]=(0,e.useState)(""),[i,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)("all"),d=[{id:1,name:"Carlos Mendoza",username:"carlosmendoza",email:"carlos.mendoza@gmail.com",avatar:"https://i.pravatar.cc/100?img=11",following:432,likes:15234,followers:5432,verified:!0,neighborhood:"Chamisero",address:"Avenida Chamisero 10460",city:"Colina",latitude:-33.2,longitude:-70.65},{id:2,name:"Maria Elena Rodriguez",username:"mariaelena",email:"maria.elena@outlook.com",avatar:"https://i.pravatar.cc/100?img=5",following:678,likes:23456,followers:7890,verified:!0,neighborhood:"Chamisero",address:"Avenida Chamisero 10500",city:"Colina",latitude:-33.201,longitude:-70.651},{id:3,name:"Juan Pablo Torres",username:"jptorres",email:"juan.torres@gmail.com",avatar:"https://i.pravatar.cc/100?img=12",following:234,likes:12345,followers:4567,verified:!1,neighborhood:"Chamisero",address:"Avenida Chamisero 10550",city:"Colina",latitude:-33.202,longitude:-70.652},{id:4,name:"Ana Maria Fernandez",username:"anafernandez",email:"ana.fernandez@gmail.com",avatar:"https://i.pravatar.cc/100?img=9",following:890,likes:34567,followers:9876,verified:!0,neighborhood:"Chamisero",address:"Camino Los Cerezos 150",city:"Colina",latitude:-33.203,longitude:-70.653},{id:5,name:"Josephin Water",username:"josephinwater",email:"josephin.water@gmail.com",avatar:"https://i.pravatar.cc/100?img=8",following:567,likes:28901,followers:6543,verified:!0,neighborhood:"Chamisero",address:"Avenida Chamisero 10460",city:"Colina",latitude:-33.2,longitude:-70.65},{id:6,name:"Roberto Carlos Gomez",username:"rgomez",email:"roberto.gomez@gmail.com",avatar:"https://i.pravatar.cc/100?img=13",following:345,likes:19876,followers:5678,verified:!1,neighborhood:"Chamisero",address:"Calle Los Aromos 200",city:"Colina",latitude:-33.204,longitude:-70.654},{id:7,name:"Patricia Vasquez Lopez",username:"patyvasquez",email:"patricia.vasquez@gmail.com",avatar:"https://i.pravatar.cc/100?img=10",following:789,likes:31234,followers:8765,verified:!0,neighborhood:"Chamisero",address:"Camino Los Maitenes 250",city:"Colina",latitude:-33.205,longitude:-70.655},{id:8,name:"Miguel Angel Santos",username:"miguelsantos",email:"miguel.santos@gmail.com",avatar:"https://i.pravatar.cc/100?img=14",following:456,likes:21098,followers:6789,verified:!1,neighborhood:"Chamisero",address:"Avenida Chamisero 10600",city:"Colina",latitude:-33.206,longitude:-70.656},{id:9,name:"Carmen Gloria Rojas",username:"carmenrojas",email:"carmen.rojas@gmail.com",avatar:"https://i.pravatar.cc/100?img=15",following:612,likes:25678,followers:7234,verified:!0,neighborhood:"Chamisero",address:"Avenida Chamisero 10650",city:"Colina",latitude:-33.207,longitude:-70.657},{id:10,name:"Francisco Javier Diaz",username:"franciscodiaz",email:"francisco.diaz@gmail.com",avatar:"https://i.pravatar.cc/100?img=16",following:523,likes:22345,followers:6123,verified:!1,neighborhood:"Chamisero",address:"Calle Los Cerezos 300",city:"Colina",latitude:-33.208,longitude:-70.658},{id:11,name:"Rosa Maria Herrera",username:"rosaherrera",email:"rosa.herrera@gmail.com",avatar:"https://i.pravatar.cc/100?img=17",following:734,likes:29876,followers:8234,verified:!0,neighborhood:"Chamisero",address:"Calle Los Aromos 350",city:"Colina",latitude:-33.209,longitude:-70.659},{id:12,name:"Luis Alberto Munoz",username:"luismunoz",email:"luis.munoz@gmail.com",avatar:"https://i.pravatar.cc/100?img=18",following:445,likes:18765,followers:5890,verified:!1,neighborhood:"Chamisero",address:"Camino Los Maitenes 400",city:"Colina",latitude:-33.21,longitude:-70.66}],u=d;(0,e.useEffect)(()=>{localStorage.setItem("friendbook_users",JSON.stringify(d))},[]);const h=(null===r||void 0===r?void 0:r.latitude)||-33.2,p=(null===r||void 0===r?void 0:r.longitude)||-70.65,m=u.map(e=>z(z({},e),{},{distance:zj(h,p,e.latitude,e.longitude)})).sort((e,t)=>e.distance-t.distance).filter(e=>{const t=e.name.toLowerCase().includes(s.toLowerCase()),n="all"===l||("verified"===l?e.verified:"same-neighborhood"===l?e.neighborhood===(null===r||void 0===r?void 0:r.neighborhood):"nearby"!==l||e.distance<=5);return t&&n}),f=u.length,g=u.filter(e=>e.verified).length,v=u.filter(e=>e.neighborhood===(null===r||void 0===r?void 0:r.neighborhood)).length,{displayedItems:y,hasMore:b,isLoading:x,loadMoreRef:w}=fw(m,8);return(0,lh.jsxs)("div",{className:"friends-page ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsx)(yj,{}),(0,lh.jsxs)("div",{className:"friends-tabs",children:[(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/".concat((null===r||void 0===r?void 0:r.username)||"usuario")),children:[(0,lh.jsx)(jj,{fontSize:"small"})," L\xednea de Tiempo"]}),(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/acerca-de"),children:[(0,lh.jsx)(_j,{fontSize:"small"})," Acerca de"]}),(0,lh.jsxs)("button",{className:"tab active",children:[(0,lh.jsx)(Nj,{fontSize:"small"})," Vecinos"]}),(0,lh.jsxs)("button",{className:"tab",onClick:()=>t("/fotos"),children:[(0,lh.jsx)(gw,{fontSize:"small"})," Fotos"]})]}),(0,lh.jsxs)("div",{className:"friends-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#dbeafe"},children:(0,lh.jsx)(ub,{style:{color:"#3b82f6",fontSize:"24px"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(f)}),(0,lh.jsx)("span",{className:"stat-label",children:"Total Vecinos"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#dcfce7"},children:(0,lh.jsx)(Hw,{style:{color:"#10b981",fontSize:"24px"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(g)}),(0,lh.jsx)("span",{className:"stat-label",children:"Verificados"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#fef3c7"},children:(0,lh.jsx)(hb,{style:{color:"#f59e0b",fontSize:"24px"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(v)}),(0,lh.jsx)("span",{className:"stat-label",children:"Mismo Vecindario"})]})]})]}),(0,lh.jsxs)("div",{className:"friends-search-bar",children:[(0,lh.jsx)("div",{className:"search-input-wrapper",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar vecinos...",value:s,onChange:e=>a(e.target.value)})}),(0,lh.jsxs)("button",{className:"filter-toggle-btn ".concat(i?"active":""),onClick:()=>o(!i),children:[(0,lh.jsx)(Oj,{fontSize:"small"})," Filtros"]})]}),i&&(0,lh.jsx)("div",{className:"filter-panel",children:(0,lh.jsxs)("div",{className:"filter-group",children:[(0,lh.jsx)("label",{children:"Mostrar:"}),(0,lh.jsxs)("div",{className:"filter-buttons",children:[(0,lh.jsxs)("button",{className:"all"===l?"active":"",onClick:()=>c("all"),children:[(0,lh.jsx)(ub,{fontSize:"small"})," Todos"]}),(0,lh.jsxs)("button",{className:"verified"===l?"active":"",onClick:()=>c("verified"),children:[(0,lh.jsx)(Hw,{fontSize:"small"})," Verificados"]}),(0,lh.jsxs)("button",{className:"same-neighborhood"===l?"active":"",onClick:()=>c("same-neighborhood"),children:[(0,lh.jsx)(hb,{fontSize:"small"})," Mi Vecindario"]}),(0,lh.jsxs)("button",{className:"nearby"===l?"active":"",onClick:()=>c("nearby"),children:[(0,lh.jsx)(Mj,{fontSize:"small"})," Cercanos (5km)"]})]})]})}),(0,lh.jsxs)("div",{className:"friends-header",children:[(0,lh.jsxs)("h2",{children:[(0,lh.jsx)(Nj,{style:{marginRight:"8px",verticalAlign:"middle"}}),"Vecinos (",m.length,")"]}),(0,lh.jsxs)("button",{className:"add-friend-btn",children:[(0,lh.jsx)(Cw,{fontSize:"small"}),"Agregar Vecino"]})]}),(0,lh.jsx)("div",{className:"friends-grid",children:y.map((e,t)=>(0,lh.jsx)(Lj,{friend:e},t))}),x&&b&&(0,lh.jsx)("div",{className:"friends-grid",children:(0,lh.jsx)(lj,{type:"card",count:4})}),b&&(0,lh.jsx)("div",{ref:w,style:{height:"20px"}}),!b&&m.length>0&&(0,lh.jsx)("div",{className:"no-more-results",children:"No hay m\xe1s vecinos para mostrar"}),0===m.length&&(0,lh.jsxs)("div",{className:"no-results",children:[(0,lh.jsx)("div",{className:"no-results-icon",children:(0,lh.jsx)(ub,{style:{fontSize:"64px",opacity:.3}})}),(0,lh.jsx)("h3",{children:"No se encontraron vecinos"}),(0,lh.jsx)("p",{children:"Intenta con otro t\xe9rmino de b\xfasqueda o filtro"})]})]})},Bj=()=>{const e=ou(),t=e=>{ec("\xa1Deseos de cumplea\xf1os enviados a ".concat(e,"!"))};return(0,lh.jsxs)("div",{className:"birthday-page",children:[(0,lh.jsxs)("div",{className:"birthday-hero",children:[(0,lh.jsx)("div",{className:"hero-date",children:"12 Dic"}),(0,lh.jsx)("h1",{children:"PR\xd3XIMOS CUMPLEA\xd1OS"}),(0,lh.jsx)("p",{children:"Cumplea\xf1os de tus Vecinos"})]}),(0,lh.jsxs)("div",{className:"birthday-content",children:[(0,lh.jsxs)("div",{className:"birthday-list-section",children:[(0,lh.jsxs)("div",{className:"birthday-section",children:[(0,lh.jsx)("h3",{children:"Hoy"}),(0,lh.jsx)("div",{className:"birthday-grid",children:[{name:"Carlos Mendoza",date:"12 Dic",age:23,avatar:"https://i.pravatar.cc/60?img=11"},{name:"Josephin Water",date:"12 Dic",age:25,avatar:"https://i.pravatar.cc/60?img=8"},{name:"Juan Pablo Torres",date:"12 Dic",age:28,avatar:"https://i.pravatar.cc/60?img=12"}].map((e,n)=>(0,lh.jsxs)("div",{className:"birthday-card",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsx)("h4",{children:e.name}),(0,lh.jsx)("p",{children:e.date}),(0,lh.jsxs)("span",{children:[e.age," A\xf1os"]}),(0,lh.jsx)("button",{className:"create-card-btn",onClick:()=>t(e.name),children:"Enviar Deseos"})]},n))})]}),(0,lh.jsxs)("div",{className:"birthday-section",children:[(0,lh.jsx)("h3",{children:"Ma\xf1ana"}),(0,lh.jsx)("div",{className:"birthday-grid",children:[{name:"Maria Elena Rodriguez",date:"13 Dic",age:24,avatar:"https://i.pravatar.cc/60?img=5"},{name:"Ana Maria Fernandez",date:"13 Dic",age:26,avatar:"https://i.pravatar.cc/60?img=9"}].map((e,n)=>(0,lh.jsxs)("div",{className:"birthday-card",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsx)("h4",{children:e.name}),(0,lh.jsx)("p",{children:e.date}),(0,lh.jsxs)("span",{children:[e.age," A\xf1os"]}),(0,lh.jsx)("button",{className:"create-card-btn",onClick:()=>t(e.name),children:"Enviar Deseos"})]},n))})]}),(0,lh.jsxs)("div",{className:"birthday-section",children:[(0,lh.jsx)("h3",{children:"Enero"}),(0,lh.jsx)("div",{className:"birthday-grid",children:[{name:"Roberto Carlos Gomez",date:"15 Ene",age:27,avatar:"https://i.pravatar.cc/60?img=13"},{name:"Patricia Vasquez",date:"18 Ene",age:29,avatar:"https://i.pravatar.cc/60?img=10"},{name:"Miguel Angel Santos",date:"22 Ene",age:30,avatar:"https://i.pravatar.cc/60?img=14"},{name:"Carmen Gloria Rojas",date:"25 Ene",age:31,avatar:"https://i.pravatar.cc/60?img=15"},{name:"Francisco Javier Diaz",date:"28 Ene",age:26,avatar:"https://i.pravatar.cc/60?img=16"},{name:"Rosa Maria Herrera",date:"30 Ene",age:24,avatar:"https://i.pravatar.cc/60?img=17"}].map((e,n)=>(0,lh.jsxs)("div",{className:"birthday-card",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsx)("h4",{children:e.name}),(0,lh.jsx)("p",{children:e.date}),(0,lh.jsxs)("span",{children:[e.age," A\xf1os"]}),(0,lh.jsx)("button",{className:"create-card-btn",onClick:()=>t(e.name),children:"Enviar Deseos"})]},n))})]}),(0,lh.jsxs)("div",{className:"birthday-section",children:[(0,lh.jsx)("h3",{children:"Febrero"}),(0,lh.jsx)("div",{className:"birthday-grid",children:[{name:"Luis Alberto Munoz",date:"5 Feb",age:25,avatar:"https://i.pravatar.cc/60?img=18"},{name:"Isabel Margarita Flores",date:"8 Feb",age:32,avatar:"https://i.pravatar.cc/60?img=19"},{name:"Pedro Antonio Ruiz",date:"12 Feb",age:28,avatar:"https://i.pravatar.cc/60?img=20"},{name:"Juana del Carmen Soto",date:"18 Feb",age:27,avatar:"https://i.pravatar.cc/60?img=21"},{name:"Alberto Enrique Castillo",date:"22 Feb",age:29,avatar:"https://i.pravatar.cc/60?img=22"},{name:"Maria Teresa Nunez",date:"25 Feb",age:30,avatar:"https://i.pravatar.cc/60?img=23"},{name:"Cristobal Andres Moreno",date:"28 Feb",age:26,avatar:"https://i.pravatar.cc/60?img=24"}].map((e,n)=>(0,lh.jsxs)("div",{className:"birthday-card",children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsx)("h4",{children:e.name}),(0,lh.jsx)("p",{children:e.date}),(0,lh.jsxs)("span",{children:[e.age," A\xf1os"]}),(0,lh.jsx)("button",{className:"create-card-btn",onClick:()=>t(e.name),children:"Enviar Deseos"})]},n))})]})]}),(0,lh.jsxs)("div",{className:"birthday-sidebar",children:[(0,lh.jsxs)("div",{className:"profile-card-birthday",children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/100?img=8",alt:"Kelin Jasen",className:"profile-avatar-large"}),(0,lh.jsx)("h3",{children:"Kelin Jasen \u2764\ufe0f"}),(0,lh.jsx)("p",{children:"kelin.jasen156@gmail.com"}),(0,lh.jsx)("p",{className:"profile-desc",children:"Lorem Ipsum es simplemente texto de relleno de la industria de la impresi\xf3n y la composici\xf3n tipogr\xe1fica."}),(0,lh.jsxs)("div",{className:"profile-stats-birthday",children:[(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"546"}),(0,lh.jsx)("span",{children:"Siguiendo"})]}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"26335"}),(0,lh.jsx)("span",{children:"Me gusta"})]}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"6845"}),(0,lh.jsx)("span",{children:"Seguidores"})]})]}),(0,lh.jsx)("button",{className:"view-profile-btn-birthday",onClick:()=>e("/app/linea-tiempo"),children:"Ver Perfil"})]}),(0,lh.jsxs)("div",{className:"friend-suggestion-card",children:[(0,lh.jsx)("h3",{children:"Sugerencias de Vecinos"}),(0,lh.jsxs)("div",{className:"suggestion-grid",children:[(0,lh.jsxs)("div",{className:"suggestion-item",children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/150?img=15",alt:"Josephin Water"}),(0,lh.jsx)("p",{children:"Josephin Water"}),(0,lh.jsx)("span",{children:"Adama, USA"})]}),(0,lh.jsxs)("div",{className:"suggestion-item",children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/150?img=16",alt:"Sufiya Elija"}),(0,lh.jsx)("p",{children:"Sufiya Elija"}),(0,lh.jsx)("span",{children:"Adama, USA"})]})]})]}),(0,lh.jsxs)("div",{className:"birthday-special-card",children:[(0,lh.jsxs)("div",{className:"special-card-header",children:[(0,lh.jsx)(mj,{}),(0,lh.jsx)("h3",{children:"\xa1Cumplea\xf1os!"}),(0,lh.jsx)("p",{children:"Desea Feliz Cumplea\xf1os a tus Vecinos"})]}),(0,lh.jsxs)("div",{className:"special-card-content",children:[(0,lh.jsx)("div",{className:"cake-icon-large",children:"\ud83c\udf82"}),(0,lh.jsx)("img",{src:"https://i.pravatar.cc/80?img=16",alt:"Sufiya Elija",className:"birthday-person"}),(0,lh.jsx)("span",{className:"age-badge",children:"28+"})]}),(0,lh.jsx)("h4",{children:"Sufiya Elija"}),(0,lh.jsx)("p",{children:"Lorem Ipsum es simplemente texto de relleno de la industria de la impresi\xf3n y la composici\xf3n tipogr\xe1fica."}),(0,lh.jsx)("button",{className:"wish-btn",onClick:()=>t("Sufiya Elija"),children:"Desear Feliz Cumplea\xf1os a tu Vecino"})]})]})]})]})},Vj=ab((0,lh.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-1 6h2v2h-2zm0 4h2v6h-2z"})),Uj=ab((0,lh.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),qj=()=>{const t=ou(),{user:n,updateUser:r,logout:s}=lp(),{isRightSidebarCollapsed:a}=vh(),[i,o]=(0,e.useState)("account"),[l,c]=(0,e.useState)({name:(null===n||void 0===n?void 0:n.name)||"",username:(null===n||void 0===n?void 0:n.username)||"",email:(null===n||void 0===n?void 0:n.email)||"",bio:(null===n||void 0===n?void 0:n.bio)||"",location:(null===n||void 0===n?void 0:n.location)||"",phone:"",website:""}),[d,u]=(0,e.useState)(null),[h,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{n&&c({name:n.name||"",username:n.username||"",email:n.email||"",bio:n.bio||"",location:n.location||"",phone:"",website:""})},[n]);const m=e=>{const{name:t,value:r}=e.target;if("username"===t){const e=r.toLowerCase().replace(/[^a-z0-9]/g,"");if(c(z(z({},l),{},{username:e})),e.length>=3&&e!==(null===n||void 0===n?void 0:n.username)){p(!0);const t=JSON.parse(localStorage.getItem("users")||"[]").some(t=>t.username===e);u(!t),p(!1)}else e===(null===n||void 0===n?void 0:n.username)?u(!0):u(null)}else c(z(z({},l),{},{[t]:r}))},f=()=>{if(l.username&&l.username.length<3)return void tc("El nombre de usuario debe tener al menos 3 caracteres");if(!1===d)return void tc("Este nombre de usuario ya est\xe1 en uso");const e=r(l);null!==e&&void 0!==e&&e.success?(ec("\xa1Configuraci\xf3n guardada exitosamente!"),l.username!==(null===n||void 0===n?void 0:n.username)&&t("/".concat(l.username))):null!==e&&void 0!==e&&e.error&&tc(e.error)},g=e=>{nc("Funci\xf3n de ".concat(e," pr\xf3ximamente!"))},v=[{id:"account",icon:(0,lh.jsx)(wb,{}),label:"Configuraci\xf3n de cuenta"},{id:"security",icon:(0,lh.jsx)(Ew,{}),label:"Seguridad e inicio de sesi\xf3n"},{id:"notifications",icon:(0,lh.jsx)(ob,{}),label:"Notificaciones"},{id:"privacy",icon:(0,lh.jsx)(Vj,{}),label:"Privacidad"},{id:"language",icon:(0,lh.jsx)(Pj,{}),label:"Idioma y regi\xf3n"},{id:"help",icon:(0,lh.jsx)(_b,{}),label:"Ayuda y soporte"},{id:"about",icon:(0,lh.jsx)(_j,{}),label:"Acerca de"}];return(0,lh.jsxs)("div",{className:"settings-page ".concat(a?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"settings-header",children:[(0,lh.jsx)("h1",{children:"Configuraci\xf3n"}),(0,lh.jsx)("p",{children:"Administra la configuraci\xf3n y preferencias de tu cuenta"})]}),(0,lh.jsxs)("div",{className:"settings-container",children:[(0,lh.jsx)("div",{className:"settings-sidebar",children:(0,lh.jsxs)("div",{className:"settings-menu",children:[v.map(e=>(0,lh.jsxs)("button",{className:"settings-menu-item ".concat(i===e.id?"active":""),onClick:()=>o(e.id),children:[e.icon,(0,lh.jsx)("span",{children:e.label})]},e.id)),(0,lh.jsxs)("button",{className:"settings-menu-item logout",onClick:async()=>{(await ac("Cerrar sesi\xf3n","\xbfEst\xe1s seguro de que quieres cerrar sesi\xf3n?","S\xed, cerrar sesi\xf3n","Cancelar")).isConfirmed&&(s(),t("/iniciar-sesion",{replace:!0}))},children:[(0,lh.jsx)(Sb,{}),(0,lh.jsx)("span",{children:"Cerrar sesi\xf3n"})]})]})}),(0,lh.jsxs)("div",{className:"settings-content",children:["account"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Configuraci\xf3n de Cuenta"}),(0,lh.jsx)("p",{className:"section-description",children:"Actualiza la informaci\xf3n de tu cuenta"}),(0,lh.jsx)("div",{className:"profile-picture-section",children:(0,lh.jsx)(_w,{currentImage:null===n||void 0===n?void 0:n.avatar,onImageSelect:async e=>{try{await ww.saveProfileImage(n.id,e),r({avatar:e}),ec("\xa1Foto de perfil actualizada!")}catch(t){nc(t.message||"Error al actualizar foto")}},type:"profile",buttonText:"Cambiar Foto de Perfil"})}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Nombre Completo"}),(0,lh.jsx)("input",{type:"text",name:"name",value:l.name,onChange:m,placeholder:"Ingresa tu nombre completo"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Nombre de Usuario"}),(0,lh.jsx)("input",{type:"text",name:"username",value:l.username,onChange:m,placeholder:"tu-nombre-de-usuario",maxLength:"30"}),(0,lh.jsxs)("div",{className:"username-preview",children:["vecinoactivo.cl/",(0,lh.jsx)("strong",{children:l.username||"tu-username"})]}),!0===d&&l.username.length>=3&&(0,lh.jsx)("div",{className:"username-status available",children:"\u2713 Nombre de usuario disponible"}),!1===d&&(0,lh.jsx)("div",{className:"username-status unavailable",children:"\u2717 Este nombre de usuario ya est\xe1 en uso"}),l.username&&l.username.length<3&&(0,lh.jsx)("div",{className:"username-status info",children:"M\xednimo 3 caracteres (solo letras y n\xfameros)"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Correo Electr\xf3nico"}),(0,lh.jsx)("input",{type:"email",name:"email",value:l.email,onChange:m,placeholder:"Ingresa tu correo"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Biograf\xeda"}),(0,lh.jsx)("textarea",{name:"bio",value:l.bio,onChange:m,placeholder:"Cu\xe9ntanos sobre ti",rows:"4"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Ubicaci\xf3n"}),(0,lh.jsx)("input",{type:"text",name:"location",value:l.location,onChange:m,placeholder:"Ciudad, Pa\xeds"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"N\xfamero de Tel\xe9fono"}),(0,lh.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:m,placeholder:"+1 (555) 000-0000"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Sitio Web"}),(0,lh.jsx)("input",{type:"url",name:"website",value:l.website,onChange:m,placeholder:"https://tusitio.com"})]}),(0,lh.jsxs)("button",{className:"save-btn",onClick:f,children:[(0,lh.jsx)(Uj,{fontSize:"small"})," Guardar Cambios"]})]}),"security"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Seguridad e Inicio de Sesi\xf3n"}),(0,lh.jsx)("p",{className:"section-description",children:"Administra tu contrase\xf1a y configuraci\xf3n de seguridad"}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsxs)("div",{className:"security-info",children:[(0,lh.jsx)("h4",{children:"Cambiar Contrase\xf1a"}),(0,lh.jsx)("p",{children:"Actualiza tu contrase\xf1a regularmente para mantener tu cuenta segura"})]}),(0,lh.jsx)("button",{className:"action-btn",onClick:()=>g("Cambiar Contrase\xf1a"),children:"Cambiar"})]}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsxs)("div",{className:"security-info",children:[(0,lh.jsx)("h4",{children:"Autenticaci\xf3n de Dos Factores"}),(0,lh.jsx)("p",{children:"Agrega una capa extra de seguridad a tu cuenta"})]}),(0,lh.jsx)("button",{className:"action-btn",onClick:()=>g("Autenticaci\xf3n de Dos Factores"),children:"Activar"})]}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsxs)("div",{className:"security-info",children:[(0,lh.jsx)("h4",{children:"Alertas de Inicio de Sesi\xf3n"}),(0,lh.jsx)("p",{children:"Recibe notificaciones cuando alguien inicie sesi\xf3n en tu cuenta"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsxs)("div",{className:"security-info",children:[(0,lh.jsx)("h4",{children:"Sesiones Activas"}),(0,lh.jsx)("p",{children:"Ve d\xf3nde has iniciado sesi\xf3n y administra tus sesiones"})]}),(0,lh.jsx)("button",{className:"action-btn",onClick:()=>g("Sesiones Activas"),children:"Ver"})]})]}),"notifications"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Notificaciones"}),(0,lh.jsx)("p",{className:"section-description",children:"Elige qu\xe9 notificaciones quieres recibir"}),(0,lh.jsxs)("div",{className:"notification-item",children:[(0,lh.jsxs)("div",{className:"notification-info",children:[(0,lh.jsx)("h4",{children:"Comentarios"}),(0,lh.jsx)("p",{children:"Recibe notificaciones cuando alguien comente en tus publicaciones"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"notification-item",children:[(0,lh.jsxs)("div",{className:"notification-info",children:[(0,lh.jsx)("h4",{children:"Me gusta y Reacciones"}),(0,lh.jsx)("p",{children:"Recibe notificaciones cuando alguien reaccione a tus publicaciones"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"notification-item",children:[(0,lh.jsxs)("div",{className:"notification-info",children:[(0,lh.jsx)("h4",{children:"Solicitudes de Vecinos"}),(0,lh.jsx)("p",{children:"Recibe notificaciones cuando alguien te env\xede una solicitud de vecinos"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"notification-item",children:[(0,lh.jsxs)("div",{className:"notification-info",children:[(0,lh.jsx)("h4",{children:"Mensajes"}),(0,lh.jsx)("p",{children:"Recibe notificaciones cuando recibas un nuevo mensaje"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"notification-item",children:[(0,lh.jsxs)("div",{className:"notification-info",children:[(0,lh.jsx)("h4",{children:"Notificaciones por Correo"}),(0,lh.jsx)("p",{children:"Recibe notificaciones por correo electr\xf3nico"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox"}),(0,lh.jsx)("span",{className:"slider"})]})]})]}),"privacy"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Privacidad"}),(0,lh.jsx)("p",{className:"section-description",children:"Controla qui\xe9n puede ver tu contenido y contactarte"}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Visibilidad del Perfil"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede ver tu perfil"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"Todos"}),(0,lh.jsx)("option",{children:"Vecinos"}),(0,lh.jsx)("option",{children:"Solo yo"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Visibilidad de Publicaciones"}),(0,lh.jsx)("p",{children:"Visibilidad predeterminada para tus publicaciones"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"P\xfablico"}),(0,lh.jsx)("option",{children:"Amigos"}),(0,lh.jsx)("option",{children:"Solo yo"}),(0,lh.jsx)("option",{children:"Personalizado"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Solicitudes de Vecinos"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede enviarte solicitudes de vecinos"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"Todos"}),(0,lh.jsx)("option",{children:"Vecinos de vecinos"}),(0,lh.jsx)("option",{children:"Nadie"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Lista de Amigos"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede ver tu lista de amigos"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"Todos"}),(0,lh.jsx)("option",{children:"Vecinos"}),(0,lh.jsx)("option",{children:"Solo yo"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Etiquetas"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede etiquetarte en publicaciones"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"Todos"}),(0,lh.jsx)("option",{children:"Vecinos"}),(0,lh.jsx)("option",{children:"Nadie"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Fotos y Videos"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede ver tus fotos y videos"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"P\xfablico"}),(0,lh.jsx)("option",{children:"Vecinos"}),(0,lh.jsx)("option",{children:"Solo yo"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Mensajes"}),(0,lh.jsx)("p",{children:"Qui\xe9n puede enviarte mensajes directos"})]}),(0,lh.jsxs)("select",{className:"privacy-select",children:[(0,lh.jsx)("option",{children:"Todos"}),(0,lh.jsx)("option",{children:"Vecinos"}),(0,lh.jsx)("option",{children:"Nadie"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Visibilidad en B\xfasquedas"}),(0,lh.jsx)("p",{children:"Permitir que los motores de b\xfasqueda enlacen a tu perfil"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"privacy-item",children:[(0,lh.jsxs)("div",{className:"privacy-info",children:[(0,lh.jsx)("h4",{children:"Actividad en L\xednea"}),(0,lh.jsx)("p",{children:"Mostrar cuando est\xe1s activo"})]}),(0,lh.jsxs)("label",{className:"switch",children:[(0,lh.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,lh.jsx)("span",{className:"slider"})]})]}),(0,lh.jsxs)("div",{className:"privacy-section-divider",children:[(0,lh.jsx)("h3",{children:"Usuarios Bloqueados"}),(0,lh.jsx)("p",{children:"Administra los usuarios que has bloqueado"})]}),(0,lh.jsxs)("div",{className:"blocked-users-list",children:[(0,lh.jsx)("p",{className:"no-blocked-users",children:"No has bloqueado a ning\xfan usuario"}),(0,lh.jsx)("button",{className:"action-btn",onClick:()=>g("Bloquear Usuario"),children:"Bloquear Usuario"})]}),(0,lh.jsxs)("div",{className:"privacy-section-divider",children:[(0,lh.jsx)("h3",{children:"Reportar Contenido"}),(0,lh.jsx)("p",{children:"Reporta contenido inapropiado o que viole nuestras normas"})]}),(0,lh.jsxs)("div",{className:"report-options",children:[(0,lh.jsx)("button",{className:"report-btn",onClick:()=>g("Reportar Publicaci\xf3n"),children:"Reportar Publicaci\xf3n"}),(0,lh.jsx)("button",{className:"report-btn",onClick:()=>g("Reportar Usuario"),children:"Reportar Usuario"}),(0,lh.jsx)("button",{className:"report-btn",onClick:()=>g("Reportar Grupo"),children:"Reportar Grupo"})]}),(0,lh.jsxs)("button",{className:"save-btn",onClick:f,children:[(0,lh.jsx)(Uj,{fontSize:"small"})," Guardar Configuraci\xf3n de Privacidad"]})]}),"language"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Idioma y Regi\xf3n"}),(0,lh.jsx)("p",{className:"section-description",children:"Personaliza tus preferencias de idioma y regi\xf3n"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Idioma"}),(0,lh.jsxs)("select",{children:[(0,lh.jsx)("option",{children:"Espa\xf1ol"}),(0,lh.jsx)("option",{children:"English (US)"}),(0,lh.jsx)("option",{children:"Fran\xe7ais"}),(0,lh.jsx)("option",{children:"Deutsch"}),(0,lh.jsx)("option",{children:"Portugu\xeas"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Zona Horaria"}),(0,lh.jsxs)("select",{children:[(0,lh.jsx)("option",{children:"Hora del Pac\xedfico (PT)"}),(0,lh.jsx)("option",{children:"Hora de la Monta\xf1a (MT)"}),(0,lh.jsx)("option",{children:"Hora Central (CT)"}),(0,lh.jsx)("option",{children:"Hora del Este (ET)"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Formato de Fecha"}),(0,lh.jsxs)("select",{children:[(0,lh.jsx)("option",{children:"DD/MM/AAAA"}),(0,lh.jsx)("option",{children:"MM/DD/AAAA"}),(0,lh.jsx)("option",{children:"AAAA/MM/DD"})]})]}),(0,lh.jsxs)("button",{className:"save-btn",children:[(0,lh.jsx)(Uj,{fontSize:"small"})," Guardar Cambios"]})]}),"help"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Ayuda y Soporte"}),(0,lh.jsx)("p",{className:"section-description",children:"Obt\xe9n ayuda y soporte para tu cuenta"}),(0,lh.jsxs)("div",{className:"help-item",children:[(0,lh.jsx)(_b,{className:"help-icon"}),(0,lh.jsxs)("div",{className:"help-info",children:[(0,lh.jsx)("h4",{children:"Centro de Ayuda"}),(0,lh.jsx)("p",{children:"Encuentra respuestas a preguntas comunes"}),(0,lh.jsx)("button",{className:"link-btn",onClick:()=>t("/app/ayuda"),children:"Visitar Centro de Ayuda \u2192"})]})]}),(0,lh.jsxs)("div",{className:"help-item",children:[(0,lh.jsx)(_b,{className:"help-icon"}),(0,lh.jsxs)("div",{className:"help-info",children:[(0,lh.jsx)("h4",{children:"Contactar Soporte"}),(0,lh.jsx)("p",{children:"Ponte en contacto con nuestro equipo de soporte"}),(0,lh.jsx)("button",{className:"link-btn",onClick:()=>t("/app/contacto"),children:"Cont\xe1ctanos \u2192"})]})]}),(0,lh.jsxs)("div",{className:"help-item",children:[(0,lh.jsx)(_b,{className:"help-icon"}),(0,lh.jsxs)("div",{className:"help-info",children:[(0,lh.jsx)("h4",{children:"Reportar un Problema"}),(0,lh.jsx)("p",{children:"D\xe9janos saber si algo no funciona"}),(0,lh.jsx)("button",{className:"link-btn",onClick:async()=>{const e=await ic("Reportar Problema","Describe el problema que encontraste","textarea");e.isConfirmed&&e.value&&ec("\xa1Problema reportado! Nuestro equipo lo revisar\xe1 pronto.")},children:"Reportar \u2192"})]})]})]}),"about"===i&&(0,lh.jsxs)("div",{className:"settings-section",children:[(0,lh.jsx)("h2",{children:"Acerca de Vecino Activo"}),(0,lh.jsx)("p",{className:"section-description",children:"Aprende m\xe1s sobre Vecino Activo"}),(0,lh.jsxs)("div",{className:"about-info",children:[(0,lh.jsx)("h3",{children:"Vecino Activo v1.0.0"}),(0,lh.jsx)("p",{children:"Con\xe9ctate con tus vecinos y tu comunidad en Vecino Activo."}),(0,lh.jsxs)("div",{className:"about-links",children:[(0,lh.jsx)("a",{href:"#terms",children:"T\xe9rminos de Servicio"}),(0,lh.jsx)("a",{href:"#privacy",children:"Pol\xedtica de Privacidad"}),(0,lh.jsx)("a",{href:"#cookies",children:"Pol\xedtica de Cookies"}),(0,lh.jsx)("a",{href:"#community",children:"Normas de la Comunidad"})]}),(0,lh.jsx)("p",{className:"copyright",children:"\xa9 2026 Vecino Activo. Todos los derechos reservados."})]})]})]})]})]})},Fj=ab((0,lh.jsx)("path",{d:"M11.5 2C6.81 2 3 5.81 3 10.5S6.81 19 11.5 19h.5v3c4.86-2.34 8-7 8-11.5C20 5.81 16.19 2 11.5 2m1 14.5h-2v-2h2zm0-3.5h-2c0-3.25 3-3 3-5 0-1.1-.9-2-2-2s-2 .9-2 2h-2c0-2.21 1.79-4 4-4s4 1.79 4 4c0 2.5-3 2.75-3 5"})),Hj=ab((0,lh.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"})),Wj=()=>{const t=ou(),{isRightSidebarCollapsed:n}=vh(),[r,s]=(0,e.useState)(""),[a,i]=(0,e.useState)(null),o=[{icon:(0,lh.jsx)(Bw,{}),title:"Primeros Pasos",count:12},{icon:(0,lh.jsx)(Fj,{}),title:"Configuraci\xf3n de Cuenta",count:18},{icon:(0,lh.jsx)(Hj,{}),title:"Privacidad y Seguridad",count:15},{icon:(0,lh.jsx)(Nb,{}),title:"Soluci\xf3n de Problemas",count:20}],l=[{id:1,question:"\xbfC\xf3mo creo una nueva cuenta?",answer:'Para crear una nueva cuenta, haz clic en el bot\xf3n "Registrarse" en la p\xe1gina de inicio de sesi\xf3n. Completa tu nombre, correo electr\xf3nico y contrase\xf1a, luego haz clic en "Crear Cuenta". Recibir\xe1s un correo de confirmaci\xf3n para verificar tu cuenta.'},{id:2,question:"\xbfC\xf3mo restablezco mi contrase\xf1a?",answer:'Haz clic en "\xbfOlvidaste tu contrase\xf1a?" en la p\xe1gina de inicio de sesi\xf3n. Ingresa tu direcci\xf3n de correo electr\xf3nico y te enviaremos un enlace para restablecer tu contrase\xf1a. Sigue las instrucciones del correo para crear una nueva contrase\xf1a.'},{id:3,question:"\xbfC\xf3mo cambio mi foto de perfil?",answer:'Ve a tu perfil, haz clic en tu foto de perfil actual y selecciona "Subir Foto". Elige una nueva imagen de tu dispositivo y haz clic en "Guardar".'},{id:4,question:"\xbfC\xf3mo elimino mi cuenta?",answer:"Ve a Configuraci\xf3n > Configuraci\xf3n de Cuenta > Eliminar Cuenta. Ten en cuenta que esta acci\xf3n es permanente y no se puede deshacer. Todos tus datos ser\xe1n eliminados permanentemente."},{id:5,question:"\xbfC\xf3mo reporto contenido inapropiado?",answer:'Haz clic en el men\xfa de tres puntos en cualquier publicaci\xf3n, comentario o perfil. Selecciona "Reportar" y elige el motivo del reporte. Nuestro equipo revisar\xe1 el contenido en 24 horas.'},{id:6,question:"\xbfC\xf3mo bloqueo a alguien?",answer:'Ve al perfil de la persona, haz clic en el men\xfa de tres puntos y selecciona "Bloquear". Los usuarios bloqueados no podr\xe1n ver tu perfil ni contactarte.'},{id:7,question:"\xbfC\xf3mo cambio mi configuraci\xf3n de privacidad?",answer:"Ve a Configuraci\xf3n > Privacidad. Aqu\xed puedes controlar qui\xe9n puede ver tus publicaciones, enviarte solicitudes de amistad y ver la informaci\xf3n de tu perfil."},{id:8,question:"\xbfC\xf3mo creo una publicaci\xf3n?",answer:'Haz clic en "\xbfQu\xe9 est\xe1s pensando?" en la parte superior de tu feed. Escribe tu mensaje, agrega fotos o videos si quieres, elige tu configuraci\xf3n de privacidad y haz clic en "Publicar".'}].filter(e=>e.question.toLowerCase().includes(r.toLowerCase())||e.answer.toLowerCase().includes(r.toLowerCase()));return(0,lh.jsxs)("div",{className:"help-page ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"help-hero",children:[(0,lh.jsx)("h1",{children:"\xbfC\xf3mo podemos ayudarte?"}),(0,lh.jsx)("p",{children:"Busca respuestas o explora nuestros temas de ayuda"}),(0,lh.jsx)("div",{className:"help-search",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar ayuda...",value:r,onChange:e=>s(e.target.value)})})]}),(0,lh.jsx)("div",{className:"help-categories",children:o.map((e,t)=>(0,lh.jsxs)("div",{className:"help-category-card",children:[(0,lh.jsx)("div",{className:"category-icon",children:e.icon}),(0,lh.jsx)("h3",{children:e.title}),(0,lh.jsxs)("p",{children:[e.count," art\xedculos"]})]},t))}),(0,lh.jsxs)("div",{className:"help-content",children:[(0,lh.jsxs)("div",{className:"faq-section",children:[(0,lh.jsx)("h2",{children:"Preguntas Frecuentes"}),(0,lh.jsx)("div",{className:"faq-list",children:l.map(e=>(0,lh.jsxs)("div",{className:"faq-item",children:[(0,lh.jsxs)("button",{className:"faq-question",onClick:()=>{return t=e.id,void i(a===t?null:t);var t},children:[(0,lh.jsx)("span",{children:e.question}),a===e.id?(0,lh.jsx)(Jb,{}):(0,lh.jsx)(Zb,{})]}),a===e.id&&(0,lh.jsx)("div",{className:"faq-answer",children:(0,lh.jsx)("p",{children:e.answer})})]},e.id))})]}),(0,lh.jsxs)("div",{className:"help-sidebar",children:[(0,lh.jsxs)("div",{className:"contact-card",children:[(0,lh.jsx)(Fj,{className:"contact-icon"}),(0,lh.jsx)("h3",{children:"\xbfA\xfan necesitas ayuda?"}),(0,lh.jsx)("p",{children:"Nuestro equipo de soporte est\xe1 aqu\xed para ayudarte"}),(0,lh.jsx)("button",{className:"contact-btn",onClick:()=>{t("/app/contacto")},children:"Contactar Soporte"})]}),(0,lh.jsxs)("div",{className:"contact-card",children:[(0,lh.jsx)(Hj,{className:"contact-icon"}),(0,lh.jsx)("h3",{children:"Reportar un Problema"}),(0,lh.jsx)("p",{children:"D\xe9janos saber si algo no funciona"}),(0,lh.jsx)("button",{className:"contact-btn secondary",onClick:async()=>{const e=await ic("Reportar Problema","Describe el problema que encontraste","textarea");e.isConfirmed&&e.value&&ec("\xa1Problema reportado! Nuestro equipo lo revisar\xe1 pronto.")},children:"Reportar Problema"})]}),(0,lh.jsxs)("div",{className:"contact-card",children:[(0,lh.jsx)(Nb,{className:"contact-icon"}),(0,lh.jsx)("h3",{children:"Enviar Comentarios"}),(0,lh.jsx)("p",{children:"Ay\xfadanos a mejorar Vecino Activo"}),(0,lh.jsx)("button",{className:"contact-btn secondary",onClick:async()=>{const e=await ic("Enviar Comentarios","Comparte tus sugerencias para mejorar Vecino Activo","textarea");e.isConfirmed&&e.value&&ec("\xa1Gracias por tus comentarios! Los valoramos mucho.")},children:"Dar Opini\xf3n"})]})]})]})]})},Gj=ab((0,lh.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"})),Zj=ab((0,lh.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99"})),Jj=ab((0,lh.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"})),Kj=ab((0,lh.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"})),$j=ab((0,lh.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"})),Yj=ab((0,lh.jsx)("path",{d:"M22 8.98V18c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10.1c-.06.32-.1.66-.1 1 0 1.48.65 2.79 1.67 3.71L12 11 4 6v2l8 5 5.3-3.32c.54.2 1.1.32 1.7.32 1.13 0 2.16-.39 3-1.02M16 5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"})),Xj=()=>{const t=ou(),n=au(),{user:r}=lp(),{conversations:s,activeConversation:a,setActiveConversation:i,sendMessage:o,getMessages:l,markAsRead:c,createConversation:d}=(()=>{const t=(0,e.useContext)(mh);if(!t)throw new Error("useChat debe usarse dentro de ChatProvider");return t})(),{friends:u}=(()=>{const t=(0,e.useContext)(qh);if(!t)throw new Error("useFriends must be used within a FriendsProvider");return t})(),{isRightSidebarCollapsed:h}=vh(),[p,m]=(0,e.useState)(""),[f,g]=(0,e.useState)(""),[v,y]=(0,e.useState)([]),[b,x]=(0,e.useState)(!1),w=(0,e.useRef)(null);(0,e.useEffect)(()=>{var e;const r=null===(e=n.state)||void 0===e?void 0:e.selectedFriend;if(r){var a;const e=s.find(e=>e.participants.includes(r.id));if(e)i(e);else{const e=d(r.id);e&&i(e)}null!==(a=n.state)&&void 0!==a&&a.selectedFriend&&t(n.pathname,{replace:!0,state:{}})}},[n.state,s,d,t,n.pathname]),(0,e.useEffect)(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const j=[{icon:(0,lh.jsx)(kb,{}),label:"Buscar en conversaciones",action:()=>{ec("B\xfasqueda activada"),x(!1)}},{icon:(0,lh.jsx)(Jj,{}),label:"Fijar conversaci\xf3n",action:()=>{ec("Conversaci\xf3n fijada"),x(!1)}},{icon:(0,lh.jsx)(Kj,{}),label:"Silenciar notificaciones",action:()=>{ec("Notificaciones silenciadas"),x(!1)}},{icon:(0,lh.jsx)($j,{}),label:"Archivar conversaci\xf3n",action:()=>{ec("Conversaci\xf3n archivada"),x(!1)}},{icon:(0,lh.jsx)(Yj,{}),label:"Marcar como no le\xedda",action:()=>{ec("Marcada como no le\xedda"),x(!1)}},{icon:(0,lh.jsx)(gb,{}),label:"Eliminar conversaci\xf3n",action:()=>{ec("Conversaci\xf3n eliminada"),x(!1)}}];(0,e.useEffect)(()=>{if(a){const e=l(a.id);y(e),c(a.id)}},[a]);const _=e=>{const t=e.participants.find(e=>e!==r.id);return JSON.parse(localStorage.getItem("friendbook_users")||"[]").find(e=>e.id===t)||u.find(e=>e.id===t)||{name:"Usuario",avatar:"https://i.pravatar.cc/50"}},N=e=>{const t=new Date(e),n=new Date-t;return n<6e4?"Justo ahora":n<36e5?"".concat(Math.floor(n/6e4)," min"):n<864e5?t.toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("es")},S=()=>{if(!p.trim()||!a)return;o(a.id,p),m("");const e=l(a.id);y(e)},C=s.filter(e=>_(e).name.toLowerCase().includes(f.toLowerCase()));return(0,lh.jsxs)("div",{className:"messenger-page ".concat(h?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"messenger-sidebar",children:[(0,lh.jsxs)("div",{className:"messenger-header",children:[(0,lh.jsx)("h2",{children:"Mensajes"}),(0,lh.jsxs)("div",{className:"options-menu-container",ref:w,children:[(0,lh.jsx)("button",{className:"icon-btn",onClick:()=>x(!b),children:(0,lh.jsx)(bb,{})}),b&&(0,lh.jsx)("div",{className:"options-menu",children:j.map((e,t)=>(0,lh.jsxs)("button",{className:"options-menu-item",onClick:e.action,children:[e.icon,(0,lh.jsx)("span",{children:e.label})]},t))})]})]}),(0,lh.jsx)("div",{className:"messenger-search",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar vecinos...",value:f,onChange:e=>g(e.target.value)})}),(0,lh.jsx)("div",{className:"conversations-list",children:0===C.length?(0,lh.jsxs)("div",{className:"no-conversations",children:[(0,lh.jsx)("div",{className:"no-conversations-icon",children:"\ud83d\udcac"}),(0,lh.jsx)("h3",{children:"No hay conversaciones"}),(0,lh.jsx)("p",{children:"Inicia un chat con tus vecinos para comenzar"})]}):C.map(e=>{const t=_(e),n=e.messages.filter(e=>e.senderId!==r.id&&!e.read).length;return(0,lh.jsxs)("div",{className:"conversation-item ".concat((null===a||void 0===a?void 0:a.id)===e.id?"active":""),onClick:()=>i(e),children:[(0,lh.jsxs)("div",{className:"conv-avatar-wrapper",children:[(0,lh.jsx)("img",{src:t.avatar,alt:t.name}),(0,lh.jsx)("span",{className:"online-dot"})]}),(0,lh.jsxs)("div",{className:"conv-info",children:[(0,lh.jsxs)("div",{className:"conv-header",children:[(0,lh.jsx)("h4",{children:t.name}),(0,lh.jsx)("span",{className:"conv-time",children:N(e.lastMessageTime)})]}),(0,lh.jsxs)("div",{className:"conv-preview",children:[(0,lh.jsx)("p",{children:e.lastMessage||"Nueva conversaci\xf3n"}),n>0&&(0,lh.jsx)("span",{className:"unread-badge",children:n})]})]})]},e.id)})})]}),(0,lh.jsx)("div",{className:"messenger-main",children:a?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"chat-header",children:[(0,lh.jsxs)("div",{className:"chat-user-info",children:[(0,lh.jsxs)("div",{className:"chat-avatar-wrapper",children:[(0,lh.jsx)("img",{src:_(a).avatar,alt:_(a).name}),(0,lh.jsx)("span",{className:"online-dot"})]}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("h3",{children:_(a).name}),(0,lh.jsx)("span",{className:"user-status",children:"Activo ahora"})]})]}),(0,lh.jsxs)("div",{className:"chat-actions",children:[(0,lh.jsx)("button",{className:"icon-btn",onClick:()=>ec("Llamada de voz iniciada"),children:(0,lh.jsx)(Zj,{})}),(0,lh.jsx)("button",{className:"icon-btn",onClick:()=>ec("Videollamada iniciada"),children:(0,lh.jsx)(vw,{})}),(0,lh.jsx)("button",{className:"icon-btn",onClick:()=>ec("Informaci\xf3n del chat"),children:(0,lh.jsx)(_j,{})})]})]}),(0,lh.jsx)("div",{className:"chat-messages",children:v.map(e=>(0,lh.jsxs)("div",{className:"message ".concat(e.senderId===r.id?"me":"them"),children:[e.senderId!==r.id&&(0,lh.jsx)("img",{src:_(a).avatar,alt:"",className:"message-avatar"}),(0,lh.jsxs)("div",{className:"message-bubble",children:[(0,lh.jsx)("p",{children:e.text}),(0,lh.jsx)("span",{className:"message-time",children:N(e.timestamp)})]}),e.senderId===r.id&&(0,lh.jsx)("img",{src:null===r||void 0===r?void 0:r.avatar,alt:"",className:"message-avatar"})]},e.id))}),(0,lh.jsxs)("div",{className:"chat-input-container",children:[(0,lh.jsx)("button",{className:"icon-btn",children:(0,lh.jsx)(gw,{})}),(0,lh.jsx)("button",{className:"icon-btn",children:(0,lh.jsx)(Gj,{})}),(0,lh.jsxs)("div",{className:"chat-input-wrapper",children:[(0,lh.jsx)("input",{type:"text",placeholder:"Escribe un mensaje...",value:p,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())}}),(0,lh.jsx)(Nw,{onEmojiSelect:e=>{m(p+e)}})]}),(0,lh.jsx)("button",{className:"send-btn",onClick:S,disabled:!p.trim(),children:(0,lh.jsx)(Kw,{})})]})]}):(0,lh.jsxs)("div",{className:"no-chat-selected",children:[(0,lh.jsx)("div",{className:"no-chat-icon",children:"\ud83d\udcac"}),(0,lh.jsx)("h3",{children:"Selecciona una conversaci\xf3n"}),(0,lh.jsx)("p",{children:"Elige una conversaci\xf3n de la lista para comenzar a chatear"})]})})]})},Qj=()=>{const{isRightSidebarCollapsed:t}=vh(),[n,r]=(0,e.useState)({name:"",email:"",subject:"",message:""}),s=e=>{r(z(z({},n),{},{[e.target.name]:e.target.value}))};return(0,lh.jsxs)("div",{className:"contact-page ".concat(t?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"contact-hero",children:[(0,lh.jsx)("h1",{children:"Cont\xe1ctanos"}),(0,lh.jsx)("p",{children:"Nos encantar\xeda saber de ti. \xa1Env\xedanos un mensaje!"})]}),(0,lh.jsxs)("div",{className:"contact-content",children:[(0,lh.jsxs)("div",{className:"contact-info-section",children:[(0,lh.jsxs)("div",{className:"contact-info-card",children:[(0,lh.jsx)("div",{className:"info-icon",children:(0,lh.jsx)(hb,{})}),(0,lh.jsx)("h3",{children:"Direcci\xf3n"}),(0,lh.jsx)("p",{children:"Calle Vecino Activo 123"}),(0,lh.jsx)("p",{children:"Santiago, Chile"}),(0,lh.jsx)("p",{children:"Chile"})]}),(0,lh.jsxs)("div",{className:"contact-info-card",children:[(0,lh.jsx)("div",{className:"info-icon",children:(0,lh.jsx)(Cj,{})}),(0,lh.jsx)("h3",{children:"Tel\xe9fono"}),(0,lh.jsx)("p",{children:"+1 (555) 123-4567"}),(0,lh.jsx)("p",{children:"+1 (555) 987-6543"}),(0,lh.jsx)("p",{children:"Lun-Vie 9am-6pm PST"})]}),(0,lh.jsxs)("div",{className:"contact-info-card",children:[(0,lh.jsx)("div",{className:"info-icon",children:(0,lh.jsx)(uj,{})}),(0,lh.jsx)("h3",{children:"Correo"}),(0,lh.jsx)("p",{children:"soporte@vecinoactivo.cl"}),(0,lh.jsx)("p",{children:"info@vecinoactivo.cl"}),(0,lh.jsx)("p",{children:"Respondemos en 24 horas"})]})]}),(0,lh.jsxs)("div",{className:"contact-form-section",children:[(0,lh.jsx)("h2",{children:"Env\xedanos un mensaje"}),(0,lh.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.name||!n.email||!n.subject||!n.message)return void tc("Por favor completa todos los campos");const t=JSON.parse(localStorage.getItem("contactMessages")||"[]"),s=z(z({},n),{},{id:Date.now(),date:(new Date).toISOString(),status:"pending"});t.push(s),localStorage.setItem("contactMessages",JSON.stringify(t)),ec("\xa1Mensaje enviado exitosamente! Te responderemos pronto."),r({name:"",email:"",subject:"",message:""})},className:"contact-form",children:[(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tu nombre"}),(0,lh.jsx)("input",{type:"text",name:"name",value:n.name,onChange:s,placeholder:"Juan P\xe9rez",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tu correo"}),(0,lh.jsx)("input",{type:"email",name:"email",value:n.email,onChange:s,placeholder:"juan@ejemplo.com",required:!0})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Asunto"}),(0,lh.jsx)("input",{type:"text",name:"subject",value:n.subject,onChange:s,placeholder:"\xbfC\xf3mo podemos ayudarte?",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Mensaje"}),(0,lh.jsx)("textarea",{name:"message",value:n.message,onChange:s,placeholder:"Cu\xe9ntanos m\xe1s sobre tu consulta...",rows:"6",required:!0})]}),(0,lh.jsxs)("button",{type:"submit",className:"submit-btn",children:[(0,lh.jsx)(Kw,{})," Enviar mensaje"]})]})]})]}),(0,lh.jsx)("div",{className:"contact-map",children:(0,lh.jsx)("iframe",{title:"Google Maps",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d100939.98555098464!2d-122.50764017163092!3d37.75781499242531!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80859a6d00690021%3A0x4a501367f076adff!2sSan%20Francisco%2C%20CA%2C%20USA!5e0!3m2!1sen!2s!4v1642345678901!5m2!1sen!2s",width:"100%",height:"400",style:{border:0,borderRadius:"12px"},allowFullScreen:"",loading:"lazy"})})]})},e_=ab((0,lh.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),t_=ab((0,lh.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"})),n_=ab((0,lh.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"})),r_=ab([(0,lh.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,lh.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")]),s_=ab([(0,lh.jsx)("path",{d:"M11.23 6c-1.66 0-3.22.66-4.36 1.73C6.54 6.73 5.61 6 4.5 6 3.12 6 2 7.12 2 8.5S3.12 11 4.5 11c.21 0 .41-.03.61-.08-.05.25-.09.51-.1.78-.18 3.68 2.95 6.68 6.68 6.27 2.55-.28 4.68-2.26 5.19-4.77.15-.71.15-1.4.06-2.06-.09-.6.38-1.13.99-1.13H22V6zM4.5 9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5m6.5 6c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"},"0"),(0,lh.jsx)("circle",{cx:"11",cy:"12",r:"2"},"1")]),a_=ab([(0,lh.jsx)("path",{d:"M2 16.5C2 19.54 4.46 22 7.5 22s5.5-2.46 5.5-5.5V10H2zm5.5 2C6.12 18.5 5 17.83 5 17h5c0 .83-1.12 1.5-2.5 1.5M10 13c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m-5 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1"},"0"),(0,lh.jsx)("path",{d:"M11 3v6h3v2.5c0-.83 1.12-1.5 2.5-1.5s2.5.67 2.5 1.5h-5v2.89c.75.38 1.6.61 2.5.61 3.04 0 5.5-2.46 5.5-5.5V3zm3 5.08c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1c0 .56-.45 1-1 1m5 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1c0 .56-.45 1-1 1"},"1")]),i_=()=>{const t=ou(),{user:n}=lp(),{events:r,upcomingEvents:s,rsvpEvent:a,createEvent:i}=(()=>{const t=(0,e.useContext)(Yh);if(!t)throw new Error("useEvents debe usarse dentro de EventsProvider");return t})(),{calendarEvents:o,createEvent:l,attendEvent:c,getUpcomingEvents:d}=xp(),{addPoints:u,updateActivity:h}=kp(),{isRightSidebarCollapsed:p}=vh(),[m,f]=(0,e.useState)("social"),[g,v]=(0,e.useState)(2026),[y,b]=(0,e.useState)("Todos"),[x,w]=(0,e.useState)(""),[j,_]=(0,e.useState)(!1),[N,S]=(0,e.useState)({title:"",description:"",type:"vecinal",date:"",startTime:"",endTime:"",location:"",maxAttendees:null}),C=[{value:"oficial",label:"Oficial",icon:(0,lh.jsx)(t_,{}),color:"#3b82f6"},{value:"vecinal",label:"Vecinal",icon:(0,lh.jsx)(vx,{}),color:"#10b981"},{value:"servicio",label:"Servicio",icon:(0,lh.jsx)(n_,{}),color:"#f59e0b"},{value:"emergencia",label:"Emergencia",icon:(0,lh.jsx)(zw,{}),color:"#ef4444"},{value:"taller",label:"Taller",icon:(0,lh.jsx)(r_,{}),color:"#8b5cf6"},{value:"reunion",label:"Reuni\xf3n",icon:(0,lh.jsx)(Gw,{}),color:"#06b6d4"},{value:"deporte",label:"Deporte",icon:(0,lh.jsx)(s_,{}),color:"#f97316"},{value:"cultural",label:"Cultural",icon:(0,lh.jsx)(a_,{}),color:"#ec4899"}],k=(e,t)=>{a(e,t),ec("\xa1Has marcado que ".concat("going"===t?"asistir\xe1s":"te interesa","!"))},E=(r||[]).filter(e=>{const t="Todos"===y||e.category===y,n=!x||e.title.toLowerCase().includes(x.toLowerCase());return t&&n}),P=d();return(0,lh.jsxs)("div",{className:"events-page ".concat(p?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"events-header",children:[(0,lh.jsx)("h1",{children:"Eventos"}),(0,lh.jsx)("p",{children:"Descubre y participa en eventos de tu comunidad"})]}),(0,lh.jsxs)("div",{className:"events-center",children:[(0,lh.jsxs)("div",{className:"search-with-button",children:[(0,lh.jsxs)("div",{className:"search-input-wrapper",children:[(0,lh.jsx)(kb,{className:"search-icon"}),(0,lh.jsx)("input",{type:"text",placeholder:"Buscar eventos...",value:x,onChange:e=>w(e.target.value)})]}),(0,lh.jsxs)("button",{className:"create-event-btn",onClick:"social"===m?async()=>{const e=await ic("Crear Evento Social","Nombre del evento","text");if(e.isConfirmed&&e.value){const n={title:e.value,date:(new Date).toISOString(),location:"Por definir",description:"Nuevo evento",category:"General",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400&h=250&fit=crop&sig=".concat(Date.now())},r=i(n);ec("\xa1Evento creado exitosamente!"),t("/evento/".concat(r.slug))}}:()=>_(!0),children:[(0,lh.jsx)(e_,{}),"Crear Evento"]})]}),(0,lh.jsxs)("div",{className:"events-tabs",children:[(0,lh.jsx)("button",{className:"tab-btn ".concat("social"===m?"active":""),onClick:()=>f("social"),children:"Sociales"}),(0,lh.jsx)("button",{className:"tab-btn ".concat("community"===m?"active":""),onClick:()=>f("community"),children:"Comunitarios"})]}),"social"===m&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("div",{className:"category-buttons",children:["Todos","M\xfasica","Tecnolog\xeda","Comida","Arte","Deportes"].map(e=>(0,lh.jsx)("button",{className:"category-btn ".concat(y===e?"active":""),onClick:()=>b(e),children:e},e))}),(0,lh.jsx)("div",{className:"events-grid",children:0===E.length?(0,lh.jsx)("div",{className:"no-events",children:(0,lh.jsx)("p",{children:"No hay eventos en esta categor\xeda"})}):E.map(e=>{const n=new Date(e.date),r=n.toLocaleDateString("es",{day:"numeric",month:"long",year:"numeric"}),s=n.toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"});return(0,lh.jsxs)("div",{className:"event-card",onClick:()=>{return n=e.slug,void t("/evento/".concat(n));var n},children:[(0,lh.jsxs)("div",{className:"event-image",children:[(0,lh.jsx)("img",{src:e.image,alt:e.title}),(0,lh.jsx)("span",{className:"event-category",children:e.category}),e.rsvp&&(0,lh.jsx)("span",{className:"event-status ".concat(e.rsvp),children:"going"===e.rsvp?"Asistir\xe9":"Me interesa"})]}),(0,lh.jsxs)("div",{className:"event-content",children:[(0,lh.jsx)("h3",{children:e.title}),(0,lh.jsxs)("div",{className:"event-details",children:[(0,lh.jsxs)("div",{className:"event-detail",children:[(0,lh.jsx)(Rb,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[r," a las ",s]})]}),(0,lh.jsxs)("div",{className:"event-detail",children:[(0,lh.jsx)(hb,{fontSize:"small"}),(0,lh.jsx)("span",{children:e.location})]}),(0,lh.jsxs)("div",{className:"event-detail",children:[(0,lh.jsx)(ub,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.attendees||0," asistir\xe1n"]})]})]}),(0,lh.jsxs)("div",{className:"event-actions",children:[(0,lh.jsx)("button",{className:"interested-btn",onClick:t=>{t.stopPropagation(),k(e.id,"interested")},children:"Me Interesa"}),(0,lh.jsx)("button",{className:"going-btn",onClick:t=>{t.stopPropagation(),k(e.id,"going")},children:"Asistir\xe9"})]})]})]},e.id)})})]}),"community"===m&&(0,lh.jsxs)("div",{className:"community-events-section",children:[(0,lh.jsx)("div",{className:"community-header",children:(0,lh.jsxs)("button",{className:"create-event-btn",onClick:()=>_(!0),children:[(0,lh.jsx)(e_,{})," Crear Evento Comunitario"]})}),(0,lh.jsxs)("div",{className:"calendar-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(Rb,{style:{fontSize:"28px",color:"#3b82f6"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(o.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Eventos Totales"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(Fb,{style:{fontSize:"28px",color:"#10b981"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(P.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Pr\xf3ximos Eventos"})]})]})]}),(0,lh.jsx)("div",{className:"community-events-grid",children:0===P.length?(0,lh.jsxs)("div",{className:"empty-state",children:[(0,lh.jsx)(Rb,{style:{fontSize:60,opacity:.3}}),(0,lh.jsx)("h3",{children:"No hay eventos comunitarios pr\xf3ximos"}),(0,lh.jsx)("p",{children:"S\xe9 el primero en crear un evento para tu barrio"})]}):P.map(e=>{const t=C.find(t=>t.value===e.type),r=e.attendees.some(e=>e.id===(null===n||void 0===n?void 0:n.id)),s=e.maxAttendees&&e.attendees.length>=e.maxAttendees;return(0,lh.jsxs)("div",{className:"community-event-card",children:[(0,lh.jsxs)("div",{className:"event-type-badge",style:{background:null===t||void 0===t?void 0:t.color},children:[null===t||void 0===t?void 0:t.icon," ",null===t||void 0===t?void 0:t.label]}),(0,lh.jsx)("h3",{children:e.title}),(0,lh.jsx)("p",{children:e.description}),(0,lh.jsxs)("div",{className:"event-details",children:[(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(Rb,{fontSize:"small"}),(0,lh.jsx)("span",{children:new Date(e.date).toLocaleDateString("es-CL")})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(jj,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(hb,{fontSize:"small"}),(0,lh.jsx)("span",{children:e.location})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(ub,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.attendees.length," asistentes"]}),e.maxAttendees&&(0,lh.jsxs)("span",{children:[" / ",e.maxAttendees]})]})]}),(0,lh.jsx)("button",{className:"attend-btn ".concat(r?"attending":""),onClick:()=>{return t=e.id,c(t),u("EVENT_ATTENDED"),void h("eventsAttended");var t},disabled:s&&!r,children:r?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(cx,{fontSize:"small"})," Asistir\xe9"]}):s?"Evento Lleno":"Confirmar Asistencia"})]},e.id)})})]})]}),j&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>_(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear Evento Comunitario"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>_(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tipo de Evento"}),(0,lh.jsx)("select",{value:N.type,onChange:e=>S(z(z({},N),{},{type:e.target.value})),children:C.map(e=>(0,lh.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo"}),(0,lh.jsx)("input",{type:"text",value:N.title,onChange:e=>S(z(z({},N),{},{title:e.target.value})),placeholder:"Nombre del evento"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:N.description,onChange:e=>S(z(z({},N),{},{description:e.target.value})),rows:"3",placeholder:"Describe el evento..."})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha"}),(0,lh.jsx)("input",{type:"date",value:N.date,onChange:e=>S(z(z({},N),{},{date:e.target.value})),min:(new Date).toISOString().split("T")[0]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Hora Inicio"}),(0,lh.jsx)("input",{type:"time",value:N.startTime,onChange:e=>S(z(z({},N),{},{startTime:e.target.value}))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Hora Fin"}),(0,lh.jsx)("input",{type:"time",value:N.endTime,onChange:e=>S(z(z({},N),{},{endTime:e.target.value}))})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Ubicaci\xf3n"}),(0,lh.jsx)("input",{type:"text",value:N.location,onChange:e=>S(z(z({},N),{},{location:e.target.value})),placeholder:"Lugar del evento"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"L\xedmite de Asistentes (Opcional)"}),(0,lh.jsx)("input",{type:"number",value:N.maxAttendees||"",onChange:e=>S(z(z({},N),{},{maxAttendees:parseInt(e.target.value)||null})),placeholder:"Sin l\xedmite",min:"1"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>_(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!N.title||!N.date)return;l(N).success&&(u("EVENT_CREATED"),h("eventsOrganized"),_(!1),S({title:"",description:"",type:"vecinal",date:"",startTime:"",endTime:"",location:"",maxAttendees:null}))},children:"Crear Evento"})]})]})})]})},o_=ab((0,lh.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),l_=ab((0,lh.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"})),c_=()=>{const t=ou(),[n,r]=(0,e.useState)(""),[s,a]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1);return(0,lh.jsx)("div",{className:"forgot-password-page",children:(0,lh.jsxs)("div",{className:"forgot-password-container",children:[(0,lh.jsxs)("div",{className:"forgot-left",children:[(0,lh.jsxs)("div",{className:"forgot-welcome",children:[(0,lh.jsx)("div",{className:"forgot-illustration",children:(0,lh.jsx)(l_,{})}),(0,lh.jsx)("h1",{children:"Recupera tu Acceso"}),(0,lh.jsx)("p",{children:"Te ayudamos a restablecer tu contrase\xf1a de forma segura."})]}),(0,lh.jsxs)("div",{className:"security-features",children:[(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsx)("div",{className:"security-icon",children:(0,lh.jsx)(xx,{})}),(0,lh.jsx)("span",{children:"Proceso 100% seguro"})]}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsx)("div",{className:"security-icon",children:(0,lh.jsx)(uj,{})}),(0,lh.jsx)("span",{children:"Enlace temporal por email"})]}),(0,lh.jsxs)("div",{className:"security-item",children:[(0,lh.jsx)("div",{className:"security-icon",children:(0,lh.jsx)(cx,{})}),(0,lh.jsx)("span",{children:"Verificaci\xf3n instant\xe1nea"})]})]})]}),(0,lh.jsxs)("div",{className:"forgot-right",children:[(0,lh.jsxs)("button",{className:"back-btn",onClick:()=>t("/iniciar-sesion"),children:[(0,lh.jsx)(o_,{}),"Volver al inicio de sesi\xf3n"]}),(0,lh.jsx)("div",{className:"forgot-content",children:s?(0,lh.jsxs)("div",{className:"success-content",children:[(0,lh.jsx)("div",{className:"success-icon",children:(0,lh.jsx)(cx,{})}),(0,lh.jsx)("h2",{children:"\xa1Revisa tu correo!"}),(0,lh.jsxs)("p",{className:"success-description",children:["Hemos enviado un enlace de restablecimiento a ",(0,lh.jsx)("strong",{children:n})]}),(0,lh.jsxs)("div",{className:"success-info",children:[(0,lh.jsx)("p",{children:"\u2022 El enlace expira en 15 minutos"}),(0,lh.jsx)("p",{children:"\u2022 Revisa tambi\xe9n tu carpeta de spam"}),(0,lh.jsx)("p",{children:"\u2022 Si no lo recibes, puedes reenviar el enlace"})]}),(0,lh.jsxs)("div",{className:"success-actions",children:[(0,lh.jsx)("button",{className:"resend-btn",onClick:()=>a(!1),children:"Reenviar enlace"}),(0,lh.jsx)("button",{className:"login-btn",onClick:()=>t("/iniciar-sesion"),children:"Volver al inicio de sesi\xf3n"})]})]}):(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"forgot-header",children:[(0,lh.jsx)("h2",{children:"\xbfOlvidaste tu contrase\xf1a?"}),(0,lh.jsx)("p",{className:"forgot-subtitle",children:"Ingresa tu correo electr\xf3nico y te enviaremos un enlace para crear una nueva contrase\xf1a."})]}),(0,lh.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),setTimeout(()=>{a(!0),o(!1),ec("\xa1Enlace de restablecimiento enviado a tu correo!")},1500)},className:"forgot-form",children:[(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"email",value:n,onChange:e=>r(e.target.value),placeholder:"Correo electr\xf3nico",required:!0,disabled:i,className:"input-field"}),(0,lh.jsx)(uj,{className:"input-icon"})]}),(0,lh.jsxs)("button",{type:"submit",className:"reset-btn",disabled:i,children:[i&&(0,lh.jsx)("div",{className:"loading-spinner"}),i?"Enviando...":"Enviar enlace de restablecimiento"]})]})]})})]})]})})},d_=ab((0,lh.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),u_=ab((0,lh.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"})),h_=ab((0,lh.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),p_=()=>{const t=ou(),n=au(),{login:r,isAuthenticated:s}=lp(),[a,i]=(0,e.useState)({email:"",password:"",rememberMe:!1}),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(!1);(0,e.useEffect)(()=>{s&&"/iniciar-sesion"===n.pathname&&t("/app")},[s,t,n.pathname]);const p=e=>{const{name:t,value:n,type:r,checked:s}=e.target;i(z(z({},a),{},{[t]:"checkbox"===r?s:n}))},m=e=>{nc("Inicio de sesi\xf3n con ".concat(e," pr\xf3ximamente!"))};return(0,e.useEffect)(()=>{const e=localStorage.getItem("rememberedEmail");e&&i(t=>z(z({},t),{},{email:e,rememberMe:!0}))},[]),(0,lh.jsx)("div",{className:"login-page",children:(0,lh.jsxs)("div",{className:"login-container",children:[(0,lh.jsxs)("div",{className:"login-welcome",children:[(0,lh.jsx)("div",{className:"welcome-logo",children:(0,lh.jsx)(ub,{})}),(0,lh.jsx)("h1",{className:"welcome-title",children:"\xa1Bienvenido a Vecino Activo!"}),(0,lh.jsx)("p",{className:"welcome-subtitle",children:"Conecta con tu comunidad, participa en actividades locales y construye relaciones duraderas con tus vecinos."}),(0,lh.jsxs)("div",{className:"welcome-features",children:[(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-icon",children:(0,lh.jsx)(u_,{style:{fontSize:32,color:"white"}})}),(0,lh.jsx)("span",{children:"Conecta con vecinos cercanos"})]}),(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-icon",children:(0,lh.jsx)(cx,{style:{fontSize:32,color:"white"}})}),(0,lh.jsx)("span",{children:"Participa en eventos locales"})]}),(0,lh.jsxs)("div",{className:"feature-item",children:[(0,lh.jsx)("div",{className:"feature-icon",children:(0,lh.jsx)(xx,{style:{fontSize:32,color:"white"}})}),(0,lh.jsx)("span",{children:"Comunidad segura y verificada"})]})]})]}),(0,lh.jsxs)("div",{className:"login-form-section",children:[(0,lh.jsxs)("div",{className:"form-header",children:[(0,lh.jsx)("h2",{className:"form-title",children:"Iniciar Sesi\xf3n"}),(0,lh.jsx)("p",{className:"form-subtitle",children:"Accede a tu cuenta para continuar"})]}),(0,lh.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),h(!0),!a.email||!a.password)return tc("Por favor completa todos los campos"),void h(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))return tc("Por favor ingresa un email v\xe1lido"),void h(!1);try{const e=r(a.email,a.password);e.success?(a.rememberMe?localStorage.setItem("rememberedEmail",a.email):localStorage.removeItem("rememberedEmail"),ec("\xa1Bienvenido de vuelta!"),t("/app")):(tc(e.error||"Credenciales inv\xe1lidas"),d(e.error||"Credenciales inv\xe1lidas"))}catch(n){tc("Error al iniciar sesi\xf3n. Por favor intenta de nuevo."),d("Error al iniciar sesi\xf3n")}finally{h(!1)}},className:"login-form",children:[c&&(0,lh.jsxs)("div",{className:"error-message",children:[(0,lh.jsx)(h_,{className:"error-icon"}),(0,lh.jsx)("span",{children:c})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"email",name:"email",placeholder:"Correo electr\xf3nico",value:a.email,onChange:p,required:!0,disabled:u,className:"input-field"}),(0,lh.jsx)(uj,{className:"input-icon"})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:o?"text":"password",name:"password",placeholder:"Contrase\xf1a",value:a.password,onChange:p,required:!0,disabled:u,className:"input-field"}),(0,lh.jsx)(Ew,{className:"input-icon"}),(0,lh.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>l(!o),disabled:u,children:o?(0,lh.jsx)(lw,{}):(0,lh.jsx)(ow,{})})]}),(0,lh.jsxs)("div",{className:"form-options",children:[(0,lh.jsxs)("label",{className:"checkbox-group",children:[(0,lh.jsx)("input",{type:"checkbox",name:"rememberMe",checked:a.rememberMe,onChange:p,disabled:u}),(0,lh.jsx)("span",{children:"Recu\xe9rdame"})]}),(0,lh.jsx)("a",{href:"/recuperar-contrasena",className:"forgot-link",children:"\xbfOlvidaste tu contrase\xf1a?"})]}),(0,lh.jsxs)("button",{type:"submit",className:"login-button",disabled:u,children:[u&&(0,lh.jsx)("div",{className:"loading-spinner"}),u?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"]}),(0,lh.jsx)("div",{className:"divider",children:(0,lh.jsx)("span",{children:"O contin\xfaa con"})}),(0,lh.jsxs)("div",{className:"social-login",children:[(0,lh.jsx)("button",{type:"button",className:"social-button google",onClick:()=>m("Google"),disabled:u,children:(0,lh.jsx)(d_,{})}),(0,lh.jsx)("button",{type:"button",className:"social-button facebook",onClick:()=>m("Facebook"),disabled:u,children:(0,lh.jsx)(Xw,{})}),(0,lh.jsx)("button",{type:"button",className:"social-button twitter",onClick:()=>m("Twitter"),disabled:u,children:(0,lh.jsx)(Ij,{})})]}),(0,lh.jsxs)("div",{className:"register-link",children:["\xbfNo tienes una cuenta? ",(0,lh.jsx)("a",{href:"/registrarse",children:"Registrarse"})]})]})]})]})})},m_=ab((0,lh.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"})),f_=t=>{let{onSelect:n,selectedNeighborhood:r}=t;const{neighborhoods:s,loading:a}=xh(),[i,o]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(i.length>0){const e=s.filter(e=>{var t,n,r;return(null===(t=e.nombre)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.codigo)||void 0===n?void 0:n.toString().includes(i))||(null===(r=e.comuna)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()))}).slice(0,10);c(e),p(!0)}else c([]),p(!1)},[i,s]);const m=(e,t)=>{let n=null,r=1/0;return s.forEach(s=>{if(s.geometry&&s.geometry.coordinates){const a="Polygon"===s.geometry.type?s.geometry.coordinates[0]:s.geometry.coordinates[0][0],i=f(a),o=g(e,t,i[1],i[0]);o<r&&(r=o,n=s)}}),r<5?n:null},f=e=>{let t=0,n=0;return e.forEach(e=>{let[r,s]=e;t+=r,n+=s}),[t/e.length,n/e.length]},g=(e,t,n,r)=>{const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=t,a=r;if(null===t&&null===r&&e.geometry&&e.geometry.coordinates){const t="Polygon"===e.geometry.type?e.geometry.coordinates[0]:e.geometry.coordinates[0][0],n=f(t);a=n[0],s=n[1]}n({neighborhoodId:e.id,neighborhoodName:e.nombre,neighborhoodCode:e.codigo,latitude:s,longitude:a}),o(e.nombre),p(!1)};return(0,lh.jsxs)("div",{className:"neighborhood-selector",children:[(0,lh.jsx)("label",{children:"Unidad Vecinal"}),(0,lh.jsxs)("div",{className:"selector-input-group",children:[(0,lh.jsxs)("div",{className:"selector-input-wrapper",children:[(0,lh.jsx)(kb,{className:"selector-icon"}),(0,lh.jsx)("input",{type:"text",placeholder:"Busca tu unidad vecinal...",value:i,onChange:e=>o(e.target.value),onFocus:()=>i&&p(!0)})]}),(0,lh.jsxs)("button",{type:"button",className:"detect-location-btn",onClick:()=>{navigator.geolocation?(u(!0),navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:n}=e.coords,r=m(t,n);r?v(r,t,n):alert("No se encontr\xf3 una unidad vecinal cercana"),u(!1)},e=>{console.error("Error detecting location:",e),alert("No se pudo detectar tu ubicaci\xf3n. Por favor selecciona manualmente."),u(!1)})):alert("Tu navegador no soporta geolocalizaci\xf3n")},disabled:d,title:"Detectar mi ubicaci\xf3n",children:[(0,lh.jsx)(m_,{}),d?"Detectando...":""]})]}),h&&l.length>0&&(0,lh.jsx)("div",{className:"neighborhood-dropdown",children:l.map(e=>(0,lh.jsxs)("div",{className:"neighborhood-option",onClick:()=>v(e),children:[(0,lh.jsx)(hb,{className:"option-icon"}),(0,lh.jsxs)("div",{className:"option-content",children:[(0,lh.jsxs)("div",{className:"option-name",children:["UV ",e.codigo," - ",e.nombre]}),(0,lh.jsxs)("div",{className:"option-location",children:[e.comuna,", ",e.region]})]})]},e.id))}),r&&r.neighborhoodName&&(0,lh.jsxs)("div",{className:"selected-neighborhood",children:[(0,lh.jsx)(hb,{}),(0,lh.jsxs)("span",{children:["UV ",r.neighborhoodCode," - ",r.neighborhoodName]})]}),(0,lh.jsx)("p",{className:"selector-help",children:"\ud83d\udca1 Selecciona tu unidad vecinal para conectar con tus vecinos"})]})},g_="email_verifications";const v_=new class{generateVerificationCode(){return Math.floor(1e5+9e5*Math.random()).toString()}sendVerificationCode(e){const t=this.generateVerificationCode(),n={email:e,code:t,createdAt:Date.now(),expiresAt:Date.now()+9e5,attempts:0,verified:!1},r=JSON.parse(localStorage.getItem(g_)||"{}");return r[e]=n,localStorage.setItem(g_,JSON.stringify(r)),console.log("[EMAIL SERVICE] Verification code for ".concat(e,": ").concat(t)),{success:!0,message:"C\xf3digo de verificaci\xf3n enviado a ".concat(e),code:t}}verifyCode(e,t){const n=JSON.parse(localStorage.getItem(g_)||"{}"),r=n[e];return r?Date.now()>r.expiresAt?(delete n[e],localStorage.setItem(g_,JSON.stringify(n)),{success:!1,error:"El c\xf3digo de verificaci\xf3n ha expirado. Por favor solicita uno nuevo."}):r.code!==t?(r.attempts+=1,localStorage.setItem(g_,JSON.stringify(n)),r.attempts>=5?(delete n[e],localStorage.setItem(g_,JSON.stringify(n)),{success:!1,error:"Demasiados intentos fallidos. Por favor solicita un nuevo c\xf3digo."}):{success:!1,error:"C\xf3digo incorrecto. Intentos restantes: ".concat(5-r.attempts)}):(r.verified=!0,localStorage.setItem(g_,JSON.stringify(n)),{success:!0,message:"Email verificado exitosamente"}):{success:!1,error:"No se encontr\xf3 solicitud de verificaci\xf3n para este email"}}isEmailVerified(e){const t=JSON.parse(localStorage.getItem(g_)||"{}")[e];return t&&!0===t.verified}clearVerification(e){const t=JSON.parse(localStorage.getItem(g_)||"{}");delete t[e],localStorage.setItem(g_,JSON.stringify(t))}getRemainingTime(e){const t=JSON.parse(localStorage.getItem(g_)||"{}")[e];if(!t)return 0;const n=t.expiresAt-Date.now();return n>0?Math.ceil(n/1e3):0}resendVerificationCode(e){const t=JSON.parse(localStorage.getItem(g_)||"{}");if(t[e]){if(Date.now()-t[e].createdAt<3e4)return{success:!1,error:"Por favor espera antes de solicitar un nuevo c\xf3digo"}}return this.sendVerificationCode(e)}},y_=ab((0,lh.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),b_=t=>{let{email:n,onVerificationComplete:r,onCancel:s}=t;const[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(0),[p,m]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=setInterval(()=>{const e=v_.getRemainingTime(n);h(e),m(0===e)},1e3);return()=>clearInterval(e)},[n]);const v=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return c?(0,lh.jsxs)("div",{className:"email-verification-modal",children:[(0,lh.jsx)("div",{className:"verification-overlay",onClick:s}),(0,lh.jsxs)("div",{className:"verification-card verified",children:[(0,lh.jsx)("div",{className:"verification-icon success",children:(0,lh.jsx)(cx,{})}),(0,lh.jsx)("h2",{children:"\xa1Email Verificado!"}),(0,lh.jsx)("p",{children:"Tu email ha sido verificado exitosamente."}),(0,lh.jsx)("p",{className:"verified-email",children:n})]})]}):(0,lh.jsxs)("div",{className:"email-verification-modal",children:[(0,lh.jsx)("div",{className:"verification-overlay",onClick:s}),(0,lh.jsxs)("div",{className:"verification-card",children:[(0,lh.jsx)("button",{className:"close-btn",onClick:s,children:"\xd7"}),(0,lh.jsxs)("div",{className:"verification-header",children:[(0,lh.jsx)("div",{className:"verification-icon",children:(0,lh.jsx)(y_,{})}),(0,lh.jsx)("h2",{children:"Verificar Email"}),(0,lh.jsx)("p",{children:"Hemos enviado un c\xf3digo de verificaci\xf3n a:"}),(0,lh.jsx)("p",{className:"email-display",children:n})]}),(0,lh.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(!0),!a||6!==a.length)return tc("Por favor ingresa un c\xf3digo de 6 d\xedgitos"),void l(!1);const t=v_.verifyCode(n,a);t.success?(ec(t.message),d(!0),setTimeout(()=>{r()},1500)):tc(t.error),l(!1)},className:"verification-form",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"C\xf3digo de Verificaci\xf3n"}),(0,lh.jsx)("input",{type:"text",placeholder:"000000",value:a,onChange:e=>i(e.target.value.replace(/\D/g,"").slice(0,6)),maxLength:"6",disabled:o,className:"code-input"}),(0,lh.jsx)("p",{className:"code-help",children:"Ingresa el c\xf3digo de 6 d\xedgitos que recibiste"})]}),u>0&&(0,lh.jsx)("div",{className:"timer-info",children:(0,lh.jsxs)("p",{children:["El c\xf3digo expira en: ",(0,lh.jsx)("strong",{children:v(u)})]})}),(0,lh.jsx)("button",{type:"submit",className:"btn-verify",disabled:o||6!==a.length,children:o?"Verificando...":"Verificar Email"})]}),(0,lh.jsxs)("div",{className:"resend-section",children:[(0,lh.jsx)("p",{children:"\xbfNo recibiste el c\xf3digo?"}),(0,lh.jsx)("button",{type:"button",className:"btn-resend",onClick:async()=>{g(!0);const e=v_.resendVerificationCode(n);e.success?(ec(e.message),i(""),h(v_.getRemainingTime(n))):tc(e.error),g(!1)},disabled:!p||f,children:f?"Reenviando...":"Reenviar C\xf3digo"}),!p&&u>0&&(0,lh.jsxs)("p",{className:"resend-timer",children:["Puedes reenviar en ",v(u)]})]}),(0,lh.jsx)("div",{className:"verification-info",children:(0,lh.jsx)("p",{children:"\ud83d\udca1 Revisa tu carpeta de spam si no ves el email"})})]})]})},x_=ab((0,lh.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),w_=()=>{const t=ou(),n=au(),{register:r,verifyUserEmail:s,isAuthenticated:a}=lp();(0,e.useEffect)(()=>{a&&"/registrarse"===n.pathname&&t("/app")},[a,t,n.pathname]);const[i,o]=(0,e.useState)({name:"",username:"",email:"",password:"",confirmPassword:""}),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(""),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(""),j=e=>{const{name:t,value:n}=e.target;if("username"===t){const e=n.toLowerCase().replace(/[^a-z0-9]/g,"");if(o(z(z({},i),{},{[t]:e})),e.length>=3){const t=JSON.parse(localStorage.getItem("users")||"[]").some(t=>t.username===e);c(!t)}else c(null)}else o(z(z({},i),{},{[t]:n}))},_=e=>{nc("Registro con ".concat(e," pr\xf3ximamente!"))};return(0,lh.jsxs)("div",{className:"register-page",children:[y&&(0,lh.jsx)(b_,{email:x,onVerificationComplete:()=>{s&&s(x),b(!1),ec("\xa1Bienvenido a Vecino Activo!"),t("/app/onboarding")},onCancel:()=>b(!1)}),(0,lh.jsxs)("div",{className:"register-container",children:[(0,lh.jsxs)("div",{className:"register-left",children:[(0,lh.jsxs)("div",{className:"register-welcome",children:[(0,lh.jsx)("h1",{children:"\xa1\xdanete a Vecino Activo!"}),(0,lh.jsx)("p",{children:"Crea tu cuenta y conecta con tu comunidad local."})]}),(0,lh.jsxs)("div",{className:"register-benefits",children:[(0,lh.jsxs)("div",{className:"benefit-item",children:[(0,lh.jsx)("div",{className:"benefit-icon",children:(0,lh.jsx)(wb,{})}),(0,lh.jsx)("span",{children:"Conecta con vecinos cercanos"})]}),(0,lh.jsxs)("div",{className:"benefit-item",children:[(0,lh.jsx)("div",{className:"benefit-icon",children:(0,lh.jsx)(ib,{})}),(0,lh.jsx)("span",{children:"Descubre eventos locales"})]}),(0,lh.jsxs)("div",{className:"benefit-item",children:[(0,lh.jsx)("div",{className:"benefit-icon",children:(0,lh.jsx)(x_,{})}),(0,lh.jsx)("span",{children:"Comunidad segura y verificada"})]})]})]}),(0,lh.jsxs)("div",{className:"register-right",children:[(0,lh.jsxs)("div",{className:"register-header",children:[(0,lh.jsx)("h2",{children:"Crear Cuenta"}),(0,lh.jsx)("p",{className:"register-subtitle",children:"Informaci\xf3n b\xe1sica para comenzar"})]}),m&&(0,lh.jsx)("div",{className:"error-message",children:(0,lh.jsx)("span",{children:m})}),(0,lh.jsx)("div",{className:"step-content",children:(0,lh.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f(""),v(!0),!i.name||!i.username||!i.email||!i.password||!i.confirmPassword)return f("Por favor completa todos los campos"),void v(!1);if(i.username.length<3)return f("El nombre de usuario debe tener al menos 3 caracteres"),void v(!1);if(!1===l)return f("Este nombre de usuario ya est\xe1 en uso"),void v(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email))return f("Por favor ingresa un email v\xe1lido"),void v(!1);if(i.password.length<6)return f("La contrase\xf1a debe tener al menos 6 caracteres"),void v(!1);if(i.password!==i.confirmPassword)return f("Las contrase\xf1as no coinciden"),void v(!1);try{const e={name:i.name,username:i.username,email:i.email,password:i.password,profileComplete:!1,needsOnboarding:!0},t=await r(e);if(t.success){v_.sendVerificationCode(i.email).success?(w(i.email),b(!0),ec("Cuenta creada. Por favor verifica tu email.")):tc("Error al enviar c\xf3digo de verificaci\xf3n")}else f(t.error||"Error al crear la cuenta"),tc(t.error||"Error al crear la cuenta")}catch(t){console.error("Error en registro:",t),f(t.message||"Registro fallido. Por favor intenta de nuevo."),tc(t.message||"Registro fallido. Por favor intenta de nuevo.")}finally{v(!1)}},className:"register-form",children:[(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"text",name:"name",placeholder:"Nombre completo",value:i.name,onChange:j,required:!0,className:"input-field"}),(0,lh.jsx)(wb,{className:"input-icon"})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"text",name:"username",placeholder:"Nombre de usuario",value:i.username,onChange:j,required:!0,maxLength:"30",className:"input-field"}),(0,lh.jsx)(wb,{className:"input-icon"}),i.username&&(0,lh.jsxs)("div",{className:"username-preview",children:["vecinoactivo.cl/",(0,lh.jsx)("strong",{children:i.username})]}),!0===l&&i.username.length>=3&&(0,lh.jsx)("div",{className:"username-status available",children:"\u2713 Nombre de usuario disponible"}),!1===l&&(0,lh.jsx)("div",{className:"username-status unavailable",children:"\u2717 Este nombre de usuario ya est\xe1 en uso"}),i.username&&i.username.length<3&&(0,lh.jsx)("div",{className:"username-status info",children:"M\xednimo 3 caracteres (solo letras y n\xfameros)"})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"email",name:"email",placeholder:"Correo electr\xf3nico",value:i.email,onChange:j,required:!0,className:"input-field"}),(0,lh.jsx)(uj,{className:"input-icon"})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:d?"text":"password",name:"password",placeholder:"Contrase\xf1a",value:i.password,onChange:j,required:!0,className:"input-field"}),(0,lh.jsx)(Ew,{className:"input-icon"}),(0,lh.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>u(!d),children:d?(0,lh.jsx)(lw,{}):(0,lh.jsx)(ow,{})})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:h?"text":"password",name:"confirmPassword",placeholder:"Confirmar contrase\xf1a",value:i.confirmPassword,onChange:j,required:!0,className:"input-field"}),(0,lh.jsx)(Ew,{className:"input-icon"}),(0,lh.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>p(!h),children:h?(0,lh.jsx)(lw,{}):(0,lh.jsx)(ow,{})})]}),(0,lh.jsxs)("button",{type:"submit",className:"btn-register",disabled:g,children:[g&&(0,lh.jsx)("div",{className:"loading-spinner"}),g?"Creando cuenta...":"Crear Cuenta"]}),(0,lh.jsx)("div",{className:"divider",children:(0,lh.jsx)("span",{children:"O reg\xedstrate con"})}),(0,lh.jsxs)("div",{className:"social-register",children:[(0,lh.jsx)("button",{type:"button",className:"social-button google",onClick:()=>_("Google"),children:(0,lh.jsx)(d_,{})}),(0,lh.jsx)("button",{type:"button",className:"social-button facebook",onClick:()=>_("Facebook"),children:(0,lh.jsx)(Xw,{})}),(0,lh.jsx)("button",{type:"button",className:"social-button twitter",onClick:()=>_("Twitter"),children:(0,lh.jsx)(Ij,{})})]}),(0,lh.jsxs)("div",{className:"login-link",children:["\xbfYa tienes una cuenta? ",(0,lh.jsx)("a",{href:"/iniciar-sesion",children:"Iniciar sesi\xf3n"})]})]})})]})]})]})},j_=()=>{const t=ou(),{register:n}=lp(),[r,s]=(0,e.useState)({name:"",username:"",email:"",password:""}),[a,i]=(0,e.useState)(!1),[o,l]=(0,e.useState)(""),c=e=>{s(z(z({},r),{},{[e.target.name]:e.target.value}))};return(0,lh.jsx)("div",{className:"register-page",children:(0,lh.jsx)("div",{className:"register-container",children:(0,lh.jsxs)("div",{className:"register-right",children:[(0,lh.jsx)("h2",{children:"Registro Simple"}),o&&(0,lh.jsx)("div",{style:{color:"red",padding:"10px",marginBottom:"10px",border:"1px solid red"},children:o}),(0,lh.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),i(!0);try{console.log("Intentando registrar:",r);const e=await n(r);console.log("Resultado registro:",e),e.success?(alert("\xa1Registro exitoso! Redirigiendo..."),t("/iniciar-sesion")):l(e.error||"Error al registrar")}catch(s){console.error("Error en registro:",s),l(s.message||"Error al registrar")}finally{i(!1)}},children:[(0,lh.jsx)("div",{style:{marginBottom:"15px"},children:(0,lh.jsx)("input",{type:"text",name:"name",placeholder:"Nombre completo",value:r.name,onChange:c,required:!0,style:{width:"100%",padding:"10px"}})}),(0,lh.jsx)("div",{style:{marginBottom:"15px"},children:(0,lh.jsx)("input",{type:"text",name:"username",placeholder:"Nombre de usuario",value:r.username,onChange:c,required:!0,style:{width:"100%",padding:"10px"}})}),(0,lh.jsx)("div",{style:{marginBottom:"15px"},children:(0,lh.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:c,required:!0,style:{width:"100%",padding:"10px"}})}),(0,lh.jsx)("div",{style:{marginBottom:"15px"},children:(0,lh.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",value:r.password,onChange:c,required:!0,style:{width:"100%",padding:"10px"}})}),(0,lh.jsx)("button",{type:"submit",disabled:a,style:{width:"100%",padding:"12px",fontSize:"16px"},children:a?"Registrando...":"Registrarse"})]}),(0,lh.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,lh.jsx)("a",{href:"/iniciar-sesion",children:"\xbfYa tienes cuenta? Inicia sesi\xf3n"})})]})})})};const __=["center","children"],N_=Ux(function(e,t){let{center:n,children:r}=e,s=T(e,__);const a=new Cx.Circle(n,s);return Ox(a,wx(t,{overlayContainer:a}))},function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)});let S_=kx().icon({iconUrl:cw,shadowUrl:dw,iconSize:[25,41],iconAnchor:[12,41]});kx().Marker.prototype.options.icon=S_;const C_=t=>{let{setMapInstance:n}=t;const r=Sx();return(0,e.useEffect)(()=>{n(r)},[r,n]),null},k_=()=>{var t;const{user:n}=lp(),{isRightSidebarCollapsed:r}=vh(),[s,a]=(0,e.useState)(null),[i,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!0),[d,u]=(0,e.useState)(""),[h,p]=(0,e.useState)([]),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null),[,y]=(0,e.useState)(null),[b,x]=(0,e.useState)("uv"),[w,j]=(0,e.useState)(!1),[_,N]=(0,e.useState)(null),S=[-38.7359,-71.4394];(0,e.useEffect)(()=>{C()},[]),(0,e.useEffect)(()=>{g&&setTimeout(()=>{g.invalidateSize()},300)},[r,g]);const C=async()=>{o(!0);try{if(!await Yx.checkHealth())return console.warn("Backend not available, map will show only security reports"),void o(!1);const t=await Yx.getAllNeighborhoods();var e;if(t)a(t),console.log("Cargados ".concat((null===(e=t.features)||void 0===e?void 0:e.length)||0," vecindarios de Chile"))}catch(t){console.error("Error loading neighborhoods:",t)}finally{o(!1)}},k=async()=>{if(console.log("\ud83d\udd0d handleAddressSearch called"),console.log("\ud83d\udccd searchTerm:",d),console.log("\ud83d\uddfa\ufe0f neighborhoodsData:",s?"loaded":"not loaded"),console.log("\ud83d\udd04 searchMode:",b),!d||d.length<5)return console.log("\u274c Direcci\xf3n muy corta"),void sc("Direcci\xf3n Incompleta","Por favor ingresa una direcci\xf3n v\xe1lida (ej: Av. Libertador Bernardo O'Higgins 1234, Santiago)");if(!s)return console.log("\u23f3 Esperando datos del mapa"),void nc("Esperando que se carguen los datos del mapa...");console.log("\u2705 Iniciando b\xfasqueda de direcci\xf3n..."),j(!0),f(!1),N(null);try{console.log("\ud83d\udce1 Llamando a geocodingService.findUVByAddress...");const t=await aw(d,s);if(console.log("\ud83d\udce6 Resultado recibido:",t),t.error){if(console.log("\u26a0\ufe0f Error en resultado:",t.error),t.coordinates){var e;const[n,r]=t.coordinates;N({position:[n,r],address:(null===(e=t.results[0])||void 0===e?void 0:e.displayName)||d,error:t.error}),null===g||void 0===g||g.setView([n,r],16)}sc("Direcci\xf3n No Encontrada",t.error)}else if(t.success&&t.primaryMatch){console.log("\u2705 Direcci\xf3n encontrada exitosamente");const e=t.primaryMatch;N({position:e.coordinates,address:e.address.displayName,uv:e.uv}),P(e.uv),setTimeout(()=>{rc("\xa1Direcci\xf3n Encontrada!","Unidad Vecinal: UV ".concat(e.uv.codigo,"\nNombre: ").concat(e.uv.nombre,"\nComuna: ").concat(e.uv.comuna))},500)}}catch(t){console.error("\ud83d\udca5 Error searching address:",t),sc("Error de B\xfasqueda","Error al buscar la direcci\xf3n. Por favor intenta nuevamente.")}finally{console.log("\ud83c\udfc1 B\xfasqueda finalizada"),j(!1)}},E=e=>{x(e),u(""),p([]),f(!1),N(null)},P=e=>{if(!g)return;y(e),u("UV ".concat(e.codigo," - ").concat(e.nombre)),f(!1);const t="Polygon"===e.geometry.type?e.geometry.coordinates[0]:e.geometry.coordinates[0][0];let n=0,r=0;t.forEach(e=>{let[t,s]=e;n+=s,r+=t});const s=n/t.length,a=r/t.length;g.setView([s,a],15),setTimeout(()=>{const t=g._layers;Object.values(t).forEach(t=>{t.feature&&t.feature.properties.t_id_uv_ca===e.id&&t.openPopup()})},500)};return(0,lh.jsxs)("div",{className:"neighborhood-map-page ".concat(r?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"map-header",children:[(0,lh.jsx)("h1",{children:"Mapa de Chile"}),(0,lh.jsx)("p",{children:"Unidades vecinales de todo Chile"})]}),(0,lh.jsxs)("div",{className:"map-search-container",children:[(0,lh.jsxs)("div",{className:"search-mode-selector",children:[(0,lh.jsxs)("button",{className:"mode-btn ".concat("uv"===b?"active":""),onClick:()=>E("uv"),children:[(0,lh.jsx)(vx,{fontSize:"small"})," Buscar UV"]}),(0,lh.jsxs)("button",{className:"mode-btn ".concat("address"===b?"active":""),onClick:()=>E("address"),children:[(0,lh.jsx)(hb,{fontSize:"small"})," Buscar por Direcci\xf3n"]}),(0,lh.jsxs)("button",{className:"mode-btn toggle-neighborhoods-btn ".concat(l?"active":""),onClick:()=>c(!l),title:"Mostrar/Ocultar Unidades Vecinales",children:[l?(0,lh.jsx)(ow,{fontSize:"small"}):(0,lh.jsx)(lw,{fontSize:"small"})," ",l?"Ocultar":"Mostrar"," Vecindarios"]})]}),(0,lh.jsxs)("div",{className:"map-search-wrapper",children:[(0,lh.jsx)("input",{type:"text",className:"map-search-input",placeholder:"uv"===b?"Buscar por regi\xf3n, comuna, nombre o c\xf3digo de UV...":"Ingresa tu direcci\xf3n (ej: Av. Libertador 1234, Santiago)...",value:d,onChange:e=>(e=>{if(u(e),e.length<2)return p([]),void f(!1);if(!s)return;if("address"===b)return;const t=e.toLowerCase(),n=s.features.filter(e=>{const n=e.properties,r=(n.t_uv_nom||"").toLowerCase(),s=(n.uv_carto||"").toString(),a=(n.t_com_nom||"").toLowerCase(),i=(n.t_reg_nom||"").toLowerCase();return r.includes(t)||s.includes(t)||a.includes(t)||i.includes(t)}).slice(0,10).map(e=>({id:e.properties.t_id_uv_ca,codigo:e.properties.uv_carto,nombre:e.properties.t_uv_nom,comuna:e.properties.t_com_nom,region:e.properties.t_reg_nom,geometry:e.geometry,feature:e}));p(n),f(n.length>0)})(e.target.value),onFocus:()=>"uv"===b&&h.length>0&&f(!0),onKeyPress:e=>{"Enter"===e.key&&"address"===b&&k()}}),d&&(0,lh.jsx)("button",{className:"map-search-clear",onClick:()=>{u(""),p([]),f(!1),y(null),N(null)},children:(0,lh.jsx)(fb,{fontSize:"small"})}),"address"===b?(0,lh.jsx)("button",{className:"map-search-btn",onClick:()=>{console.log("\ud83d\uddb1\ufe0f Click en bot\xf3n de b\xfasqueda"),k()},disabled:w,children:w?(0,lh.jsx)(iw,{fontSize:"small"}):(0,lh.jsx)(kb,{fontSize:"small"})}):(0,lh.jsx)("span",{className:"map-search-icon",children:(0,lh.jsx)(kb,{fontSize:"small"})})]}),m&&h.length>0&&(0,lh.jsx)("div",{className:"map-search-results",children:h.map(e=>(0,lh.jsxs)("div",{className:"map-search-result-item",onClick:()=>P(e),children:[(0,lh.jsxs)("div",{className:"search-result-main",children:[(0,lh.jsxs)("span",{className:"search-result-code",children:["UV ",e.codigo]}),(0,lh.jsx)("span",{className:"search-result-name",children:e.nombre})]}),(0,lh.jsxs)("div",{className:"search-result-location",children:["\ud83d\udccd ",e.comuna,", ",e.region]})]},e.id))})]}),(0,lh.jsxs)("div",{className:"map-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("span",{className:"stat-number",children:((null===s||void 0===s||null===(t=s.features)||void 0===t?void 0:t.length)||0).toLocaleString("es-CL")}),(0,lh.jsx)("span",{className:"stat-label",children:"Unidades Vecinales"}),(0,lh.jsx)("span",{className:"stat-note",children:"Agosto 2025"})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("span",{className:"stat-number",children:s?s.features.filter(e=>e.properties.PERSONAS).reduce((e,t)=>e+(parseInt(t.properties.PERSONAS)||0),0).toLocaleString("es-CL"):0}),(0,lh.jsx)("span",{className:"stat-label",children:"Habitantes"}),(0,lh.jsx)("span",{className:"stat-note",children:"Censo 2017"})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("span",{className:"stat-number",children:s?s.features.filter(e=>e.properties.HOGARES).reduce((e,t)=>e+(parseInt(t.properties.HOGARES)||0),0).toLocaleString("es-CL"):0}),(0,lh.jsx)("span",{className:"stat-label",children:"Hogares"}),(0,lh.jsx)("span",{className:"stat-note",children:"Censo 2017"})]})]}),(0,lh.jsxs)("div",{className:"map-container",children:[i&&(0,lh.jsxs)("div",{className:"map-loading",children:[(0,lh.jsx)("div",{className:"loading-spinner"}),(0,lh.jsx)("p",{children:"Cargando 6.891 unidades vecinales..."}),(0,lh.jsx)("p",{className:"loading-tip",children:"\ud83d\udca1 Usa el buscador para encontrar UVs r\xe1pidamente"})]}),(0,lh.jsxs)(Ax,{center:S,zoom:5,style:{height:"100%",width:"100%"},children:[(0,lh.jsx)(Fx,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,lh.jsx)(C_,{setMapInstance:v}),l&&s&&(0,lh.jsx)(Gx,{data:s,style:{fillColor:"#f97316",fillOpacity:.1,color:"#f97316",weight:1.5},onEachFeature:(e,t)=>{if(!e.properties)return;const n=e.properties;let r=n.t_uv_nom||"Unidad Vecinal";const s=n.uv_carto||"";s&&r.startsWith(s)&&(r=r.substring(s.length).replace(/^[-\s]+/,"").trim());const a=n.t_com_nom||"",i=n.t_reg_nom||"";s&&t.bindTooltip("UV ".concat(s," - ").concat(r),{permanent:!1,direction:"top",className:"uv-label",opacity:.9}),t.on("mouseover",function(){this.setStyle({fillOpacity:.3,weight:2.5})}),t.on("mouseout",function(){this.setStyle({fillOpacity:.1,weight:1.5})}),t.on("click",function(){const e=n.PERSONAS?parseInt(n.PERSONAS).toLocaleString("es-CL"):"",t=n.HOGARES?parseInt(n.HOGARES).toLocaleString("es-CL"):"",o=n.HOMBRE?parseInt(n.HOMBRE).toLocaleString("es-CL"):"",l=n.MUJER?parseInt(n.MUJER).toLocaleString("es-CL"):"",c=n.AREA_VERDE?parseFloat(n.AREA_VERDE).toLocaleString("es-CL",{maximumFractionDigits:0}):"",d=n.T_EDUCACIO||0,u=n.TOTAL_SALU||0,h=n.DEPORTE||0,p='\n                    <div class="neighborhood-popup">\n                      <h4>'.concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>'," UV ").concat(s," - ").concat(r,'</h4>\n                      <p class="popup-location">').concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>'," ").concat(a,", ").concat(i,"</p>\n                      \n                      ").concat(e&&parseInt(e.replace(/\./g,""))>0?'\n                      <div class="popup-compact">\n                        <p><strong>'.concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>'," ").concat(e,"</strong> personas</p>\n                        ").concat(o&&l?"<p>".concat(o," hombres \u2022 ").concat(l," mujeres</p>"):"","\n                        <p>").concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"/></svg>'," ").concat(t,' hogares</p>\n                        <p class="popup-census">').concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>'," Censo 2017</p>\n                      </div>\n                      "):'\n                      <div class="popup-info">\n                        <p class="popup-note">'.concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>'," Datos demogr\xe1ficos no disponibles</p>\n                      </div>\n                      "),"\n                      \n                      ").concat(c&&parseFloat(c.replace(/\./g,""))>0?'<p class="popup-green">'.concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66.95-2.3c.48.17.98.3 1.34.3C19 20 22 3 22 3c-1 2-8 2.25-13 3.25S2 11.5 2 13.5s1.75 3.75 1.75 3.75C7 8 17 8 17 8z"/></svg>'," ").concat(c," m\xb2 \xe1reas verdes</p>"):"","\n                      \n                      ").concat(d>0||u>0||h>0?'\n                      <div class="popup-services">\n                        '.concat(d>0?"<span>".concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/></svg>'," ").concat(d,"</span>"):"","\n                        ").concat(u>0?"<span>".concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/></svg>'," ").concat(u,"</span>"):"","\n                        ").concat(h>0?"<span>".concat('<svg class="popup-icon" viewBox="0 0 24 24"><path d="M11.23 6c-1.66 0-3.22.66-4.36 1.73C6.54 6.73 5.61 6 4.5 6 2.57 6 1 7.57 1 9.5S2.57 13 4.5 13c.71 0 1.37-.23 1.91-.62.9 1.18 2.26 2.12 3.82 2.12 2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>'," ").concat(h,"</span>"):"","\n                      </div>\n                      "):"","\n                    </div>\n                  ");this.bindPopup(p,{maxWidth:280,className:"compact-popup"}).openPopup()})}}),_&&(0,lh.jsx)(Jx,{position:_.position,children:(0,lh.jsx)(Kx,{children:(0,lh.jsxs)("div",{className:"address-popup",children:[(0,lh.jsxs)("h4",{children:[(0,lh.jsx)(hb,{fontSize:"small"})," Direcci\xf3n Encontrada"]}),(0,lh.jsx)("p",{className:"address-text",children:_.address}),_.uv?(0,lh.jsxs)("div",{className:"uv-info",children:[(0,lh.jsx)("p",{children:(0,lh.jsx)("strong",{children:"Unidad Vecinal:"})}),(0,lh.jsxs)("p",{children:["UV ",_.uv.codigo," - ",_.uv.nombre]}),(0,lh.jsxs)("p",{children:[(0,lh.jsx)(hb,{fontSize:"small"})," ",_.uv.comuna,", ",_.uv.region]})]}):(0,lh.jsxs)("p",{className:"no-uv-warning",children:["\u26a0\ufe0f ",_.error]})]})})}),n&&(0,lh.jsx)(N_,{center:S,radius:500,pathOptions:{color:"#f97316",fillColor:"#f97316",fillOpacity:.1}})]})]})]})},E_=(ab([(0,lh.jsx)("path",{d:"m19.28 4.93-2.12-2.12c-.78-.78-2.05-.78-2.83 0L11.5 5.64l2.12 2.12 2.12-2.12 3.54 3.54c1.17-1.18 1.17-3.08 0-4.25M5.49 13.77c.59.59 1.54.59 2.12 0l2.47-2.47-2.12-2.13-2.47 2.47c-.59.59-.59 1.54 0 2.13"},"0"),(0,lh.jsx)("path",{d:"m15.04 7.76-.71.71-.71.71L10.44 6c-.59-.6-1.54-.6-2.12-.01-.59.59-.59 1.54 0 2.12l3.18 3.18-.71.71-6.36 6.36c-.78.78-.78 2.05 0 2.83s2.05.78 2.83 0L16.45 12c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41z"},"1")]),ab([(0,lh.jsx)("path",{d:"M21 14c0-.55-.45-1-1-1h-2v2h2c.55 0 1-.45 1-1m-1 3h-2v2h2c.55 0 1-.45 1-1s-.45-1-1-1m-8-3h-2v4h2c0 1.1.9 2 2 2h3v-8h-3c-1.1 0-2 .9-2 2"},"0"),(0,lh.jsx)("path",{d:"M5 13c0-1.1.9-2 2-2h1.5c1.93 0 3.5-1.57 3.5-3.5S10.43 4 8.5 4H5c-.55 0-1 .45-1 1s.45 1 1 1h3.5c.83 0 1.5.67 1.5 1.5S9.33 9 8.5 9H7c-2.21 0-4 1.79-4 4s1.79 4 4 4h2v-2H7c-1.1 0-2-.9-2-2"},"1")]),ab((0,lh.jsx)("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"})),ab((0,lh.jsx)("path",{d:"M19.73 14.23 7 1.5 3.11 5.39l8.13 11.67c-.78.78-.78 2.05 0 2.83l1.41 1.41c.78.78 2.05.78 2.83 0l4.24-4.24c.79-.78.79-2.05.01-2.83m-5.66 5.65-1.41-1.41 4.24-4.24 1.41 1.41z"})),ab((0,lh.jsx)("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4z"})),ab([(0,lh.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 8.22c0-.86.7-1.56 1.56-1.56.33 0 .64.1.89.28l-.01-.12c0-.86.7-1.56 1.56-1.56s1.56.7 1.56 1.56l-.01.12c.26-.18.56-.28.89-.28.86 0 1.56.7 1.56 1.56 0 .62-.37 1.16-.89 1.4.52.25.89.79.89 1.41 0 .86-.7 1.56-1.56 1.56-.33 0-.64-.11-.89-.28l.01.12c0 .86-.7 1.56-1.56 1.56s-1.56-.7-1.56-1.56l.01-.12c-.26.18-.56.28-.89.28-.86 0-1.56-.7-1.56-1.56 0-.62.37-1.16.89-1.4C8.37 9.38 8 8.84 8 8.22M12 19c-3.31 0-6-2.69-6-6 3.31 0 6 2.69 6 6 0-3.31 2.69-6 6-6 0 3.31-2.69 6-6 6"},"0"),(0,lh.jsx)("circle",{cx:"12",cy:"9.62",r:"1.56"},"1")]),ab((0,lh.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),ab((0,lh.jsx)("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5m3 10h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3z"}))),P_=(ab([(0,lh.jsx)("path",{d:"m21.67 18.17-5.3-5.3h-.99l-2.54 2.54v.99l5.3 5.3c.39.39 1.02.39 1.41 0l2.12-2.12c.39-.38.39-1.02 0-1.41"},"0"),(0,lh.jsx)("path",{d:"m17.34 10.19 1.41-1.41 2.12 2.12c1.17-1.17 1.17-3.07 0-4.24l-3.54-3.54-1.41 1.41V1.71l-.7-.71-3.54 3.54.71.71h2.83l-1.41 1.41 1.06 1.06-2.89 2.89-4.13-4.13V5.06L4.83 2.04 2 4.87 5.03 7.9h1.41l4.13 4.13-.85.85H7.6l-5.3 5.3c-.39.39-.39 1.02 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l5.3-5.3v-2.12l5.15-5.15z"},"1")]),ab((0,lh.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),ab((0,lh.jsx)("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m11 15H4v-2h16zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20z"})),ab([(0,lh.jsx)("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),(0,lh.jsx)("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")]),ab((0,lh.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}))),I_=(ab((0,lh.jsx)("path",{d:"M17 10.43V2H7v8.43c0 .35.18.68.49.86l4.18 2.51-.99 2.34-3.41.29 2.59 2.24L9.07 22 12 20.23 14.93 22l-.78-3.33 2.59-2.24-3.41-.29-.99-2.34 4.18-2.51c.3-.18.48-.5.48-.86m-4 1.8-1 .6-1-.6V3h2z"})),ab((0,lh.jsx)("path",{d:"M17 12h2L12 2 5.05 12H7l-3.9 6h6.92v4h3.96v-4H21z"}))),A_=()=>{var t,n,r,s;const{id:a}=lu(),i=ou(),{getNeighborhoodById:o}=xh(),{posts:l}=bw(),{user:c}=lp(),[d,u]=(0,e.useState)(null),[h,p]=(0,e.useState)("posts");if((0,e.useEffect)(()=>{const e=o(a);u(e)},[a]),!d)return(0,lh.jsx)("div",{className:"loading",children:"Cargando..."});const m=l.filter(e=>e.neighborhoodId===d.id),f=(null===c||void 0===c?void 0:c.neighborhoodId)===d.id;return(0,lh.jsxs)("div",{className:"neighborhood-profile",children:[(0,lh.jsxs)("div",{className:"neighborhood-profile-header",children:[(0,lh.jsx)("button",{className:"back-btn",onClick:()=>i(-1),children:(0,lh.jsx)(o_,{})}),(0,lh.jsxs)("div",{className:"header-content",children:[(0,lh.jsxs)("div",{className:"uv-badge",children:["UV ",d.codigo]}),(0,lh.jsx)("h1",{children:d.nombre}),(0,lh.jsxs)("p",{className:"location",children:[(0,lh.jsx)(hb,{}),d.comuna,", ",d.region]}),f&&(0,lh.jsxs)("div",{className:"my-neighborhood-badge",children:[(0,lh.jsx)(Hw,{}),"Tu Vecindario"]})]})]}),(0,lh.jsxs)("div",{className:"profile-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)(ub,{className:"stat-icon"}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("div",{className:"stat-value",children:(null===(t=d.personas)||void 0===t?void 0:t.toLocaleString("es-CL"))||0}),(0,lh.jsx)("div",{className:"stat-label",children:"Habitantes"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)(ib,{className:"stat-icon"}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("div",{className:"stat-value",children:(null===(n=d.hogares)||void 0===n?void 0:n.toLocaleString("es-CL"))||0}),(0,lh.jsx)("div",{className:"stat-label",children:"Hogares"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)(I_,{className:"stat-icon"}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("div",{className:"stat-value",children:m.length}),(0,lh.jsx)("div",{className:"stat-label",children:"Publicaciones"})]})]})]}),(0,lh.jsxs)("div",{className:"profile-tabs",children:[(0,lh.jsx)("button",{className:"tab ".concat("posts"===h?"active":""),onClick:()=>p("posts"),children:"\ud83d\udcdd Publicaciones"}),(0,lh.jsx)("button",{className:"tab ".concat("info"===h?"active":""),onClick:()=>p("info"),children:"\u2139\ufe0f Informaci\xf3n"}),(0,lh.jsx)("button",{className:"tab ".concat("neighbors"===h?"active":""),onClick:()=>p("neighbors"),children:"\ud83d\udc65 Vecinos"})]}),(0,lh.jsxs)("div",{className:"profile-content",children:["posts"===h&&(0,lh.jsx)("div",{className:"posts-section",children:m.length>0?m.map(e=>(0,lh.jsx)(rj,{post:e},e.id)):(0,lh.jsx)("div",{className:"no-content",children:(0,lh.jsx)("p",{children:"No hay publicaciones en este vecindario a\xfan"})})}),"info"===h&&(0,lh.jsxs)("div",{className:"info-section",children:[(0,lh.jsxs)("div",{className:"info-card",children:[(0,lh.jsx)("h3",{children:"Informaci\xf3n Demogr\xe1fica"}),(0,lh.jsxs)("div",{className:"info-grid",children:[(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("span",{className:"info-label",children:"Poblaci\xf3n:"}),(0,lh.jsx)("span",{className:"info-value",children:(null===(r=d.personas)||void 0===r?void 0:r.toLocaleString("es-CL"))||"N/A"})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("span",{className:"info-label",children:"Hogares:"}),(0,lh.jsx)("span",{className:"info-value",children:(null===(s=d.hogares)||void 0===s?void 0:s.toLocaleString("es-CL"))||"N/A"})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("span",{className:"info-label",children:"Comuna:"}),(0,lh.jsx)("span",{className:"info-value",children:d.comuna})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("span",{className:"info-label",children:"Regi\xf3n:"}),(0,lh.jsx)("span",{className:"info-value",children:d.region})]})]})]}),(0,lh.jsxs)("div",{className:"info-card",children:[(0,lh.jsx)("h3",{children:"Contacto Junta de Vecinos"}),(0,lh.jsx)("p",{className:"coming-soon",children:"Informaci\xf3n pr\xf3ximamente disponible"})]})]}),"neighbors"===h&&(0,lh.jsx)("div",{className:"neighbors-section",children:(0,lh.jsxs)("div",{className:"coming-soon-card",children:[(0,lh.jsx)(ub,{style:{fontSize:60,opacity:.3}}),(0,lh.jsx)("h3",{children:"Vecinos del Barrio"}),(0,lh.jsx)("p",{children:"Esta funcionalidad estar\xe1 disponible pr\xf3ximamente"})]})})]})]})},T_=ab((0,lh.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"})),O_=ab((0,lh.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"})),R_=ab((0,lh.jsx)("path",{d:"m13.7826 15.1719 2.1213-2.1213 5.9963 5.9962-2.1213 2.1213zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49c-1.17-1.17-3.07-1.17-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21"})),L_=ab((0,lh.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"})),M_=ab((0,lh.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"})),z_=ab((0,lh.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),D_=ab((0,lh.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),B_=ab((0,lh.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4h16z"})),V_=ab((0,lh.jsx)("path",{d:"m21.58 16.09-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91M11 11H9v2H8v-2H6v-1h2V8h1v2h2zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),U_=ab((0,lh.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"})),q_=ab((0,lh.jsx)("path",{d:"M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5"})),F_=ab((0,lh.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),H_=t=>{let{hideHeader:n=!1,hideStats:r=!1}=t;const{user:s}=lp(),{isRightSidebarCollapsed:a}=vh(),{resources:i,reservations:o,addResource:l,reserveResource:c,approveReservation:d,completeReservation:u,cancelReservation:h,getMyResources:p,getMyReservations:m,getPendingRequests:f}=(()=>{const t=(0,e.useContext)(Np);if(!t)throw new Error("useSharedResources must be used within SharedResourcesProvider");return t})(),{addPoints:g,updateActivity:v}=kp(),y=ou(),[b,x]=(0,e.useState)("all"),[w,j]=(0,e.useState)("all"),[_,N]=(0,e.useState)(""),[S,C]=(0,e.useState)(!1),[k,E]=(0,e.useState)(!1),[P,I]=(0,e.useState)(!1),[A,T]=(0,e.useState)(null),[O,R]=(0,e.useState)(null),[L,M]=(0,e.useState)({name:"",description:"",category:"herramienta",subcategory:"",condition:"bueno",requiresDeposit:!1,depositAmount:0,maxLoanDays:7,rules:""}),[D,B]=(0,e.useState)({startDate:"",endDate:"",purpose:""}),[V,U]=(0,e.useState)({inGoodCondition:!0,rating:5}),q=[{value:"all",label:"Todos",icon:(0,lh.jsx)(cj,{})},{value:"herramienta",label:"Herramientas",icon:(0,lh.jsx)(n_,{})},{value:"equipo",label:"Equipos",icon:(0,lh.jsx)(B_,{})},{value:"libro",label:"Libros",icon:(0,lh.jsx)(r_,{})},{value:"juego",label:"Juegos",icon:(0,lh.jsx)(V_,{})},{value:"espacio",label:"Espacios",icon:(0,lh.jsx)(ib,{})},{value:"otro",label:"Otro",icon:(0,lh.jsx)(_b,{})}],F=[{value:"nuevo",label:"Nuevo",icon:(0,lh.jsx)(U_,{})},{value:"bueno",label:"Bueno",icon:(0,lh.jsx)(T_,{})},{value:"regular",label:"Regular",icon:(0,lh.jsx)(q_,{})},{value:"usado",label:"Usado",icon:(0,lh.jsx)(M_,{})}],H=(()=>{let e=[];if("my-resources"===b)e=p();else{if("my-reservations"===b)return m();if("pending"===b)return f();e=i.filter(e=>e.isAvailable)}return"all"!==w&&(e=e.filter(e=>e.category===w)),_&&(e=e.filter(e=>e.name.toLowerCase().includes(_.toLowerCase())||e.description.toLowerCase().includes(_.toLowerCase()))),e})();return(0,lh.jsxs)("div",{className:"shared-resources-page ".concat(a?"sidebar-collapsed":""),children:[!n&&(0,lh.jsxs)("div",{className:"resources-header",children:[(0,lh.jsxs)("div",{className:"resources-title",children:[(0,lh.jsxs)("h1",{children:[(0,lh.jsx)(z_,{className:"page-title-icon"})," Recursos Compartidos"]}),(0,lh.jsx)("p",{children:"Comparte y pide prestado entre vecinos - Econom\xeda colaborativa"})]}),(0,lh.jsxs)("button",{className:"add-resource-btn",onClick:()=>C(!0),children:[(0,lh.jsx)(e_,{})," Agregar Recurso"]})]}),(0,lh.jsx)("div",{className:"resources-stats",children:!r&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#dbeafe"},children:(0,lh.jsx)(B_,{style:{fontSize:"28px",color:"#3b82f6"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(i.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Recursos Disponibles"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#dcfce7"},children:(0,lh.jsx)(cx,{style:{fontSize:"28px",color:"#10b981"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(o.filter(e=>"completada"===e.status).length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Pr\xe9stamos Completados"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#fef3c7"},children:(0,lh.jsx)(M_,{style:{fontSize:"28px",color:"#f59e0b"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(o.filter(e=>"activa"===e.status).length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Pr\xe9stamos Activos"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",style:{background:"#fce7f3"},children:(0,lh.jsx)(iw,{style:{fontSize:"28px",color:"#ec4899"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(f().length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Solicitudes Pendientes"})]})]})]})}),(0,lh.jsxs)("div",{className:"resources-controls",children:[(0,lh.jsxs)("div",{className:"view-tabs",children:[(0,lh.jsx)("button",{className:"all"===b?"active":"",onClick:()=>x("all"),children:"Todos los Recursos"}),(0,lh.jsx)("button",{className:"my-resources"===b?"active":"",onClick:()=>x("my-resources"),children:"Mis Recursos"}),(0,lh.jsx)("button",{className:"my-reservations"===b?"active":"",onClick:()=>x("my-reservations"),children:"Mis Reservas"}),(0,lh.jsxs)("button",{className:"pending"===b?"active":"",onClick:()=>x("pending"),children:["Solicitudes Pendientes",f().length>0&&(0,lh.jsx)("span",{className:"badge",children:f().length})]})]}),(0,lh.jsx)("div",{className:"search-bar",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar recursos...",value:_,onChange:e=>N(e.target.value)})})]}),("all"===b||"my-resources"===b)&&(0,lh.jsx)("div",{className:"category-filters",children:q.map(e=>(0,lh.jsxs)("button",{className:"category-btn ".concat(w===e.value?"active":""),onClick:()=>j(e.value),children:[(0,lh.jsx)("span",{className:"cat-icon",children:e.icon}),e.label]},e.value))}),(0,lh.jsx)("div",{className:"resources-grid",children:"my-reservations"===b||"pending"===b?0===H.length?(0,lh.jsxs)("div",{className:"empty-state",children:[(0,lh.jsx)("div",{className:"empty-icon",children:(0,lh.jsx)(y_,{style:{fontSize:"64px",opacity:.3}})}),(0,lh.jsxs)("h3",{children:["No hay ","pending"===b?"solicitudes pendientes":"reservas"]}),(0,lh.jsx)("p",{children:"pending"===b?"Cuando alguien solicite tus recursos aparecer\xe1n aqu\xed":"A\xfan no has reservado ning\xfan recurso"})]}):H.map(e=>{const t=i.find(t=>t.id===e.resourceId),n=e.ownerId===(null===s||void 0===s?void 0:s.id);return(0,lh.jsxs)("div",{className:"reservation-card",children:[(0,lh.jsx)("div",{className:"reservation-header",children:(0,lh.jsxs)("div",{className:"reservation-status","data-status":e.status,children:["pendiente"===e.status&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(iw,{fontSize:"small"})," Pendiente"]}),"activa"===e.status&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(M_,{fontSize:"small"})," Activa"]}),"completada"===e.status&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(cx,{fontSize:"small"})," Completada"]}),"cancelada"===e.status&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(F_,{fontSize:"small"})," Cancelada"]})]})}),(0,lh.jsx)("h3",{className:"reservation-resource-name",children:e.resourceName}),(0,lh.jsxs)("div",{className:"reservation-dates",children:[(0,lh.jsx)(D_,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[new Date(e.startDate).toLocaleDateString("es-CL")," - "," ",new Date(e.endDate).toLocaleDateString("es-CL")]})]}),e.purpose&&(0,lh.jsxs)("p",{className:"reservation-purpose",children:[(0,lh.jsx)("strong",{children:"Prop\xf3sito:"})," ",e.purpose]}),(0,lh.jsx)("div",{className:"reservation-people",children:n?(0,lh.jsxs)("div",{className:"person-info",children:[(0,lh.jsx)("img",{src:e.borrowerAvatar,alt:e.borrowerName}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("span",{className:"person-name",children:e.borrowerName}),(0,lh.jsx)("span",{className:"person-role",children:"Solicitante"})]})]}):(0,lh.jsxs)("div",{className:"person-info",children:[(0,lh.jsx)("img",{src:e.ownerAvatar||(null===t||void 0===t?void 0:t.ownerAvatar),alt:e.ownerName}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("span",{className:"person-name",children:e.ownerName}),(0,lh.jsx)("span",{className:"person-role",children:"Due\xf1o"})]})]})}),(0,lh.jsxs)("div",{className:"reservation-actions",children:[n&&"pendiente"===e.status&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("button",{className:"approve-btn",onClick:()=>d(e.id),children:[(0,lh.jsx)(cx,{fontSize:"small"}),"Aprobar"]}),(0,lh.jsxs)("button",{className:"reject-btn",onClick:()=>h(e.id),children:[(0,lh.jsx)(fb,{fontSize:"small"}),"Rechazar"]})]}),n&&"activa"===e.status&&(0,lh.jsxs)("button",{className:"complete-btn",onClick:()=>(e=>{R(e),I(!0)})(e),children:[(0,lh.jsx)(cx,{fontSize:"small"}),"Marcar como Devuelto"]}),!n&&"pendiente"===e.status&&(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>h(e.id),children:"Cancelar Solicitud"})]})]},e.id)}):0===H.length?(0,lh.jsxs)("div",{className:"empty-state",children:[(0,lh.jsx)("div",{className:"empty-icon",children:"\ud83c\udf81"}),(0,lh.jsx)("h3",{children:"No hay recursos disponibles"}),(0,lh.jsx)("p",{children:"S\xe9 el primero en compartir algo con tu comunidad"})]}):H.map(e=>{const t=q.find(t=>t.value===e.category),n=F.find(t=>t.value===e.condition),r=e.ownerId===(null===s||void 0===s?void 0:s.id);return(0,lh.jsxs)("div",{className:"resource-card",onClick:()=>y("/recursos/".concat(e.slug)),style:{cursor:"pointer"},children:[(0,lh.jsxs)("div",{className:"resource-card-header",children:[(0,lh.jsxs)("div",{className:"resource-category",children:[null===t||void 0===t?void 0:t.icon," ",null===t||void 0===t?void 0:t.label]}),(0,lh.jsxs)("div",{className:"resource-condition",children:[null===n||void 0===n?void 0:n.icon," ",null===n||void 0===n?void 0:n.label]})]}),(0,lh.jsx)("h3",{className:"resource-name",children:e.name}),(0,lh.jsx)("p",{className:"resource-description",children:e.description}),(0,lh.jsxs)("div",{className:"resource-meta",children:[(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(D_,{fontSize:"small"}),(0,lh.jsxs)("span",{children:["M\xe1x. ",e.maxLoanDays," d\xedas"]})]}),e.requiresDeposit&&(0,lh.jsxs)("div",{className:"meta-item deposit",children:["\ud83d\udcb0 Dep\xf3sito: $",Fw(e.depositAmount)]}),e.totalLoans>0&&(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(cx,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.totalLoans," pr\xe9stamos"]})]})]}),e.rules&&(0,lh.jsxs)("div",{className:"resource-rules",children:[(0,lh.jsx)("strong",{children:"Reglas:"})," ",e.rules]}),(0,lh.jsxs)("div",{className:"resource-owner",children:[(0,lh.jsx)("img",{src:e.ownerAvatar,alt:e.ownerName}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("span",{className:"owner-name",children:e.ownerName}),(0,lh.jsx)("span",{className:"owner-neighborhood",children:e.neighborhoodName})]}),e.ownerPhone&&!r&&(0,lh.jsx)("a",{href:"tel:".concat(e.ownerPhone),className:"phone-link",children:(0,lh.jsx)(Cj,{fontSize:"small"})})]}),!r&&e.isAvailable&&(0,lh.jsxs)("button",{className:"reserve-btn",onClick:()=>(e=>{T(e),E(!0)})(e),children:[(0,lh.jsx)(D_,{fontSize:"small"}),"Solicitar Pr\xe9stamo"]}),r&&(0,lh.jsxs)("div",{className:"my-resource-badge",children:[(0,lh.jsx)(cx,{fontSize:"small"}),"Tu Recurso"]})]},e.id)})}),S&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>C(!1),children:(0,lh.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Agregar Recurso"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>C(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Nombre del Recurso"}),(0,lh.jsx)("input",{type:"text",value:L.name,onChange:e=>M(z(z({},L),{},{name:e.target.value})),placeholder:"Ej: Taladro el\xe9ctrico"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:L.description,onChange:e=>M(z(z({},L),{},{description:e.target.value})),placeholder:"Describe el recurso, marca, modelo, etc...",rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Categor\xeda"}),(0,lh.jsx)("select",{value:L.category,onChange:e=>M(z(z({},L),{},{category:e.target.value})),children:q.filter(e=>"all"!==e.value).map(e=>(0,lh.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Condici\xf3n"}),(0,lh.jsx)("select",{value:L.condition,onChange:e=>M(z(z({},L),{},{condition:e.target.value})),children:F.map(e=>(0,lh.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"M\xe1ximo de D\xedas de Pr\xe9stamo"}),(0,lh.jsx)("input",{type:"number",value:L.maxLoanDays,onChange:e=>M(z(z({},L),{},{maxLoanDays:parseInt(e.target.value)})),min:"1",max:"30"})]}),(0,lh.jsx)("div",{className:"form-group checkbox-group",children:(0,lh.jsxs)("label",{children:[(0,lh.jsx)("input",{type:"checkbox",checked:L.requiresDeposit,onChange:e=>M(z(z({},L),{},{requiresDeposit:e.target.checked}))}),"Requiere dep\xf3sito"]})}),L.requiresDeposit&&(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Monto del Dep\xf3sito"}),(0,lh.jsx)("input",{type:"number",value:L.depositAmount,onChange:e=>M(z(z({},L),{},{depositAmount:parseInt(e.target.value)})),placeholder:"0"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Reglas de Uso (Opcional)"}),(0,lh.jsx)("textarea",{value:L.rules,onChange:e=>M(z(z({},L),{},{rules:e.target.value})),placeholder:"Ej: Devolver limpio, no usar en exteriores, etc...",rows:"2"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>C(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!L.name||!L.description)return;const e=l(L);e.success&&(g("RESOURCE_SHARED"),v("resourcesShared"),C(!1),M({name:"",description:"",category:"herramienta",subcategory:"",condition:"bueno",requiresDeposit:!1,depositAmount:0,maxLoanDays:7,rules:""}),y("/recursos/".concat(e.resource.slug)))},children:"Agregar Recurso"})]})]})}),k&&A&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>E(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Solicitar Pr\xe9stamo"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>E(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"resource-summary",children:[(0,lh.jsx)("h3",{children:A.name}),(0,lh.jsx)("p",{children:A.description}),(0,lh.jsxs)("div",{className:"summary-meta",children:[(0,lh.jsxs)("span",{children:["M\xe1ximo: ",A.maxLoanDays," d\xedas"]}),A.requiresDeposit&&(0,lh.jsxs)("span",{className:"deposit-info",children:["\ud83d\udcb0 Dep\xf3sito: $",Fw(A.depositAmount)]})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha de Inicio"}),(0,lh.jsx)("input",{type:"date",value:D.startDate,onChange:e=>B(z(z({},D),{},{startDate:e.target.value})),min:(new Date).toISOString().split("T")[0]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha de Devoluci\xf3n"}),(0,lh.jsx)("input",{type:"date",value:D.endDate,onChange:e=>B(z(z({},D),{},{endDate:e.target.value})),min:D.startDate||(new Date).toISOString().split("T")[0]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Prop\xf3sito del Pr\xe9stamo"}),(0,lh.jsx)("textarea",{value:D.purpose,onChange:e=>B(z(z({},D),{},{purpose:e.target.value})),placeholder:"Explica para qu\xe9 necesitas el recurso...",rows:"3"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>E(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!D.startDate||!D.endDate||!A)return;c(A.id,D).success&&(E(!1),B({startDate:"",endDate:"",purpose:""}),T(null))},children:"Enviar Solicitud"})]})]})}),P&&O&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>I(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Completar Pr\xe9stamo"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>I(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"\xbfEl recurso fue devuelto en buenas condiciones?"}),(0,lh.jsxs)("div",{className:"condition-options",children:[(0,lh.jsxs)("button",{className:"condition-btn ".concat(V.inGoodCondition?"selected":""),onClick:()=>U(z(z({},V),{},{inGoodCondition:!0})),children:[(0,lh.jsx)(cx,{fontSize:"small"})," S\xed"]}),(0,lh.jsxs)("button",{className:"condition-btn ".concat(V.inGoodCondition?"":"selected"),onClick:()=>U(z(z({},V),{},{inGoodCondition:!1})),children:[(0,lh.jsx)(F_,{fontSize:"small"})," No"]})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Califica al vecino"}),(0,lh.jsx)("div",{className:"rating-selector",children:[1,2,3,4,5].map(e=>(0,lh.jsx)("button",{className:"star-btn ".concat(e<=V.rating?"active":""),onClick:()=>U(z(z({},V),{},{rating:e})),children:(0,lh.jsx)(P_,{})},e))})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>I(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{O&&(u(O.id,V),I(!1),U({inGoodCondition:!0,rating:5}),R(null))},children:"Completar Pr\xe9stamo"})]})]})})]})},W_=()=>{const{user:t}=lp(),{isRightSidebarCollapsed:n}=vh(),{projects:r,voteProject:s,joinAsVolunteer:a,createProject:i}=fp(),{addPoints:o,updateActivity:l}=kp(),c=ou(),[d,u]=(0,e.useState)("projects"),[h,p]=(0,e.useState)("all"),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)({title:"",description:"",category:"infraestructura",budget:0,fundingGoal:0}),y=[{value:"all",label:"Todos",icon:(0,lh.jsx)(cj,{})},{value:"infraestructura",label:"Infraestructura",icon:(0,lh.jsx)(R_,{})},{value:"limpieza",label:"Limpieza",icon:(0,lh.jsx)(E_,{})},{value:"social",label:"Social",icon:(0,lh.jsx)(Gw,{})},{value:"cultural",label:"Cultural",icon:(0,lh.jsx)(a_,{})},{value:"deportivo",label:"Deportivo",icon:(0,lh.jsx)(s_,{})}],b={propuesta:{label:"Propuesta",color:"#3b82f6"},votacion:{label:"En Votaci\xf3n",color:"#f59e0b"},aprobado:{label:"Aprobado",color:"#10b981"},en_progreso:{label:"En Progreso",color:"#8b5cf6"},completado:{label:"Completado",color:"#059669"},cancelado:{label:"Cancelado",color:"#ef4444"}},x="all"===h?r:r.filter(e=>e.category===h),w="resources"===d?{icon:(0,lh.jsx)(z_,{className:"page-title-icon"}),title:"Recursos Compartidos",subtitle:"Comparte y pide prestado entre vecinos - Econom\xeda colaborativa",buttonText:"Agregar Recurso"}:{icon:(0,lh.jsx)(Wb,{className:"page-title-icon"}),title:"Proyectos Vecinales",subtitle:"Organiza, vota y completa proyectos que mejoren tu comunidad",buttonText:"Crear Proyecto"};return(0,lh.jsxs)("div",{className:"projects-page ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"projects-header",children:[(0,lh.jsxs)("div",{className:"projects-title",children:[(0,lh.jsxs)("h1",{children:[w.icon," ",w.title]}),(0,lh.jsx)("p",{children:w.subtitle})]}),"projects"===d&&(0,lh.jsxs)("button",{className:"create-project-btn",onClick:()=>f(!0),children:[(0,lh.jsx)(e_,{})," ",w.buttonText]})]}),(0,lh.jsxs)("div",{className:"community-tabs",children:[(0,lh.jsxs)("button",{className:"tab-btn ".concat("projects"===d?"active":""),onClick:()=>u("projects"),children:[(0,lh.jsx)(Wb,{}),"Proyectos Comunitarios"]}),(0,lh.jsxs)("button",{className:"tab-btn ".concat("resources"===d?"active":""),onClick:()=>u("resources"),children:[(0,lh.jsx)(z_,{}),"Recursos Compartidos"]})]}),"projects"===d&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("div",{className:"projects-filters",children:y.map(e=>(0,lh.jsxs)("button",{className:"filter-btn ".concat(h===e.value?"active":""),onClick:()=>p(e.value),children:[(0,lh.jsx)("span",{className:"filter-icon",children:e.icon}),e.label]},e.value))}),(0,lh.jsxs)("div",{className:"projects-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(L_,{style:{fontSize:"28px",color:"#3b82f6"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(r.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Proyectos Totales"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(cx,{style:{fontSize:"28px",color:"#10b981"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(r.filter(e=>"completado"===e.status).length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Completados"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(M_,{style:{fontSize:"28px",color:"#8b5cf6"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(r.filter(e=>"en_progreso"===e.status).length)}),(0,lh.jsx)("span",{className:"stat-label",children:"En Progreso"})]})]})]}),(0,lh.jsx)("div",{className:"projects-grid",children:x.map(e=>{var n,r;return(0,lh.jsxs)("div",{className:"project-card",onClick:()=>c("/proyecto/".concat(e.slug)),style:{cursor:"pointer"},children:[(0,lh.jsxs)("div",{className:"project-header",children:[(0,lh.jsxs)("div",{className:"project-category",children:[null===(n=y.find(t=>t.value===e.category))||void 0===n?void 0:n.icon,null===(r=y.find(t=>t.value===e.category))||void 0===r?void 0:r.label]}),(0,lh.jsx)("div",{className:"project-status",style:{backgroundColor:b[e.status].color},children:b[e.status].label})]}),(0,lh.jsx)("h3",{className:"project-title",children:e.title}),(0,lh.jsx)("p",{className:"project-description",children:e.description}),(0,lh.jsxs)("div",{className:"project-meta",children:[(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(ub,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.volunteers.length," voluntarios"]})]}),(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(T_,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[Fw(e.votes)," votos"]})]}),e.budget>0&&(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(O_,{fontSize:"small"}),(0,lh.jsxs)("span",{children:["$",Fw(e.budget)]})]})]}),e.fundingGoal>0&&(0,lh.jsxs)("div",{className:"project-funding",children:[(0,lh.jsx)("div",{className:"funding-bar",children:(0,lh.jsx)("div",{className:"funding-progress",style:{width:"".concat(e.currentFunding/e.fundingGoal*100,"%")}})}),(0,lh.jsxs)("span",{className:"funding-text",children:["$",Fw(e.currentFunding)," / $",Fw(e.fundingGoal)]})]}),(0,lh.jsxs)("div",{className:"project-actions",children:[(0,lh.jsxs)("button",{className:"vote-btn ".concat(e.voters.includes(null===t||void 0===t?void 0:t.id)?"voted":""),onClick:()=>{return t=e.id,s(t),o("PROJECT_VOTE"),void l("votesGiven");var t},children:[(0,lh.jsx)(T_,{fontSize:"small"}),e.voters.includes(null===t||void 0===t?void 0:t.id)?"Votado":"Votar"]}),(0,lh.jsxs)("button",{className:"volunteer-btn ".concat(e.volunteers.some(e=>e.id===(null===t||void 0===t?void 0:t.id))?"joined":""),onClick:()=>{return t=e.id,a(t),void o("HELP_OFFERED");var t},children:[(0,lh.jsx)(lx,{fontSize:"small"}),e.volunteers.some(e=>e.id===(null===t||void 0===t?void 0:t.id))?"Inscrito":"Ser Voluntario"]})]}),(0,lh.jsxs)("div",{className:"project-footer",children:[(0,lh.jsx)("img",{src:e.creatorAvatar,alt:e.creatorName}),(0,lh.jsxs)("span",{children:["Por ",e.creatorName]}),(0,lh.jsx)("span",{className:"project-neighborhood",children:e.neighborhoodName})]})]},e.id)})}),m&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>f(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsx)("h2",{children:"Crear Nuevo Proyecto"}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo del Proyecto"}),(0,lh.jsx)("input",{type:"text",value:g.title,onChange:e=>v(z(z({},g),{},{title:e.target.value})),placeholder:"Ej: Arreglar Plaza Central"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:g.description,onChange:e=>v(z(z({},g),{},{description:e.target.value})),placeholder:"Describe el proyecto y sus objetivos...",rows:"4"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Categor\xeda"}),(0,lh.jsx)("select",{value:g.category,onChange:e=>v(z(z({},g),{},{category:e.target.value})),children:y.filter(e=>"all"!==e.value).map(e=>(0,lh.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Presupuesto Estimado"}),(0,lh.jsx)("input",{type:"number",value:g.budget,onChange:e=>v(z(z({},g),{},{budget:parseInt(e.target.value)})),placeholder:"0"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Meta de Financiamiento"}),(0,lh.jsx)("input",{type:"number",value:g.fundingGoal,onChange:e=>v(z(z({},g),{},{fundingGoal:parseInt(e.target.value)})),placeholder:"0"})]})]}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>f(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!g.title||!g.description)return;const e=i(g);e.success&&(o("PROJECT_CREATED"),l("projectsCreated"),f(!1),v({title:"",description:"",category:"infraestructura",budget:0,fundingGoal:0}),c("/proyecto/".concat(e.project.slug)))},children:"Crear Proyecto"})]})]})})]}),"resources"===d&&(0,lh.jsx)(H_,{hideHeader:!0,hideStats:!0})]})},G_=ab((0,lh.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})),Z_=ab((0,lh.jsx)("path",{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M10 4h4v2h-4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3z"})),J_=ab((0,lh.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"})),K_=()=>{const{user:t}=lp(),{isRightSidebarCollapsed:n}=vh(),{businesses:r,registerBusiness:s,addReview:a,createOffer:i,searchBusinesses:o}=(()=>{const t=(0,e.useContext)(jp);if(!t)throw new Error("useLocalBusiness must be used within LocalBusinessProvider");return t})(),{addPoints:l,updateActivity:c}=kp(),[d,u]=(0,e.useState)("all"),[h,p]=(0,e.useState)(""),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[j,_]=(0,e.useState)(null),[N,S]=(0,e.useState)({name:"",description:"",category:"comercio",subcategory:"",address:"",phone:"",email:"",website:"",whatsapp:"",instagram:"",facebook:"",priceRange:"medio",acceptsCards:!1,hasDelivery:!1}),[C,k]=(0,e.useState)({rating:5,comment:""}),[E,P]=(0,e.useState)({title:"",description:"",discount:"",validUntil:"",code:""}),I=[{value:"all",label:"Todos",icon:(0,lh.jsx)(cj,{})},{value:"comercio",label:"Comercio",icon:(0,lh.jsx)(Dw,{}),color:"#3b82f6"},{value:"servicio",label:"Servicio",icon:(0,lh.jsx)(n_,{}),color:"#10b981"},{value:"profesional",label:"Profesional",icon:(0,lh.jsx)(Z_,{}),color:"#8b5cf6"},{value:"emprendimiento",label:"Emprendimiento",icon:(0,lh.jsx)(J_,{}),color:"#f59e0b"}],A=(()=>{let e=r;return h&&(e=o(h)),"all"!==d&&(e=e.filter(e=>e.category===d)),e.sort((e,t)=>t.rating-e.rating)})(),T=e=>Array.from({length:5},(t,n)=>(0,lh.jsx)(P_,{fontSize:"small",style:{color:n<e?"#f59e0b":"#e4e6eb"}},n));return(0,lh.jsxs)("div",{className:"businesses-page ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"businesses-header",children:[(0,lh.jsxs)("div",{children:[(0,lh.jsxs)("h1",{children:[(0,lh.jsx)(fx,{className:"page-title-icon"})," Negocios Locales"]}),(0,lh.jsx)("p",{children:"Apoya la econom\xeda de tu barrio"})]}),(0,lh.jsxs)("button",{className:"register-business-btn",onClick:()=>f(!0),children:[(0,lh.jsx)(e_,{})," Registrar Negocio"]})]}),(0,lh.jsxs)("div",{className:"businesses-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(L_,{style:{fontSize:"28px",color:"#3b82f6"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(r.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Negocios Registrados"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(P_,{style:{fontSize:"28px",color:"#f59e0b"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:r.length>0?(r.reduce((e,t)=>e+t.rating,0)/r.length).toFixed(1):"0.0"}),(0,lh.jsx)("span",{className:"stat-label",children:"Calificaci\xf3n Promedio"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:(0,lh.jsx)(lb,{style:{fontSize:"28px",color:"#10b981"}})}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(r.reduce((e,t)=>e+t.totalReviews,0))}),(0,lh.jsx)("span",{className:"stat-label",children:"Rese\xf1as Totales"})]})]})]}),(0,lh.jsxs)("div",{className:"businesses-filters",children:[(0,lh.jsx)("div",{className:"search-bar",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar negocios...",value:h,onChange:e=>p(e.target.value)})}),(0,lh.jsx)("div",{className:"category-filters",children:I.map(e=>(0,lh.jsxs)("button",{className:"category-filter-btn ".concat(d===e.value?"active":""),onClick:()=>u(e.value),style:d===e.value&&e.color?{background:e.color+"20",borderColor:e.color,color:e.color}:{},children:[(0,lh.jsx)("span",{className:"category-icon",children:e.icon}),e.label]},e.value))})]}),(0,lh.jsx)("div",{className:"businesses-grid",children:0===A.length?(0,lh.jsxs)("div",{className:"empty-state",children:[(0,lh.jsx)("div",{className:"empty-icon",children:(0,lh.jsx)(fx,{style:{fontSize:"64px",opacity:.3}})}),(0,lh.jsx)("h3",{children:"No hay negocios registrados"}),(0,lh.jsx)("p",{children:"S\xe9 el primero en registrar tu negocio"})]}):A.map(e=>{const n=I.find(t=>t.value===e.category),r=e.ownerId===(null===t||void 0===t?void 0:t.id);return(0,lh.jsxs)("div",{className:"business-card",onClick:()=>(e=>{_(e),w(!0)})(e),children:[e.logo&&(0,lh.jsx)("div",{className:"business-logo",children:(0,lh.jsx)("img",{src:e.logo,alt:e.name})}),(0,lh.jsxs)("div",{className:"business-category-badge",style:{background:null===n||void 0===n?void 0:n.color},children:[null===n||void 0===n?void 0:n.icon," ",null===n||void 0===n?void 0:n.label]}),(0,lh.jsx)("h3",{className:"business-name",children:e.name}),(0,lh.jsxs)("div",{className:"business-rating",children:[T(Math.round(e.rating)),(0,lh.jsx)("span",{className:"rating-value",children:e.rating.toFixed(1)}),(0,lh.jsxs)("span",{className:"reviews-count",children:["(",e.totalReviews," rese\xf1as)"]})]}),(0,lh.jsx)("p",{className:"business-description",children:e.description}),(0,lh.jsxs)("div",{className:"business-info",children:[e.address&&(0,lh.jsx)("div",{className:"info-item",children:(0,lh.jsxs)("span",{children:["\ud83d\udccd ",e.address]})}),e.phone&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)(Cj,{fontSize:"small"}),(0,lh.jsx)("span",{children:e.phone})]})]}),(0,lh.jsxs)("div",{className:"business-features",children:[e.acceptsCards&&(0,lh.jsx)("span",{className:"feature-badge",children:"\ud83d\udcb3 Acepta Tarjetas"}),e.hasDelivery&&(0,lh.jsx)("span",{className:"feature-badge",children:"\ud83d\ude9a Delivery"}),(0,lh.jsx)("span",{className:"price-badge",children:"bajo"===e.priceRange?"$":"medio"===e.priceRange?"$$":"$$$"})]}),e.offers.length>0&&(0,lh.jsxs)("div",{className:"offers-indicator",children:[(0,lh.jsx)(Sw,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.offers.length," ",1===e.offers.length?"oferta":"ofertas"," disponibles"]})]}),(0,lh.jsxs)("div",{className:"business-actions",onClick:e=>e.stopPropagation(),children:[!r&&(0,lh.jsxs)("button",{className:"review-btn",onClick:()=>(e=>{_(e),v(!0)})(e),children:[(0,lh.jsx)(P_,{fontSize:"small"}),"Dejar Rese\xf1a"]}),r&&(0,lh.jsxs)("button",{className:"offer-btn",onClick:()=>(e=>{_(e),b(!0)})(e),children:[(0,lh.jsx)(Sw,{fontSize:"small"}),"Crear Oferta"]})]}),(0,lh.jsx)("div",{className:"business-footer",children:(0,lh.jsx)("span",{className:"neighborhood-badge",children:e.neighborhoodName})})]},e.id)})}),m&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>f(!1),children:(0,lh.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Registrar Negocio"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>f(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Categor\xeda"}),(0,lh.jsx)("select",{value:N.category,onChange:e=>S(z(z({},N),{},{category:e.target.value})),children:I.filter(e=>"all"!==e.value).map(e=>(0,lh.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Nombre del Negocio"}),(0,lh.jsx)("input",{type:"text",value:N.name,onChange:e=>S(z(z({},N),{},{name:e.target.value})),placeholder:"Ej: Almac\xe9n Don Pedro"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:N.description,onChange:e=>S(z(z({},N),{},{description:e.target.value})),placeholder:"Describe tu negocio...",rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Direcci\xf3n"}),(0,lh.jsx)("input",{type:"text",value:N.address,onChange:e=>S(z(z({},N),{},{address:e.target.value})),placeholder:"Calle y n\xfamero"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tel\xe9fono"}),(0,lh.jsx)("input",{type:"tel",value:N.phone,onChange:e=>S(z(z({},N),{},{phone:e.target.value})),placeholder:"+56 9 1234 5678"})]})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Email"}),(0,lh.jsx)("input",{type:"email",value:N.email,onChange:e=>S(z(z({},N),{},{email:e.target.value})),placeholder:"contacto@negocio.cl"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"WhatsApp"}),(0,lh.jsx)("input",{type:"tel",value:N.whatsapp,onChange:e=>S(z(z({},N),{},{whatsapp:e.target.value})),placeholder:"+56 9 1234 5678"})]})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Instagram"}),(0,lh.jsx)("input",{type:"text",value:N.instagram,onChange:e=>S(z(z({},N),{},{instagram:e.target.value})),placeholder:"@usuario"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Facebook"}),(0,lh.jsx)("input",{type:"text",value:N.facebook,onChange:e=>S(z(z({},N),{},{facebook:e.target.value})),placeholder:"facebook.com/pagina"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Rango de Precios"}),(0,lh.jsxs)("select",{value:N.priceRange,onChange:e=>S(z(z({},N),{},{priceRange:e.target.value})),children:[(0,lh.jsx)("option",{value:"bajo",children:"$ Econ\xf3mico"}),(0,lh.jsx)("option",{value:"medio",children:"$$ Moderado"}),(0,lh.jsx)("option",{value:"alto",children:"$$$ Premium"})]})]}),(0,lh.jsx)("div",{className:"form-group",children:(0,lh.jsxs)("label",{className:"checkbox-label",children:[(0,lh.jsx)("input",{type:"checkbox",checked:N.acceptsCards,onChange:e=>S(z(z({},N),{},{acceptsCards:e.target.checked}))}),"Acepta tarjetas de cr\xe9dito/d\xe9bito"]})}),(0,lh.jsx)("div",{className:"form-group",children:(0,lh.jsxs)("label",{className:"checkbox-label",children:[(0,lh.jsx)("input",{type:"checkbox",checked:N.hasDelivery,onChange:e=>S(z(z({},N),{},{hasDelivery:e.target.checked}))}),"Ofrece servicio de delivery"]})})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>f(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!N.name||!N.description)return;s(N).success&&(l("RESOURCE_SHARED"),c("resourcesShared"),f(!1),S({name:"",description:"",category:"comercio",subcategory:"",address:"",phone:"",email:"",website:"",whatsapp:"",instagram:"",facebook:"",priceRange:"medio",acceptsCards:!1,hasDelivery:!1}))},children:"Registrar Negocio"})]})]})}),g&&j&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Dejar Rese\xf1a"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>v(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"business-summary",children:[(0,lh.jsx)("h3",{children:j.name}),(0,lh.jsx)("p",{children:j.description})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Calificaci\xf3n"}),(0,lh.jsx)("div",{className:"rating-selector",children:[1,2,3,4,5].map(e=>(0,lh.jsx)("button",{className:"star-btn",onClick:()=>k(z(z({},C),{},{rating:e})),children:(0,lh.jsx)(P_,{fontSize:"large",style:{color:e<=C.rating?"#f59e0b":"#e4e6eb"}})},e))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tu Rese\xf1a"}),(0,lh.jsx)("textarea",{value:C.comment,onChange:e=>k(z(z({},C),{},{comment:e.target.value})),placeholder:"Comparte tu experiencia...",rows:"5"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>v(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{C.comment&&j&&(a(j.id,C),l("REVIEW_WRITTEN"),c("reviewsWritten"),v(!1),k({rating:5,comment:""}),_(null))},children:"Publicar Rese\xf1a"})]})]})}),y&&j&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>b(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear Oferta"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>b(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo de la Oferta"}),(0,lh.jsx)("input",{type:"text",value:E.title,onChange:e=>P(z(z({},E),{},{title:e.target.value})),placeholder:"Ej: 20% de descuento"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:E.description,onChange:e=>P(z(z({},E),{},{description:e.target.value})),placeholder:"Detalles de la oferta...",rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descuento"}),(0,lh.jsx)("input",{type:"text",value:E.discount,onChange:e=>P(z(z({},E),{},{discount:e.target.value})),placeholder:"20%"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"V\xe1lido Hasta"}),(0,lh.jsx)("input",{type:"date",value:E.validUntil,onChange:e=>P(z(z({},E),{},{validUntil:e.target.value}))})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"C\xf3digo (Opcional)"}),(0,lh.jsx)("input",{type:"text",value:E.code,onChange:e=>P(z(z({},E),{},{code:e.target.value})),placeholder:"VECINO20"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>b(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{E.title&&j&&(i(j.id,E),b(!1),P({title:"",description:"",discount:"",validUntil:"",code:""}),_(null))},children:"Crear Oferta"})]})]})}),x&&j&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>w(!1),children:(0,lh.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:j.name}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>w(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsx)("div",{className:"modal-body",children:(0,lh.jsxs)("div",{className:"business-full-details",children:[(0,lh.jsxs)("div",{className:"detail-rating",children:[T(Math.round(j.rating)),(0,lh.jsx)("span",{className:"rating-value",children:j.rating.toFixed(1)}),(0,lh.jsxs)("span",{className:"reviews-count",children:["(",j.totalReviews," rese\xf1as)"]})]}),(0,lh.jsx)("p",{className:"detail-description",children:j.description}),(0,lh.jsxs)("div",{className:"contact-info",children:[(0,lh.jsx)("h4",{children:"Informaci\xf3n de Contacto"}),(0,lh.jsxs)("div",{className:"contact-grid",children:[j.phone&&(0,lh.jsxs)("a",{href:"tel:".concat(j.phone),className:"contact-item",children:[(0,lh.jsx)(Cj,{}),(0,lh.jsx)("span",{children:j.phone})]}),j.email&&(0,lh.jsxs)("a",{href:"mailto:".concat(j.email),className:"contact-item",children:[(0,lh.jsx)(uj,{}),(0,lh.jsx)("span",{children:j.email})]}),j.whatsapp&&(0,lh.jsxs)("a",{href:"https://wa.me/".concat(j.whatsapp.replace(/\D/g,"")),className:"contact-item",target:"_blank",rel:"noopener noreferrer",children:[(0,lh.jsx)(Aj,{}),(0,lh.jsx)("span",{children:"WhatsApp"})]}),j.instagram&&(0,lh.jsxs)("a",{href:"https://instagram.com/".concat(j.instagram.replace("@","")),className:"contact-item",target:"_blank",rel:"noopener noreferrer",children:[(0,lh.jsx)(G_,{}),(0,lh.jsx)("span",{children:j.instagram})]}),j.facebook&&(0,lh.jsxs)("a",{href:j.facebook,className:"contact-item",target:"_blank",rel:"noopener noreferrer",children:[(0,lh.jsx)(Xw,{}),(0,lh.jsx)("span",{children:"Facebook"})]}),j.website&&(0,lh.jsxs)("a",{href:j.website,className:"contact-item",target:"_blank",rel:"noopener noreferrer",children:[(0,lh.jsx)(Pj,{}),(0,lh.jsx)("span",{children:"Sitio Web"})]})]})]}),j.offers.length>0&&(0,lh.jsxs)("div",{className:"offers-section",children:[(0,lh.jsx)("h4",{children:"Ofertas Disponibles"}),(0,lh.jsx)("div",{className:"offers-list",children:j.offers.map(e=>(0,lh.jsxs)("div",{className:"offer-card",children:[(0,lh.jsxs)("div",{className:"offer-header",children:[(0,lh.jsx)(Sw,{}),(0,lh.jsx)("h5",{children:e.title})]}),(0,lh.jsx)("p",{children:e.description}),(0,lh.jsxs)("div",{className:"offer-details",children:[(0,lh.jsx)("span",{className:"offer-discount",children:e.discount}),e.code&&(0,lh.jsxs)("span",{className:"offer-code",children:["C\xf3digo: ",e.code]}),(0,lh.jsxs)("span",{className:"offer-validity",children:["V\xe1lido hasta: ",new Date(e.validUntil).toLocaleDateString("es-CL")]})]})]},e.id))})]}),j.reviews.length>0&&(0,lh.jsxs)("div",{className:"reviews-section",children:[(0,lh.jsx)("h4",{children:"Rese\xf1as"}),(0,lh.jsx)("div",{className:"reviews-list",children:j.reviews.map(e=>(0,lh.jsxs)("div",{className:"review-item",children:[(0,lh.jsxs)("div",{className:"review-header",children:[(0,lh.jsx)("img",{src:e.userAvatar,alt:e.userName}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("span",{className:"review-author",children:e.userName}),(0,lh.jsx)("div",{className:"review-rating",children:T(e.rating)})]})]}),(0,lh.jsx)("p",{className:"review-comment",children:e.comment})]},e.id))})]})]})}),(0,lh.jsx)("div",{className:"modal-footer",children:(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>w(!1),children:"Cerrar"})})]})})]})},$_=()=>{const{user:t}=lp(),{calendarEvents:n,createEvent:r,attendEvent:s,getUpcomingEvents:a}=xp(),{addPoints:i,updateActivity:o}=kp(),[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)({title:"",description:"",type:"vecinal",date:"",startTime:"",endTime:"",location:"",maxAttendees:null}),h=[{value:"oficial",label:"Oficial",icon:"\ud83c\udfdb\ufe0f",color:"#3b82f6"},{value:"vecinal",label:"Vecinal",icon:"\ud83c\udfd8\ufe0f",color:"#10b981"},{value:"servicio",label:"Servicio",icon:"\ud83d\udd27",color:"#f59e0b"},{value:"emergencia",label:"Emergencia",icon:"\ud83d\udea8",color:"#ef4444"},{value:"taller",label:"Taller",icon:"\ud83d\udcda",color:"#8b5cf6"},{value:"reunion",label:"Reuni\xf3n",icon:"\ud83e\udd1d",color:"#06b6d4"},{value:"deporte",label:"Deporte",icon:"\u26bd",color:"#f97316"},{value:"cultural",label:"Cultural",icon:"\ud83c\udfad",color:"#ec4899"}],p=a();return(0,lh.jsxs)("div",{className:"calendar-page",children:[(0,lh.jsxs)("div",{className:"calendar-header",children:[(0,lh.jsxs)("div",{children:[(0,lh.jsx)("h1",{children:"\ud83d\udcc5 Calendario Comunitario"}),(0,lh.jsx)("p",{children:"Eventos y actividades de tu barrio"})]}),(0,lh.jsxs)("button",{className:"create-event-btn",onClick:()=>c(!0),children:[(0,lh.jsx)(e_,{})," Crear Evento"]})]}),(0,lh.jsxs)("div",{className:"calendar-stats",children:[(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(n.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Eventos Totales"})]})]}),(0,lh.jsxs)("div",{className:"stat-card",children:[(0,lh.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,lh.jsxs)("div",{className:"stat-info",children:[(0,lh.jsx)("span",{className:"stat-value",children:Fw(p.length)}),(0,lh.jsx)("span",{className:"stat-label",children:"Pr\xf3ximos Eventos"})]})]})]}),(0,lh.jsx)("div",{className:"events-grid",children:p.map(e=>{const n=h.find(t=>t.value===e.type),r=e.attendees.some(e=>e.id===(null===t||void 0===t?void 0:t.id)),a=e.maxAttendees&&e.attendees.length>=e.maxAttendees;return(0,lh.jsxs)("div",{className:"event-card",children:[(0,lh.jsxs)("div",{className:"event-type-badge",style:{background:null===n||void 0===n?void 0:n.color},children:[null===n||void 0===n?void 0:n.icon," ",null===n||void 0===n?void 0:n.label]}),(0,lh.jsx)("h3",{children:e.title}),(0,lh.jsx)("p",{children:e.description}),(0,lh.jsxs)("div",{className:"event-details",children:[(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(Rb,{fontSize:"small"}),(0,lh.jsx)("span",{children:new Date(e.date).toLocaleDateString("es-CL")})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(jj,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(hb,{fontSize:"small"}),(0,lh.jsx)("span",{children:e.location})]}),(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(ub,{fontSize:"small"}),(0,lh.jsxs)("span",{children:[e.attendees.length," asistentes"]})]})]}),(0,lh.jsx)("button",{className:"attend-btn ".concat(r?"attending":""),onClick:()=>{return t=e.id,s(t),i("EVENT_ATTENDED"),void o("eventsAttended");var t},disabled:a&&!r,children:r?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(cx,{fontSize:"small"})," Asistir\xe9"]}):"Confirmar Asistencia"})]},e.id)})}),l&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>c(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear Evento"}),(0,lh.jsx)("button",{className:"close-modal",onClick:()=>c(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"modal-body",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tipo de Evento"}),(0,lh.jsx)("select",{value:d.type,onChange:e=>u(z(z({},d),{},{type:e.target.value})),children:h.map(e=>(0,lh.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo"}),(0,lh.jsx)("input",{type:"text",value:d.title,onChange:e=>u(z(z({},d),{},{title:e.target.value})),placeholder:"Nombre del evento"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:d.description,onChange:e=>u(z(z({},d),{},{description:e.target.value})),rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha"}),(0,lh.jsx)("input",{type:"date",value:d.date,onChange:e=>u(z(z({},d),{},{date:e.target.value}))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Hora Inicio"}),(0,lh.jsx)("input",{type:"time",value:d.startTime,onChange:e=>u(z(z({},d),{},{startTime:e.target.value}))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Hora Fin"}),(0,lh.jsx)("input",{type:"time",value:d.endTime,onChange:e=>u(z(z({},d),{},{endTime:e.target.value}))})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Ubicaci\xf3n"}),(0,lh.jsx)("input",{type:"text",value:d.location,onChange:e=>u(z(z({},d),{},{location:e.target.value})),placeholder:"Lugar del evento"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"L\xedmite de Asistentes (Opcional)"}),(0,lh.jsx)("input",{type:"number",value:d.maxAttendees||"",onChange:e=>u(z(z({},d),{},{maxAttendees:parseInt(e.target.value)||null})),placeholder:"Sin l\xedmite"})]})]}),(0,lh.jsxs)("div",{className:"modal-footer",children:[(0,lh.jsx)("button",{className:"cancel-btn",onClick:()=>c(!1),children:"Cancelar"}),(0,lh.jsx)("button",{className:"submit-btn",onClick:()=>{if(!d.title||!d.date)return;r(d).success&&(i("EVENT_CREATED"),o("eventsOrganized"),c(!1),u({title:"",description:"",type:"vecinal",date:"",startTime:"",endTime:"",location:"",maxAttendees:null}))},children:"Crear Evento"})]})]})})]})},Y_=()=>{const{user:t}=lp(),{isRightSidebarCollapsed:n}=vh(),[r,s]=(0,e.useState)("projects");return(0,lh.jsx)("div",{className:"community-page ".concat(n?"sidebar-collapsed":""),children:(0,lh.jsxs)("div",{className:"community-content",children:["projects"===r&&(0,lh.jsx)(W_,{}),"resources"===r&&(0,lh.jsx)(H_,{})]})})},X_=ab((0,lh.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"})),Q_=ab((0,lh.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),eN=()=>{const{services:t,addService:n}=(()=>{const t=(0,e.useContext)(Nh);if(!t)throw new Error("useServices must be used within ServicesProvider");return t})(),{isRightSidebarCollapsed:r}=vh(),{user:s}=lp(),[a,i]=(0,e.useState)(""),[o,l]=(0,e.useState)("all"),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)({name:"",category:"plomero",description:"",phone:"",email:"",address:""}),p=t.filter(e=>{var t;const n=e.name.toLowerCase().includes(a.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase())),r="all"===o||e.category===o;return n&&r});return(0,lh.jsxs)("div",{className:"modern-directory ".concat(r?"sidebar-collapsed":""),children:[(0,lh.jsxs)("div",{className:"directory-controls",children:[(0,lh.jsxs)("div",{className:"controls-header",children:[(0,lh.jsxs)("div",{className:"search-box-modern",children:[(0,lh.jsx)(kb,{className:"search-icon"}),(0,lh.jsx)("input",{type:"text",placeholder:"Buscar servicios o profesionales...",value:a,onChange:e=>i(e.target.value)})]}),(0,lh.jsx)("button",{className:"btn-create",onClick:()=>{d(!0)},children:"+ Agregar Servicio"})]}),(0,lh.jsx)("div",{className:"category-pills",children:[{value:"all",label:"Todos"},{value:"plomero",label:"Plomer\xeda"},{value:"electricista",label:"Electricidad"},{value:"carpintero",label:"Carpinter\xeda"},{value:"pintor",label:"Pintura"},{value:"jardinero",label:"Jardiner\xeda"},{value:"limpieza",label:"Limpieza"}].map(e=>(0,lh.jsx)("button",{className:"category-pill ".concat(o===e.value?"active":""),onClick:()=>l(e.value),children:e.label},e.value))})]}),(0,lh.jsx)("div",{className:"services-grid-modern",children:0===p.length?(0,lh.jsx)("div",{className:"empty-state",children:(0,lh.jsx)("p",{children:"No se encontraron servicios"})}):p.map(e=>(0,lh.jsxs)("div",{className:"service-card-modern",children:[(0,lh.jsxs)("div",{className:"service-header",children:[(0,lh.jsx)("div",{className:"service-avatar",children:e.avatar?(0,lh.jsx)("img",{src:e.avatar,alt:e.name}):(0,lh.jsx)("div",{className:"avatar-placeholder",children:e.name.charAt(0).toUpperCase()})}),(0,lh.jsxs)("div",{className:"service-info",children:[(0,lh.jsxs)("h3",{className:"service-name",children:[e.name,e.verified&&(0,lh.jsx)(Hw,{className:"verified-badge"})]}),(0,lh.jsx)("p",{className:"service-category",children:e.category})]})]}),e.description&&(0,lh.jsx)("p",{className:"service-description",children:e.description}),(0,lh.jsxs)("div",{className:"service-rating",children:[(0,lh.jsx)(P_,{className:"star-icon"}),(0,lh.jsx)("span",{className:"rating-value",children:e.rating||4.5}),(0,lh.jsxs)("span",{className:"rating-count",children:["(",e.reviews||12," rese\xf1as)"]})]}),(0,lh.jsxs)("div",{className:"service-details",children:[e.phone&&(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(Cj,{}),(0,lh.jsx)("span",{children:e.phone})]}),e.email&&(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(uj,{}),(0,lh.jsx)("span",{children:e.email})]}),e.address&&(0,lh.jsxs)("div",{className:"detail-item",children:[(0,lh.jsx)(x_,{}),(0,lh.jsx)("span",{children:e.address})]})]}),(0,lh.jsxs)("div",{className:"service-actions",children:[(0,lh.jsx)("button",{className:"btn-contact",children:"Contactar"}),(0,lh.jsx)("button",{className:"btn-details",children:"Ver m\xe1s"})]})]},e.id))}),c&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>d(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Agregar Nuevo Servicio"}),(0,lh.jsx)("button",{className:"modal-close",onClick:()=>d(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=z(z({id:Date.now()},u),{},{rating:5,reviews:0,verified:!1,avatar:(null===s||void 0===s?void 0:s.avatar)||"https://i.pravatar.cc/150?img=".concat(Math.floor(70*Math.random())),createdAt:(new Date).toISOString()});n(t),d(!1),h({name:"",category:"plomero",description:"",phone:"",email:"",address:""})},className:"modal-form",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Nombre del Profesional o Negocio *"}),(0,lh.jsx)("input",{type:"text",value:u.name,onChange:e=>h(z(z({},u),{},{name:e.target.value})),placeholder:"Ej: Juan P\xe9rez",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Categor\xeda *"}),(0,lh.jsxs)("select",{value:u.category,onChange:e=>h(z(z({},u),{},{category:e.target.value})),required:!0,children:[(0,lh.jsx)("option",{value:"plomero",children:"Plomer\xeda"}),(0,lh.jsx)("option",{value:"electricista",children:"Electricidad"}),(0,lh.jsx)("option",{value:"carpintero",children:"Carpinter\xeda"}),(0,lh.jsx)("option",{value:"pintor",children:"Pintura"}),(0,lh.jsx)("option",{value:"jardinero",children:"Jardiner\xeda"}),(0,lh.jsx)("option",{value:"limpieza",children:"Limpieza"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:u.description,onChange:e=>h(z(z({},u),{},{description:e.target.value})),placeholder:"Describe el servicio que ofreces...",rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tel\xe9fono"}),(0,lh.jsx)("input",{type:"tel",value:u.phone,onChange:e=>h(z(z({},u),{},{phone:e.target.value})),placeholder:"+56 9 1234 5678"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Email"}),(0,lh.jsx)("input",{type:"email",value:u.email,onChange:e=>h(z(z({},u),{},{email:e.target.value})),placeholder:"correo@ejemplo.com"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Direcci\xf3n"}),(0,lh.jsx)("input",{type:"text",value:u.address,onChange:e=>h(z(z({},u),{},{address:e.target.value})),placeholder:"Calle, n\xfamero, comuna"})]}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>d(!1),children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"btn-submit",children:"Agregar Servicio"})]})]})]})})]})},tN=()=>{const{isRightSidebarCollapsed:t}=vh(),{polls:n,createPoll:r,vote:s,getUserVote:a}=(()=>{const t=(0,e.useContext)(vp);if(!t)throw new Error("usePolls must be used within PollsProvider");return t})(),{user:i}=lp(),[o,l]=(0,e.useState)("all"),[c,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)({title:"",description:"",options:["",""],endsAt:""}),p=n.filter(e=>"all"===o||e.status===o);return(0,lh.jsxs)("div",{className:"modern-polls ".concat(t?"sidebar-collapsed":""),children:[(0,lh.jsx)("div",{className:"polls-controls",children:(0,lh.jsxs)("div",{className:"controls-header",children:[(0,lh.jsx)("div",{className:"filter-pills",children:[{value:"all",label:"Todas"},{value:"active",label:"Activas"},{value:"closed",label:"Cerradas"}].map(e=>(0,lh.jsx)("button",{className:"filter-pill ".concat(o===e.value?"active":""),onClick:()=>l(e.value),children:e.label},e.value))}),(0,lh.jsx)("button",{className:"btn-create",onClick:()=>{d(!0)},children:"+ Nueva Votaci\xf3n"})]})}),(0,lh.jsx)("div",{className:"polls-grid",children:p.map(e=>{const t=a(e.id),n=null!==t;return(0,lh.jsxs)("div",{className:"poll-card-modern",children:[(0,lh.jsxs)("div",{className:"poll-header",children:[(0,lh.jsx)("div",{className:"poll-icon",children:(0,lh.jsx)(X_,{})}),(0,lh.jsxs)("div",{className:"poll-meta",children:[(0,lh.jsx)("span",{className:"poll-status ".concat(e.status),children:"active"===e.status?"Activa":"Cerrada"}),(0,lh.jsxs)("div",{className:"poll-time",children:[(0,lh.jsx)(jj,{}),(0,lh.jsxs)("span",{children:["Termina: ",new Date(e.endsAt).toLocaleDateString()]})]})]})]}),(0,lh.jsx)("h3",{className:"poll-title",children:e.title}),(0,lh.jsx)("p",{className:"poll-description",children:e.description}),(0,lh.jsx)("div",{className:"poll-options",children:e.options.map(r=>{const a=e.totalVotes>0?(r.votes/e.totalVotes*100).toFixed(1):0,i=n&&t===r.id;return(0,lh.jsxs)("div",{className:"poll-option ".concat(n?"voted":""," ").concat(i?"user-vote":""),onClick:()=>{return!n&&"active"===e.status&&(t=e.id,a=r.id,void s(t,a));var t,a},children:[(0,lh.jsxs)("div",{className:"option-content",children:[(0,lh.jsx)("span",{className:"option-text",children:r.text}),n&&(0,lh.jsxs)("span",{className:"option-percentage",children:[a,"%"]}),i&&(0,lh.jsx)(cx,{className:"vote-check"})]}),n&&(0,lh.jsx)("div",{className:"option-bar",children:(0,lh.jsx)("div",{className:"option-bar-fill",style:{width:"".concat(a,"%")}})})]},r.id)})}),(0,lh.jsx)("div",{className:"poll-footer",children:(0,lh.jsxs)("div",{className:"poll-votes",children:[(0,lh.jsx)(ub,{}),(0,lh.jsxs)("span",{children:[e.totalVotes," votos"]})]})})]},e.id)})}),c&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>d(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear Nueva Votaci\xf3n"}),(0,lh.jsx)("button",{className:"modal-close",onClick:()=>d(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=u.options.filter(e=>""!==e.trim());t.length<2?alert("Debes agregar al menos 2 opciones"):(r(z(z({},u),{},{options:t})),d(!1),h({title:"",description:"",options:["",""],endsAt:""}))},className:"modal-form",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo de la Votaci\xf3n *"}),(0,lh.jsx)("input",{type:"text",value:u.title,onChange:e=>h(z(z({},u),{},{title:e.target.value})),placeholder:"\xbfSobre qu\xe9 quieres que vote la comunidad?",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n"}),(0,lh.jsx)("textarea",{value:u.description,onChange:e=>h(z(z({},u),{},{description:e.target.value})),placeholder:"Proporciona m\xe1s detalles sobre la votaci\xf3n...",rows:"3"})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Opciones de Votaci\xf3n *"}),u.options.map((e,t)=>(0,lh.jsxs)("div",{className:"option-input-group",children:[(0,lh.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...u.options];n[e]=t,h(z(z({},u),{},{options:n}))})(t,e.target.value),placeholder:"Opci\xf3n ".concat(t+1),required:!0}),u.options.length>2&&(0,lh.jsx)("button",{type:"button",className:"btn-remove-option",onClick:()=>(e=>{u.options.length>2&&h(z(z({},u),{},{options:u.options.filter((t,n)=>n!==e)}))})(t),children:(0,lh.jsx)(gb,{})})]},t)),(0,lh.jsxs)("button",{type:"button",className:"btn-add-option",onClick:()=>{h(z(z({},u),{},{options:[...u.options,""]}))},children:[(0,lh.jsx)(e_,{})," Agregar Opci\xf3n"]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha de Cierre *"}),(0,lh.jsx)("input",{type:"date",value:u.endsAt,onChange:e=>h(z(z({},u),{},{endsAt:e.target.value})),min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>d(!1),children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"btn-submit",children:"Crear Votaci\xf3n"})]})]})]})})]})},nN=()=>{const{isRightSidebarCollapsed:t}=vh(),{projects:n,createProject:r}=fp(),{user:s}=lp(),[a,i]=(0,e.useState)("all"),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)({title:"",description:"",category:"infraestructura",startDate:"",budget:"",fundingGoal:""}),u=[{value:"infraestructura",label:"Infraestructura"},{value:"limpieza",label:"Limpieza"},{value:"social",label:"Social"},{value:"cultural",label:"Cultural"},{value:"deportivo",label:"Deportivo"},{value:"medio_ambiente",label:"Medio Ambiente"}],h=n.filter(e=>"all"===a||("active"===a?"en_progreso"===e.status||"aprobado"===e.status:"completed"!==a||"completado"===e.status));return(0,lh.jsxs)("div",{className:"modern-projects ".concat(t?"sidebar-collapsed":""),children:[(0,lh.jsx)("div",{className:"projects-controls",children:(0,lh.jsxs)("div",{className:"controls-header",children:[(0,lh.jsx)("div",{className:"filter-pills",children:[{value:"all",label:"Todos"},{value:"active",label:"En Progreso"},{value:"completed",label:"Completados"}].map(e=>(0,lh.jsx)("button",{className:"filter-pill ".concat(a===e.value?"active":""),onClick:()=>i(e.value),children:e.label},e.value))}),(0,lh.jsx)("button",{className:"btn-create",onClick:()=>{l(!0)},children:"+ Nuevo Proyecto"})]})}),(0,lh.jsx)("div",{className:"projects-grid",children:h.map(e=>{var t,n;let r=0;return"propuesta"===e.status?r=10:"votacion"===e.status?r=25:"aprobado"===e.status?r=40:"en_progreso"===e.status?r=65:"completado"===e.status&&(r=100),(0,lh.jsxs)("div",{className:"project-card-modern",children:[(0,lh.jsxs)("div",{className:"project-header",children:[(0,lh.jsx)("div",{className:"project-icon",children:(0,lh.jsx)(Q_,{})}),(0,lh.jsx)("span",{className:"project-category",children:(null===(t=u.find(t=>t.value===e.category))||void 0===t?void 0:t.label)||e.category})]}),(0,lh.jsx)("h3",{className:"project-title",children:e.title}),(0,lh.jsx)("p",{className:"project-description",children:e.description}),(0,lh.jsxs)("div",{className:"project-progress",children:[(0,lh.jsxs)("div",{className:"progress-header",children:[(0,lh.jsx)("span",{className:"progress-label",children:"Progreso"}),(0,lh.jsxs)("span",{className:"progress-value",children:[r,"%"]})]}),(0,lh.jsx)("div",{className:"progress-bar",children:(0,lh.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(r,"%")}})})]}),(0,lh.jsxs)("div",{className:"project-footer",children:[(0,lh.jsxs)("div",{className:"project-stat",children:[(0,lh.jsx)(ub,{}),(0,lh.jsxs)("span",{children:[(null===(n=e.volunteers)||void 0===n?void 0:n.length)||0," participantes"]})]}),(0,lh.jsxs)("div",{className:"project-stat",children:[(0,lh.jsx)(D_,{}),(0,lh.jsx)("span",{children:e.startDate?new Date(e.startDate).toLocaleDateString():"Por definir"})]})]}),(0,lh.jsx)("button",{className:"btn-join",children:"completado"===e.status?"Ver Detalles":"Unirse al Proyecto"})]},e.id)})}),o&&(0,lh.jsx)("div",{className:"modal-overlay",onClick:()=>l(!1),children:(0,lh.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Crear Nuevo Proyecto"}),(0,lh.jsx)("button",{className:"modal-close",onClick:()=>l(!1),children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(c),l(!1),d({title:"",description:"",category:"infraestructura",startDate:"",budget:"",fundingGoal:""})},className:"modal-form",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"T\xedtulo del Proyecto *"}),(0,lh.jsx)("input",{type:"text",value:c.title,onChange:e=>d(z(z({},c),{},{title:e.target.value})),placeholder:"Ej: Mejora de \xc1reas Verdes",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Descripci\xf3n *"}),(0,lh.jsx)("textarea",{value:c.description,onChange:e=>d(z(z({},c),{},{description:e.target.value})),placeholder:"Describe el proyecto y sus objetivos...",rows:"4",required:!0})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Categor\xeda *"}),(0,lh.jsx)("select",{value:c.category,onChange:e=>d(z(z({},c),{},{category:e.target.value})),required:!0,children:u.map(e=>(0,lh.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Fecha de Inicio"}),(0,lh.jsx)("input",{type:"date",value:c.startDate,onChange:e=>d(z(z({},c),{},{startDate:e.target.value})),min:(new Date).toISOString().split("T")[0]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Presupuesto Estimado"}),(0,lh.jsx)("input",{type:"number",value:c.budget,onChange:e=>d(z(z({},c),{},{budget:e.target.value})),placeholder:"0",min:"0"})]})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Meta de Financiamiento"}),(0,lh.jsx)("input",{type:"number",value:c.fundingGoal,onChange:e=>d(z(z({},c),{},{fundingGoal:e.target.value})),placeholder:"0",min:"0"})]}),(0,lh.jsxs)("div",{className:"modal-actions",children:[(0,lh.jsx)("button",{type:"button",className:"btn-cancel",onClick:()=>l(!1),children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"btn-submit",children:"Crear Proyecto"})]})]})]})})]})},rN=()=>{const[e,t]=Ru(),{isRightSidebarCollapsed:n}=vh(),r=e.get("tab")||"directorio",s=[{id:"directorio",label:"Directorio",icon:(0,lh.jsx)(fx,{}),description:"Servicios y negocios locales",component:(0,lh.jsx)(eN,{})},{id:"votaciones",label:"Votaciones",icon:(0,lh.jsx)(X_,{}),description:"Decisiones comunitarias",component:(0,lh.jsx)(tN,{})},{id:"proyectos",label:"Proyectos",icon:(0,lh.jsx)(Q_,{}),description:"Iniciativas vecinales",component:(0,lh.jsx)(nN,{})}],a=s.find(e=>e.id===r)||s[0];return(0,lh.jsxs)("div",{className:"community-hub ".concat(n?"sidebar-collapsed":""),children:[(0,lh.jsx)("div",{className:"hub-header",children:(0,lh.jsxs)("div",{className:"hub-title-section",children:[(0,lh.jsx)("h1",{className:"hub-title",children:"Hub Comunitario"}),(0,lh.jsx)("p",{className:"hub-subtitle",children:"Centro de recursos y servicios del vecindario"})]})}),(0,lh.jsxs)("div",{className:"hub-tabs-container",children:[(0,lh.jsx)("div",{className:"hub-tabs",children:s.map(e=>(0,lh.jsxs)("button",{className:"hub-tab ".concat(r===e.id?"active":""),onClick:()=>{return n=e.id,void t({tab:n});var n},children:[(0,lh.jsx)("div",{className:"tab-icon",children:e.icon}),(0,lh.jsxs)("div",{className:"tab-content",children:[(0,lh.jsx)("span",{className:"tab-label",children:e.label}),(0,lh.jsx)("span",{className:"tab-description",children:e.description})]})]},e.id))}),(0,lh.jsx)("div",{className:"tab-indicator",style:{transform:"translateX(".concat(100*s.findIndex(e=>e.id===r),"%)")}})]}),(0,lh.jsx)("div",{className:"hub-content",children:(0,lh.jsx)("div",{className:"content-wrapper",children:a.component})})]})},sN=ab((0,lh.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),aN=ab((0,lh.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),iN=t=>{let{photos:n,initialIndex:r,onClose:s}=t;const[a,i]=(0,e.useState)(r),[o,l]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=e=>{"Escape"===e.key&&s(),"ArrowLeft"===e.key&&c(),"ArrowRight"===e.key&&d()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]);const c=()=>{i(e=>e>0?e-1:n.length-1),l(!1)},d=()=>{i(e=>e<n.length-1?e+1:0),l(!1)},u=n[a];return(0,lh.jsx)("div",{className:"lightbox-overlay",onClick:s,children:(0,lh.jsxs)("div",{className:"lightbox-container",onClick:e=>e.stopPropagation(),children:[(0,lh.jsx)("button",{className:"lightbox-close",onClick:s,children:(0,lh.jsx)(fb,{})}),(0,lh.jsx)("button",{className:"lightbox-nav lightbox-prev",onClick:c,children:(0,lh.jsx)(Kb,{})}),(0,lh.jsxs)("div",{className:"lightbox-content",children:[(0,lh.jsx)("img",{src:u.image,alt:u.title}),(0,lh.jsxs)("div",{className:"lightbox-info",children:[(0,lh.jsx)("h3",{children:u.title}),(0,lh.jsx)("p",{children:u.description||"Sin descripci\xf3n"}),(0,lh.jsxs)("div",{className:"lightbox-actions",children:[(0,lh.jsxs)("button",{onClick:()=>{l(!o),ec(o?"Ya no te gusta":"\xa1Te gusta esta foto!")},className:o?"liked":"",children:[o?(0,lh.jsx)(Pw,{}):(0,lh.jsx)(aN,{}),(0,lh.jsx)("span",{children:o?"Te gusta":"Me gusta"})]}),(0,lh.jsxs)("button",{onClick:()=>{ec("Compartir foto")},children:[(0,lh.jsx)(z_,{}),(0,lh.jsx)("span",{children:"Compartir"})]}),(0,lh.jsxs)("button",{onClick:()=>{ec("Foto descargada")},children:[(0,lh.jsx)(sN,{}),(0,lh.jsx)("span",{children:"Descargar"})]})]}),(0,lh.jsxs)("div",{className:"lightbox-counter",children:[a+1," / ",n.length]})]})]}),(0,lh.jsx)("button",{className:"lightbox-nav lightbox-next",onClick:d,children:(0,lh.jsx)($b,{})})]})})},oN=ab((0,lh.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),lN=()=>{var t,n,r,s;const{username:a,slug:i}=lu(),o=ou(),l=au(),{user:c}=lp(),{isRightSidebarCollapsed:d}=vh(),[u,h]=(0,e.useState)(null),[p,m]=(0,e.useState)(null),[f,g]=(0,e.useState)(!0),[v,y]=(0,e.useState)(3),[b,x]=(0,e.useState)(""),[w,j]=(0,e.useState)((null===(t=l.state)||void 0===t?void 0:t.activeTab)||"timeline"),[_,N]=(0,e.useState)([]),[S,C]=(0,e.useState)(!1),[k,E]=(0,e.useState)(0),P=l.pathname.startsWith("/pagina/")||l.pathname.startsWith("/paginas/"),I=l.pathname.startsWith("/grupo/"),A=l.pathname.startsWith("/evento/"),T=l.pathname.startsWith("/proyecto/"),O=l.pathname.startsWith("/ayuda/"),R=l.pathname.startsWith("/recursos/"),L=P||I||A||T||O||R?i:a;(0,e.useEffect)(()=>{if(L){if(P){const e=oh.getPages().find(e=>e.slug===L||e.id===parseInt(L));e?(m(e),h({id:e.id,name:e.name,username:e.slug,email:e.email,avatar:e.image||e.avatar,bio:e.description||"P\xe1gina: ".concat(e.name),isPage:!0})):(tc("P\xe1gina no encontrada"),o("/paginas"))}else if(I){const e=oh.getGroups().find(e=>e.slug===L||e.id===parseInt(L));e?h({id:e.id,name:e.name,username:e.slug,email:e.description,avatar:e.image,bio:"Grupo: ".concat(e.name),members:e.members,isGroup:!0}):(tc("Grupo no encontrado"),o("/grupos"))}else if(A){const e=JSON.parse(localStorage.getItem("events")||"[]").find(e=>e.slug===L);if(e){const t=new Date(e.date);h({id:e.id,name:e.title,username:e.slug,email:e.location,avatar:e.image,bio:"Evento: ".concat(e.title),date:t.toLocaleDateString("es-CL"),time:t.toLocaleTimeString("es",{hour:"2-digit",minute:"2-digit"}),attendees:e.attendees,isEvent:!0})}else tc("Evento no encontrado"),o("/app/eventos")}else if(T){const e=JSON.parse(localStorage.getItem("communityProjects")||"[]").find(e=>e.slug===L);e?h({id:e.id,name:e.title,username:e.slug,email:e.category,avatar:e.creatorAvatar,bio:e.description,status:e.status,votes:e.votes,volunteers:e.volunteers,budget:e.budget,creatorName:e.creatorName,neighborhoodName:e.neighborhoodName,isProject:!0}):(tc("Proyecto no encontrado"),o("/proyectos"))}else if(O){const e=JSON.parse(localStorage.getItem("helpRequests")||"[]").find(e=>e.slug===L);e?h({id:e.id,name:e.title,username:e.slug,email:e.type,avatar:e.requesterAvatar,bio:e.description,status:e.status,urgency:e.urgency,location:e.location,offers:e.offers,requesterName:e.requesterName,neighborhoodName:e.neighborhoodName,isHelp:!0}):(tc("Solicitud de ayuda no encontrada"),o("/solicitudes-ayuda"))}else if(R){const e=JSON.parse(localStorage.getItem("sharedResources")||"[]").find(e=>e.slug===L);e?h({id:e.id,name:e.name,username:e.slug,email:e.category,avatar:e.ownerAvatar,bio:e.description,condition:e.condition,maxLoanDays:e.maxLoanDays,requiresDeposit:e.requiresDeposit,depositAmount:e.depositAmount,totalLoans:e.totalLoans,isAvailable:e.isAvailable,ownerName:e.ownerName,neighborhoodName:e.neighborhoodName,isResource:!0}):(tc("Recurso no encontrado"),o("/recursos-compartidos"))}else{if((null===c||void 0===c?void 0:c.username)===L)return h(c),void g(!1);const e=oh.getUsers().find(e=>e.username===L||e.name.toLowerCase().replace(/\s+/g,"")===L);e&&h(e)}g(!1)}else g(!1)},[L,c,o,P,I,A,T,O,R]),(0,e.useEffect)(()=>{if(null!==u&&void 0!==u&&u.id){N([{id:1,url:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=1200&h=800&fit=crop",likes:45,title:"Foto 1",description:"Hermosa foto"},{id:2,url:"https://images.unsplash.com/photo-1511988617509-a57c8a288659?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1511988617509-a57c8a288659?w=1200&h=800&fit=crop",likes:32,title:"Foto 2",description:"Momento especial"},{id:3,url:"https://images.unsplash.com/photo-1517849845537-4d257902454a?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1517849845537-4d257902454a?w=1200&h=800&fit=crop",likes:28,title:"Foto 3",description:"Recuerdo inolvidable"},{id:4,url:"https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=1200&h=800&fit=crop",likes:56,title:"Foto 4",description:"Gran momento"},{id:5,url:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1552053831-71594a27632d?w=1200&h=800&fit=crop",likes:41,title:"Foto 5",description:"D\xeda perfecto"},{id:6,url:"https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=1200&h=800&fit=crop",likes:38,title:"Foto 6",description:"Aventura"},{id:7,url:"https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?w=1200&h=800&fit=crop",likes:52,title:"Foto 7",description:"Diversi\xf3n"},{id:8,url:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=1200&h=800&fit=crop",likes:29,title:"Foto 8",description:"Alegr\xeda"},{id:9,url:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=400&h=400&fit=crop",image:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=1200&h=800&fit=crop",likes:47,title:"Foto 9",description:"Felicidad"}])}},[u]);const M=[{id:1,author:(null===u||void 0===u?void 0:u.name)||"Usuario",authorId:(null===u||void 0===u?void 0:u.id)||1,time:"hace 30 min",avatar:(null===u||void 0===u?void 0:u.avatar)||"https://i.pravatar.cc/50?img=1",content:"\xa1Hoy es el cumplea\xf1os de nuestros tres lindos cachorros!",image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=800&h=500&fit=crop",hashtags:["#cachorros","#cumplea\xf1os","#perros"],likes:175,comments:4368,shares:936,reactions:["\ud83e\udd1d","\u2764\ufe0f","\ud83d\udc4f","\ud83d\udca1"]},{id:2,author:(null===u||void 0===u?void 0:u.name)||"Usuario",authorId:(null===u||void 0===u?void 0:u.id)||1,time:"hace 1 hora",avatar:(null===u||void 0===u?void 0:u.avatar)||"https://i.pravatar.cc/50?img=16",content:"Lorem Ipsum es simplemente el texto de relleno de las imprentas y archivos de texto.",image:"https://images.unsplash.com/photo-1511988617509-a57c8a288659?w=800&h=500&fit=crop",hashtags:["#estilodeVida","#inspiraci\xf3n"],likes:234,comments:89,shares:45,reactions:["\ud83e\udd1d","\u2764\ufe0f","\ud83d\ude4c"]}],z=M.slice(0,v);if(f)return(0,lh.jsx)("div",{className:"timeline",children:(0,lh.jsx)("div",{className:"loading-profile",children:"Cargando perfil..."})});if(!u){const e=oh.getUsers().slice(0,5);return(0,lh.jsx)("div",{className:"timeline ".concat(d?"sidebar-collapsed":""),children:(0,lh.jsxs)("div",{className:"user-not-found",children:[(0,lh.jsx)("h2",{children:"Usuario no encontrado"}),(0,lh.jsxs)("p",{children:['El usuario "',L,'" no existe o ha sido eliminado.']}),e.length>0&&(0,lh.jsxs)("div",{className:"user-suggestions",children:[(0,lh.jsx)("h3",{children:"\xbfQuiz\xe1s buscabas a uno de estos usuarios?"}),(0,lh.jsx)("div",{className:"suggestions-list",children:e.map(e=>(0,lh.jsxs)("div",{className:"suggestion-item",onClick:()=>o("/".concat(e.username)),children:[(0,lh.jsx)("img",{src:e.avatar,alt:e.name}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:e.name}),(0,lh.jsxs)("span",{children:["@",e.username]})]})]},e.id))})]}),(0,lh.jsxs)("div",{className:"action-buttons",children:[(0,lh.jsx)("button",{onClick:()=>o("/app/descubrir-vecinos"),children:"Descubrir Vecinos"}),(0,lh.jsx)("button",{onClick:()=>o("/app/feed"),children:"Ir al Feed"}),(0,lh.jsx)("button",{onClick:()=>window.location.reload(),children:"Recargar P\xe1gina"})]})]})})}const D=(null===c||void 0===c?void 0:c.id)===(null===u||void 0===u?void 0:u.id);return(0,lh.jsxs)("div",{className:"timeline ".concat(d?"sidebar-collapsed":""),children:[(0,lh.jsx)(yj,{user:{id:u.id,name:u.name,username:u.username,email:u.email,avatar:u.avatar,coverPhoto:u.cover,bio:u.bio,location:u.location,following:u.following,followers:u.followers,verified:u.verified||!1,neighborhoodName:u.neighborhoodName,neighborhoodCode:u.neighborhoodCode,isVerifiedNeighbor:u.isVerifiedNeighbor},isOwnProfile:D}),(0,lh.jsxs)("div",{className:"timeline-tabs",children:[(0,lh.jsxs)("button",{className:"tab ".concat("timeline"===w?"active":""),onClick:()=>j("timeline"),children:[(0,lh.jsx)(jj,{fontSize:"small"})," L\xednea de tiempo"]}),(0,lh.jsxs)("button",{className:"tab ".concat("photos"===w?"active":""),onClick:()=>j("photos"),children:[(0,lh.jsx)(gw,{fontSize:"small"})," Fotos"]}),(0,lh.jsx)("div",{className:"tab-right",children:(0,lh.jsx)("input",{type:"text",placeholder:"Buscar aqu\xed...",value:b,onChange:e=>x(e.target.value)})})]}),(0,lh.jsxs)("div",{className:"timeline-content",children:[D&&"timeline"===w&&(0,lh.jsxs)("div",{className:"activity-feed",children:[(0,lh.jsxs)("div",{className:"feed-header",children:[(0,lh.jsx)("h3",{children:"Feed de actividad"}),(0,lh.jsxs)("div",{className:"feed-actions",children:[(0,lh.jsx)("button",{children:(0,lh.jsx)(oN,{fontSize:"small"})}),(0,lh.jsx)("button",{children:(0,lh.jsx)(jb,{fontSize:"small"})})]})]}),(0,lh.jsxs)("div",{className:"feed-timeline",children:[(0,lh.jsx)("h4",{children:"Hoy"}),(0,lh.jsxs)("div",{className:"feed-item",children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/40?img=12",alt:""}),(0,lh.jsxs)("div",{children:[(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:"Usuario"})," coment\xf3 en una foto"]}),(0,lh.jsx)("span",{children:"hace 3 horas"})]})]}),(0,lh.jsxs)("div",{className:"feed-item",children:[(0,lh.jsx)("img",{src:"https://i.pravatar.cc/40?img=1",alt:""}),(0,lh.jsxs)("div",{children:[(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:"Usuario"})," le gust\xf3 una foto"]}),(0,lh.jsx)("span",{children:"hace 5 horas"})]})]}),(0,lh.jsx)("button",{className:"load-more-feed-btn",children:"Cargar m\xe1s"})]})]}),(0,lh.jsx)("div",{className:"posts-container",children:"timeline"===w&&(0,lh.jsx)(lh.Fragment,{children:z.length>0?(0,lh.jsxs)(lh.Fragment,{children:[z.map(e=>(0,lh.jsx)(rj,{post:e},e.id)),v<M.length&&(0,lh.jsx)("button",{className:"load-more-btn",onClick:()=>{y(e=>Math.min(e+3,M.length))},children:"Cargar m\xe1s"})]}):(0,lh.jsx)("div",{className:"no-posts",children:(0,lh.jsx)("p",{children:D?"A\xfan no has publicado nada.":"Este usuario a\xfan no ha publicado nada."})})})}),"timeline"===w&&(0,lh.jsx)("div",{className:"widgets-sidebar",children:D?(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)(bj,{}),(0,lh.jsx)(xj,{})]}):(0,lh.jsxs)("div",{className:"profile-info-card",children:[(0,lh.jsx)("h3",{children:"Informaci\xf3n"}),u.bio&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Biograf\xeda:"}),(0,lh.jsx)("p",{children:u.bio})]}),u.neighborhoodName&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Unidad Vecinal:"}),(0,lh.jsxs)("p",{children:[u.neighborhoodName," (",u.neighborhoodCode,")"]})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"URL del perfil:"}),(0,lh.jsx)("div",{className:"url-display",children:P?"vecinoactivo.cl/pagina/".concat(u.username):I?"vecinoactivo.cl/grupo/".concat(u.username):A?"vecinoactivo.cl/evento/".concat(u.username):T?"vecinoactivo.cl/proyecto/".concat(u.username):O?"vecinoactivo.cl/ayuda/".concat(u.username):R?"vecinoactivo.cl/recursos/".concat(u.username):"vecinoactivo.cl/".concat(u.username)})]}),I&&u.members&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Miembros:"}),(0,lh.jsxs)("p",{children:[u.members.length," miembros"]})]}),A&&u.date&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Fecha:"}),(0,lh.jsx)("p",{children:u.date})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Hora:"}),(0,lh.jsx)("p",{children:u.time})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Ubicaci\xf3n:"}),(0,lh.jsx)("p",{children:u.email})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Asistentes:"}),(0,lh.jsxs)("p",{children:[(null===(n=u.attendees)||void 0===n?void 0:n.length)||0," personas"]})]})]}),T&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Estado:"}),(0,lh.jsx)("p",{children:u.status})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Votos:"}),(0,lh.jsx)("p",{children:u.votes})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Voluntarios:"}),(0,lh.jsx)("p",{children:(null===(r=u.volunteers)||void 0===r?void 0:r.length)||0})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Presupuesto:"}),(0,lh.jsxs)("p",{children:["$",u.budget||0]})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Creador:"}),(0,lh.jsx)("p",{children:u.creatorName})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Unidad Vecinal:"}),(0,lh.jsx)("p",{children:u.neighborhoodName})]})]}),O&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Estado:"}),(0,lh.jsx)("p",{children:u.status})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Urgencia:"}),(0,lh.jsx)("p",{children:u.urgency})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Tipo:"}),(0,lh.jsx)("p",{children:u.email})]}),u.location&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Ubicaci\xf3n:"}),(0,lh.jsx)("p",{children:u.location})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Ofertas de ayuda:"}),(0,lh.jsx)("p",{children:(null===(s=u.offers)||void 0===s?void 0:s.length)||0})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Solicitante:"}),(0,lh.jsx)("p",{children:u.requesterName})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Unidad Vecinal:"}),(0,lh.jsx)("p",{children:u.neighborhoodName})]})]}),R&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Categor\xeda:"}),(0,lh.jsx)("p",{children:u.email})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Condici\xf3n:"}),(0,lh.jsx)("p",{children:u.condition})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Disponible:"}),(0,lh.jsx)("p",{children:u.isAvailable?"S\xed":"No"})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"D\xedas m\xe1x. de pr\xe9stamo:"}),(0,lh.jsx)("p",{children:u.maxLoanDays})]}),u.requiresDeposit&&(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Dep\xf3sito:"}),(0,lh.jsxs)("p",{children:["$",u.depositAmount]})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Pr\xe9stamos realizados:"}),(0,lh.jsx)("p",{children:u.totalLoans})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Due\xf1o:"}),(0,lh.jsx)("p",{children:u.ownerName})]}),(0,lh.jsxs)("div",{className:"info-item",children:[(0,lh.jsx)("strong",{children:"Unidad Vecinal:"}),(0,lh.jsx)("p",{children:u.neighborhoodName})]})]})]})})]}),"photos"===w&&(0,lh.jsx)("div",{style:{width:"100%",padding:"20px",background:"#f8f9fa"},children:(0,lh.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",background:"white",borderRadius:"16px",padding:"24px"},children:[(0,lh.jsxs)("h3",{style:{marginBottom:"20px"},children:["Fotos (",_.length,")"]}),(0,lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"12px",width:"100%"},children:_.map((e,t)=>(0,lh.jsxs)("div",{onClick:()=>(e=>{E(e),C(!0)})(t),style:{cursor:"pointer",aspectRatio:"1",borderRadius:"12px",overflow:"hidden",position:"relative",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,lh.jsx)("img",{src:e.url,alt:"Foto ".concat(e.id),style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,lh.jsx)("div",{className:"photo-overlay",children:(0,lh.jsxs)("span",{children:["\u2764\ufe0f ",e.likes]})})]},e.id))}),0===_.length&&(0,lh.jsx)("p",{style:{textAlign:"center",padding:"40px 20px",color:"#65676b"},children:"No hay fotos para mostrar"})]})}),S&&(0,lh.jsx)(iN,{photos:_,initialIndex:k,onClose:()=>C(!1)})]})},cN=()=>{const[t,n]=(0,e.useState)(new Date(2026,0,1)),[r,s]=(0,e.useState)(null),[a,i]=(0,e.useState)([{id:1,date:15,title:"Reuni\xf3n de Equipo",time:"10:00 AM",color:"#1877f2"},{id:2,date:20,title:"Fiesta de Cumplea\xf1os",time:"6:00 PM",color:"#f5576c"},{id:3,date:25,title:"Fecha L\xedmite de Proyecto",time:"5:00 PM",color:"#f5a623"}]),o=(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1).getDay(),s=new Date(t,n+1,0).getDate(),a=[];for(let i=0;i<r;i++)a.push(null);for(let i=1;i<=s;i++)a.push(i);return a})(t);return(0,lh.jsxs)("div",{className:"calendar-page",children:[(0,lh.jsxs)("div",{className:"calendar-header",children:[(0,lh.jsx)(Fb,{className:"header-icon"}),(0,lh.jsx)("h1",{children:"Calendario"}),(0,lh.jsx)("p",{children:"Administra tus eventos y horarios"})]}),(0,lh.jsxs)("div",{className:"calendar-content",children:[(0,lh.jsxs)("div",{className:"calendar-view",children:[(0,lh.jsxs)("div",{className:"calendar-controls",children:[(0,lh.jsx)("button",{onClick:()=>{n(new Date(t.getFullYear(),t.getMonth()-1,1))},className:"nav-btn",children:(0,lh.jsx)(Kb,{})}),(0,lh.jsxs)("h2",{children:[["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," ",t.getFullYear()]}),(0,lh.jsx)("button",{onClick:()=>{n(new Date(t.getFullYear(),t.getMonth()+1,1))},className:"nav-btn",children:(0,lh.jsx)($b,{})})]}),(0,lh.jsxs)("div",{className:"calendar-grid",children:[["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"].map(e=>(0,lh.jsx)("div",{className:"calendar-day-name",children:e},e)),o.map((e,t)=>{const n=e?(e=>a.filter(t=>t.date===e))(e):[];return(0,lh.jsx)("div",{className:"calendar-day ".concat(e?"":"empty"," ").concat(r===e?"selected":""),onClick:()=>(e=>{e&&s(e)})(e),children:e&&(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsx)("span",{className:"day-number",children:e}),n.length>0&&(0,lh.jsx)("div",{className:"day-events",children:n.map(e=>(0,lh.jsx)("div",{className:"day-event-dot",style:{backgroundColor:e.color},title:e.title},e.id))})]})},t)})]})]}),(0,lh.jsxs)("div",{className:"events-sidebar",children:[(0,lh.jsxs)("div",{className:"sidebar-header",children:[(0,lh.jsx)("h3",{children:"Pr\xf3ximos Eventos"}),(0,lh.jsx)("button",{className:"add-event-btn",onClick:async()=>{if(!r)return void ec("Por favor selecciona una fecha primero");const e=await ic("Agregar Evento","T\xedtulo del evento","text");if(e.isConfirmed&&e.value){const t={id:Date.now(),date:r,title:e.value,time:"12:00 PM",color:["#1877f2","#f5576c","#f5a623","#42b72a"][Math.floor(4*Math.random())]};i([...a,t]),ec("\xa1Evento agregado exitosamente!")}},children:(0,lh.jsx)(e_,{fontSize:"small"})})]}),0===a.length?(0,lh.jsx)("p",{style:{textAlign:"center",color:"#65676b",padding:"20px"},children:"No hay eventos"}):a.map(e=>(0,lh.jsxs)("div",{className:"event-item",style:{borderLeftColor:e.color},children:[(0,lh.jsx)("div",{className:"event-date",children:e.date}),(0,lh.jsxs)("div",{className:"event-details",children:[(0,lh.jsx)("h4",{children:e.title}),(0,lh.jsx)("p",{children:e.time})]})]},e.id))]})]})]})},dN=()=>{const[t,n]=(0,e.useState)([{id:1,type:"Publicaci\xf3n",title:"Incre\xedble foto de atardecer",author:"John Doe",image:"https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=300&h=200&fit=crop"},{id:2,type:"P\xe1gina",title:"Fotograf\xeda de Viajes",author:"P\xe1gina de Viajes",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=300&h=200&fit=crop"},{id:3,type:"Publicaci\xf3n",title:"Deliciosa receta de comida",author:"Chef Mike",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=300&h=200&fit=crop"},{id:4,type:"Video",title:"Tutorial de ejercicios",author:"Fitness Pro",image:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=300&h=200&fit=crop"}]);return(0,lh.jsxs)("div",{className:"favorites-page",children:[(0,lh.jsxs)("div",{className:"favorites-header",children:[(0,lh.jsx)(P_,{className:"header-icon"}),(0,lh.jsx)("h1",{children:"Tus Favoritos"}),(0,lh.jsx)("p",{children:"Todas tus publicaciones, p\xe1ginas y contenido guardado en un solo lugar"})]}),(0,lh.jsx)("div",{className:"favorites-grid",children:0===t.length?(0,lh.jsxs)("div",{className:"no-favorites",children:[(0,lh.jsx)(P_,{style:{fontSize:80,color:"#65676b"}}),(0,lh.jsx)("h3",{children:"No tienes favoritos a\xfan"}),(0,lh.jsx)("p",{children:"Guarda publicaciones, p\xe1ginas y contenido que te guste"})]}):t.map(e=>(0,lh.jsxs)("div",{className:"favorite-card",children:[(0,lh.jsx)("img",{src:e.image,alt:e.title}),(0,lh.jsxs)("div",{className:"favorite-content",children:[(0,lh.jsx)("span",{className:"favorite-type",children:e.type}),(0,lh.jsx)("h3",{children:e.title}),(0,lh.jsx)("p",{children:e.author}),(0,lh.jsx)("button",{className:"remove-favorite-btn",onClick:()=>(async e=>{(await ac("Eliminar de Favoritos","\xbfEst\xe1s seguro de que quieres eliminar este elemento de tus favoritos?","S\xed, eliminar","Cancelar")).isConfirmed&&(n(t.filter(t=>t.id!==e)),ec("Eliminado de favoritos"))})(e.id),children:"Eliminar"})]})]},e.id))})]})},uN=ab((0,lh.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),hN=()=>{const[t,n]=(0,e.useState)([{id:1,action:"Le gust\xf3 una publicaci\xf3n",user:"John Doe",time:"hace 5 mins",image:"https://i.pravatar.cc/40?img=1",details:"Publicaci\xf3n sobre viajes"},{id:2,action:"Coment\xf3 en una foto",user:"Jane Smith",time:"hace 1 hora",image:"https://i.pravatar.cc/40?img=5",details:"Foto de cumplea\xf1os"},{id:3,action:"Comparti\xf3 un video",user:"Mike Johnson",time:"hace 3 horas",image:"https://i.pravatar.cc/40?img=12",details:"Video de recetas"},{id:4,action:"Agreg\xf3 un amigo",user:"Sarah Williams",time:"hace 5 horas",image:"https://i.pravatar.cc/40?img=9",details:"Nueva conexi\xf3n"},{id:5,action:"Actualiz\xf3 su foto de perfil",user:"Tom Brown",time:"hace 1 d\xeda",image:"https://i.pravatar.cc/40?img=13",details:"Nueva foto de perfil"},{id:6,action:"Se uni\xf3 a un grupo",user:"Emma Davis",time:"hace 2 d\xedas",image:"https://i.pravatar.cc/40?img=10",details:"Grupo de fotograf\xeda"}]),r=e=>{ec("".concat(e.action," - ").concat(e.details))};return(0,lh.jsxs)("div",{className:"history-page",children:[(0,lh.jsxs)("div",{className:"history-header",children:[(0,lh.jsx)(uN,{className:"header-icon"}),(0,lh.jsx)("h1",{children:"Historial de Actividad"}),(0,lh.jsx)("p",{children:"Tu actividad reciente en Vecino Activo"}),t.length>0&&(0,lh.jsxs)("button",{className:"clear-all-btn",onClick:async()=>{(await ac("\xbfLimpiar todo el historial?","Se eliminar\xe1n todos los elementos del historial","Limpiar Todo","Cancelar")).isConfirmed&&(n([]),ec("Historial limpiado completamente"))},children:[(0,lh.jsx)(gb,{fontSize:"small"})," Limpiar Todo"]})]}),(0,lh.jsx)("div",{className:"history-list",children:0===t.length?(0,lh.jsxs)("div",{className:"empty-history",children:[(0,lh.jsx)(uN,{style:{fontSize:80,color:"#65676b"}}),(0,lh.jsx)("h3",{children:"No hay historial"}),(0,lh.jsx)("p",{children:"Tu actividad aparecer\xe1 aqu\xed"})]}):t.map(e=>(0,lh.jsxs)("div",{className:"history-item",children:[(0,lh.jsx)("img",{src:e.image,alt:e.user}),(0,lh.jsxs)("div",{className:"history-content",onClick:()=>r(e),style:{cursor:"pointer"},children:[(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:e.action})," por ",e.user]}),(0,lh.jsx)("span",{children:e.time})]}),(0,lh.jsxs)("div",{className:"history-actions",children:[(0,lh.jsx)("button",{className:"action-btn view-btn",onClick:()=>r(e),title:"Ver detalles",children:(0,lh.jsx)(ow,{fontSize:"small"})}),(0,lh.jsx)("button",{className:"action-btn delete-btn",onClick:()=>(async e=>{(await ac("\xbfEliminar del historial?","Esta acci\xf3n no se puede deshacer","Eliminar","Cancelar")).isConfirmed&&(n(t.filter(t=>t.id!==e)),ec("Elemento eliminado del historial"))})(e.id),title:"Eliminar",children:(0,lh.jsx)(gb,{fontSize:"small"})})]})]},e.id))})]})},pN=ab((0,lh.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),mN=[{value:.5,label:"500m"},{value:1,label:"1 km"},{value:2,label:"2 km"},{value:5,label:"5 km"},{value:10,label:"10 km"},{value:20,label:"20 km"},{value:50,label:"50 km"}],fN=()=>{const t=ou(),{user:n,updateUserProfile:r,isAuthenticated:s}=lp();(0,e.useEffect)(()=>{s||t("/iniciar-sesion")},[s,t]);const[a,i]=(0,e.useState)(1),[o,l]=(0,e.useState)({address:"",addressNumber:"",neighborhoodId:null,neighborhoodName:"",neighborhoodCode:"",latitude:null,longitude:null,maxDistance:5}),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(!1),p=[{number:1,title:"Tu Direcci\xf3n",description:"Encuentra tu vecindario",icon:(0,lh.jsx)(ib,{})},{number:2,title:"Preferencias",description:"Personaliza tu experiencia",icon:(0,lh.jsx)(pN,{})},{number:3,title:"\xa1Listo!",description:"Completa tu perfil",icon:(0,lh.jsx)(cx,{})}],m=async()=>{h(!0);try{const e=z(z(z({},n),o),{},{profileComplete:!0,needsOnboarding:!1,onboardingCompletedAt:(new Date).toISOString()});r(e).success?(ec("\xa1Perfil completado! Bienvenido a Vecino Activo"),t("/app")):d("Error al completar el perfil. Intenta de nuevo.")}catch(e){d("Error al completar el perfil. Intenta de nuevo.")}finally{h(!1)}},f=e=>{l(z(z({},o),e))};return s?(0,lh.jsx)("div",{className:"onboarding-page",children:(0,lh.jsxs)("div",{className:"onboarding-container",children:[(0,lh.jsxs)("div",{className:"onboarding-header",children:[(0,lh.jsx)("div",{className:"progress-bar",children:(0,lh.jsx)("div",{className:"progress-fill",style:{width:"".concat(a/p.length*100,"%")}})}),(0,lh.jsxs)("div",{className:"progress-text",children:["Paso ",a," de ",p.length]})]}),(0,lh.jsxs)("div",{className:"onboarding-content",children:[c&&(0,lh.jsx)("div",{className:"error-message",children:(0,lh.jsx)("span",{children:c})}),(()=>{var e;switch(a){case 1:return(0,lh.jsxs)("div",{className:"onboarding-step",children:[(0,lh.jsxs)("div",{className:"step-header",children:[(0,lh.jsx)("div",{className:"step-icon",children:(0,lh.jsx)(ib,{})}),(0,lh.jsx)("h2",{className:"step-title",children:"\xbfD\xf3nde vives?"}),(0,lh.jsx)("p",{className:"step-description",children:"Ay\xfadanos a encontrar tu vecindario para conectarte con personas cercanas"})]}),(0,lh.jsxs)("div",{className:"step-form",children:[(0,lh.jsxs)("div",{className:"form-row",children:[(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"text",name:"address",placeholder:"Calle (Ej: Avenida Providencia)",value:o.address,onChange:e=>l(z(z({},o),{},{address:e.target.value})),required:!0,className:"input-field"}),(0,lh.jsx)(ib,{className:"input-icon"})]}),(0,lh.jsxs)("div",{className:"input-group",children:[(0,lh.jsx)("input",{type:"text",name:"addressNumber",placeholder:"N\xfamero",value:o.addressNumber,onChange:e=>l(z(z({},o),{},{addressNumber:e.target.value})),required:!0,className:"input-field"}),(0,lh.jsx)(x_,{className:"input-icon"})]})]}),(0,lh.jsx)(f_,{onSelect:f,selectedNeighborhood:o})]})]});case 2:return(0,lh.jsxs)("div",{className:"onboarding-step",children:[(0,lh.jsxs)("div",{className:"step-header",children:[(0,lh.jsx)("div",{className:"step-icon",children:(0,lh.jsx)(pN,{})}),(0,lh.jsx)("h2",{className:"step-title",children:"Personaliza tu experiencia"}),(0,lh.jsx)("p",{className:"step-description",children:"\xbfQu\xe9 distancia te interesa para conocer vecinos?"})]}),(0,lh.jsxs)("div",{className:"step-form",children:[(0,lh.jsx)("div",{className:"distance-selector",children:mN.map(e=>(0,lh.jsx)("button",{type:"button",className:"distance-option ".concat(o.maxDistance===e.value?"active":""),onClick:()=>l(z(z({},o),{},{maxDistance:e.value})),children:e.label},e.value))}),(0,lh.jsx)("p",{className:"distance-help",children:"\ud83d\udca1 Esto determinar\xe1 qu\xe9 vecinos ver\xe1s en tus sugerencias de amistad"})]})]});case 3:return(0,lh.jsxs)("div",{className:"onboarding-step",children:[(0,lh.jsxs)("div",{className:"step-header",children:[(0,lh.jsx)("div",{className:"step-icon success",children:(0,lh.jsx)(cx,{})}),(0,lh.jsx)("h2",{className:"step-title",children:"\xa1Todo listo!"}),(0,lh.jsx)("p",{className:"step-description",children:"Tu perfil est\xe1 completo. Ahora puedes comenzar a conectar con tu comunidad."})]}),(0,lh.jsxs)("div",{className:"completion-summary",children:[(0,lh.jsxs)("div",{className:"summary-item",children:[(0,lh.jsx)(ib,{className:"summary-icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Direcci\xf3n:"})," ",o.address," ",o.addressNumber]})]}),(0,lh.jsxs)("div",{className:"summary-item",children:[(0,lh.jsx)(x_,{className:"summary-icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Vecindario:"})," ",o.neighborhoodName]})]}),(0,lh.jsxs)("div",{className:"summary-item",children:[(0,lh.jsx)(pN,{className:"summary-icon"}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("strong",{children:"Distancia:"})," ",null===(e=mN.find(e=>e.value===o.maxDistance))||void 0===e?void 0:e.label]})]})]})]});default:return null}})()]}),(0,lh.jsxs)("div",{className:"onboarding-navigation",children:[(0,lh.jsxs)("button",{type:"button",className:"btn-back",onClick:()=>{d(""),i(a-1)},disabled:1===a,children:[(0,lh.jsx)(o_,{}),"Atr\xe1s"]}),(0,lh.jsxs)("button",{type:"button",className:3===a?"btn-complete":"btn-next",onClick:()=>{d(""),1!==a||o.address&&o.addressNumber&&o.neighborhoodId?3!==a?i(a+1):m():d("Por favor completa tu direcci\xf3n y selecciona tu unidad vecinal")},disabled:u,children:[u&&(0,lh.jsx)("div",{className:"loading-spinner"}),u?"Completando...":3===a?"Completar Perfil":"Siguiente",3!==a&&!u&&(0,lh.jsx)(dx,{})]})]})]})}):null},gN=()=>{const t=ou(),{user:n}=lp(),{friends:r}=Uh(),[s,a]=(0,e.useState)([]),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[d,u]=(0,e.useState)("all");(0,e.useEffect)(()=>{h()},[n]);const h=()=>{c(!0);try{const e=oh.getUsers(),t=e.filter(e=>e.id!==n.id&&e.neighborhoodId===n.neighborhoodId).sort((e,t)=>e.name.localeCompare(t.name));a(t),o(t),u("all")}catch(e){console.error("Error loading neighbors:",e)}finally{c(!1)}},p=e=>{u(e),((e,t)=>{let n=e;if("friends"===t){const t=r.map(e=>e.id);n=e.filter(e=>t.includes(e.id))}else if("non-friends"===t){const t=r.map(e=>e.id);n=e.filter(e=>!t.includes(e.id))}o(n)})(s,e)};return l?(0,lh.jsx)("div",{className:"discover-neighbors-page",children:(0,lh.jsx)("div",{className:"loading",children:"Cargando vecinos..."})}):(0,lh.jsxs)("div",{className:"discover-neighbors-page",children:[(0,lh.jsxs)("div",{className:"discover-header",children:[(0,lh.jsx)("h1",{children:"Descubre Vecinos"}),(0,lh.jsx)("p",{children:"Conoce a los vecinos de tu comunidad"})]}),(0,lh.jsxs)("div",{className:"filter-buttons",children:[(0,lh.jsxs)("div",{className:"filter-btn ".concat("all"===d?"active":""),onMouseDown:()=>p("all"),role:"button",tabIndex:"0","aria-pressed":"all"===d,"data-testid":"filter-all",style:{cursor:"pointer"},children:["Todos (",s.length,")"]}),(0,lh.jsxs)("div",{className:"filter-btn ".concat("friends"===d?"active":""),onMouseDown:()=>p("friends"),role:"button",tabIndex:"0","aria-pressed":"friends"===d,"data-testid":"filter-friends",style:{cursor:"pointer"},children:["Amigos (",r.length,")"]}),(0,lh.jsxs)("div",{className:"filter-btn ".concat("non-friends"===d?"active":""),onMouseDown:()=>p("non-friends"),role:"button",tabIndex:"0","aria-pressed":"non-friends"===d,"data-testid":"filter-non-friends",style:{cursor:"pointer"},children:["No amigos (",s.length-r.length,")"]})]}),(0,lh.jsx)("div",{className:"neighbors-grid",children:i.length>0?i.map(e=>(0,lh.jsxs)("div",{className:"neighbor-card",onClick:()=>(e=>{t("/".concat(e.username))})(e),style:{cursor:"pointer"},children:[(0,lh.jsx)("div",{className:"neighbor-avatar-large",children:(0,lh.jsx)("img",{src:e.avatar,alt:e.name})}),(0,lh.jsx)("h3",{children:e.name}),(0,lh.jsxs)("p",{className:"neighbor-username",children:["@",e.username]}),e.bio&&(0,lh.jsx)("p",{className:"neighbor-bio",children:e.bio})]},e.id)):(0,lh.jsx)("div",{className:"no-neighbors",children:(0,lh.jsxs)("p",{children:["friends"===d&&"No tienes amigos en tu comunidad","non-friends"===d&&"No hay vecinos sin ser amigos","all"===d&&"No hay vecinos en tu comunidad"]})})})]})},vN=t=>{let{need:n,onClose:r,onSuccess:s}=t;const{user:a}=lp(),{respondToNeed:i}=zp(),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(!1);return(0,lh.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,lh.jsxs)("div",{className:"modal-content respond-modal",onClick:e=>e.stopPropagation(),children:[(0,lh.jsxs)("div",{className:"modal-header",children:[(0,lh.jsx)("h2",{children:"Responder a Necesidad"}),(0,lh.jsx)("button",{className:"close-btn",onClick:r,children:(0,lh.jsx)(fb,{})})]}),(0,lh.jsxs)("div",{className:"need-preview",children:[(0,lh.jsx)("h3",{children:n.title}),(0,lh.jsx)("p",{children:n.description})]}),(0,lh.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()){d(!0);try{const e=i(n.id,a.id,o);e.success?(ec("\xa1Respuesta enviada! El creador ser\xe1 notificado"),s()):tc(e.error||"Error al enviar respuesta")}catch(t){tc("Error al enviar respuesta"),console.error(t)}finally{d(!1)}}else tc("Por favor escribe un mensaje")},className:"respond-form",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Tu Mensaje"}),(0,lh.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),placeholder:"Cu\xe9ntale c\xf3mo puedes ayudar o qu\xe9 tienes para ofrecer...",className:"form-input textarea",rows:"5",maxLength:"500",disabled:c}),(0,lh.jsxs)("span",{className:"char-count",children:[o.length,"/500"]})]}),(0,lh.jsx)("div",{className:"form-info",children:(0,lh.jsxs)("p",{children:["\ud83d\udca1 ",(0,lh.jsx)("strong",{children:"Consejo:"})," S\xe9 espec\xedfico sobre c\xf3mo puedes ayudar. Incluye tu disponibilidad y forma de contacto si es necesario."]})}),(0,lh.jsxs)("div",{className:"form-actions",children:[(0,lh.jsx)("button",{type:"button",className:"cancel-btn",onClick:r,disabled:c,children:"Cancelar"}),(0,lh.jsx)("button",{type:"submit",className:"submit-btn",disabled:c||!o.trim(),children:c?"Enviando...":"Enviar Respuesta"})]})]})]})})},yN=t=>{let{need:n,userLocation:r}=t;const{user:s}=lp(),{respondToNeed:a}=zp(),{calculateDistance:i}=Tp(),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null);e.useEffect(()=>{const e=oh.getUser(n.userId);d(e)},[n.userId]);const u=n.userId===s.id,h=n.responses.some(e=>e.userId===s.id);return(0,lh.jsxs)(lh.Fragment,{children:[(0,lh.jsxs)("div",{className:"need-card",children:[(0,lh.jsxs)("div",{className:"need-header",children:[(0,lh.jsxs)("div",{className:"need-type",children:[(0,lh.jsx)("span",{className:"type-icon",children:(m=n.type,{help_request:"\ud83c\udd98",resource_needed:"\ud83d\udce6",skill_sought:"\ud83c\udfaf"}[m]||"\ud83d\udccc")}),(0,lh.jsx)("span",{className:"type-label",children:(e=>({help_request:"Solicitud de Ayuda",resource_needed:"Recurso Necesario",skill_sought:"Habilidad Buscada"}[e]||e))(n.type)})]}),(0,lh.jsx)("div",{className:"urgency-badge ".concat((p=n.urgency,"urgency-".concat(p))),children:(e=>({critical:"Cr\xedtica",high:"Alta",medium:"Media",low:"Baja"}[e]||e))(n.urgency)})]}),(0,lh.jsx)("h3",{className:"need-title",children:n.title}),(0,lh.jsx)("p",{className:"need-description",children:n.description}),n.requiredSkills&&n.requiredSkills.length>0&&(0,lh.jsxs)("div",{className:"required-skills",children:[(0,lh.jsx)("p",{className:"skills-label",children:"Habilidades requeridas:"}),(0,lh.jsx)("div",{className:"skills-list",children:n.requiredSkills.map(e=>(0,lh.jsx)("span",{className:"skill-badge",children:e},e))})]}),(0,lh.jsxs)("div",{className:"need-meta",children:[(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(hb,{className:"meta-icon"}),(0,lh.jsx)("span",{children:(()=>{const e=i(r.latitude,r.longitude,n.location.latitude,n.location.longitude);return e<1e3?"".concat(Math.round(e),"m"):"".concat((e/1e3).toFixed(1),"km")})()})]}),(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(jj,{className:"meta-icon"}),(0,lh.jsx)("span",{children:(e=>{const t=new Date,n=new Date(e),r=t-n,s=Math.floor(r/6e4),a=Math.floor(r/36e5),i=Math.floor(r/864e5);return s<60?"hace ".concat(s,"m"):a<24?"hace ".concat(a,"h"):i<7?"hace ".concat(i,"d"):n.toLocaleDateString()})(n.createdAt)})]}),n.responses.length>0&&(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(wb,{className:"meta-icon"}),(0,lh.jsxs)("span",{children:[n.responses.length," respuesta",1!==n.responses.length?"s":""]})]})]}),c&&(0,lh.jsxs)("div",{className:"need-creator",children:[(0,lh.jsx)("img",{src:c.avatar,alt:c.name,className:"creator-avatar"}),(0,lh.jsxs)("div",{className:"creator-info",children:[(0,lh.jsx)("p",{className:"creator-name",children:c.name}),(0,lh.jsx)("p",{className:"creator-location",children:c.neighborhoodName})]})]}),(0,lh.jsx)("div",{className:"need-actions",children:u?(0,lh.jsx)("button",{className:"action-btn creator-btn",disabled:!0,children:"Tu Necesidad"}):h?(0,lh.jsx)("button",{className:"action-btn responded-btn",disabled:!0,children:"Ya Respondiste"}):(0,lh.jsx)("button",{className:"action-btn respond-btn",onClick:()=>l(!0),children:"Responder"})})]}),o&&(0,lh.jsx)(vN,{need:n,onClose:()=>l(!1),onSuccess:()=>{l(!1)}})]});var p,m},bN=t=>{let{action:n,userLocation:r}=t;const{user:s}=lp(),{joinAction:a,leaveAction:i}=Vp(),{calculateDistance:o}=Tp(),[l,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(n.participants.some(e=>e.userId===s.id)),[h,p]=(0,e.useState)(n.waitlist.some(e=>e.userId===s.id));e.useEffect(()=>{const e=oh.getUser(n.organizerId);c(e)},[n.organizerId]);const m=n.participantLimit&&n.participants.length>=n.participantLimit,f=n.organizerId===s.id;return(0,lh.jsxs)("div",{className:"action-card",children:[(0,lh.jsxs)("div",{className:"action-header",children:[(0,lh.jsxs)("div",{className:"action-title-section",children:[(0,lh.jsx)("h3",{className:"action-title",children:n.title}),(0,lh.jsx)("p",{className:"action-description",children:n.description})]}),(0,lh.jsxs)("div",{className:"action-status ".concat(n.status),children:["planned"===n.status&&"\ud83d\udcc5 Planificada","in_progress"===n.status&&"\ud83d\udd04 En Progreso","completed"===n.status&&"\u2705 Completada","cancelled"===n.status&&"\u274c Cancelada"]})]}),n.requiredSkills&&n.requiredSkills.length>0&&(0,lh.jsxs)("div",{className:"required-skills",children:[(0,lh.jsx)("p",{className:"skills-label",children:"Habilidades requeridas:"}),(0,lh.jsx)("div",{className:"skills-list",children:n.requiredSkills.map(e=>(0,lh.jsx)("span",{className:"skill-badge",children:e},e))})]}),(0,lh.jsxs)("div",{className:"action-meta",children:[(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(Rb,{className:"meta-icon"}),(0,lh.jsx)("span",{children:(g=n.startDate,new Date(g).toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(hb,{className:"meta-icon"}),(0,lh.jsxs)("span",{children:[n.location.name," (",(()=>{const e=o(r.latitude,r.longitude,n.location.latitude,n.location.longitude);return e<1e3?"".concat(Math.round(e),"m"):"".concat((e/1e3).toFixed(1),"km")})(),")"]})]}),(0,lh.jsxs)("div",{className:"meta-item",children:[(0,lh.jsx)(Nj,{className:"meta-icon"}),(0,lh.jsxs)("span",{children:[n.participants.length,n.participantLimit?"/".concat(n.participantLimit):""," participantes"]})]})]}),n.waitlist.length>0&&(0,lh.jsx)("div",{className:"waitlist-info",children:(0,lh.jsxs)("span",{className:"waitlist-badge",children:[n.waitlist.length," en lista de espera"]})}),l&&(0,lh.jsxs)("div",{className:"action-organizer",children:[(0,lh.jsx)("img",{src:l.avatar,alt:l.name,className:"organizer-avatar"}),(0,lh.jsxs)("div",{className:"organizer-info",children:[(0,lh.jsx)("p",{className:"organizer-label",children:"Organizado por"}),(0,lh.jsx)("p",{className:"organizer-name",children:l.name})]})]}),(0,lh.jsx)("div",{className:"action-actions",children:f?(0,lh.jsx)("button",{className:"action-btn organizer-btn",disabled:!0,children:"Eres el Organizador"}):d?(0,lh.jsx)("button",{className:"action-btn joined-btn ".concat(h?"waitlisted":""),onClick:()=>{i(n.id,s.id).success&&(u(!1),p(!1))},children:h?"\u23f3 En Lista de Espera":"\u2713 Participando"}):(0,lh.jsx)("button",{className:"action-btn join-btn ".concat(m?"full":""),onClick:()=>{const e=a(n.id,s.id);e.success&&(u(!0),e.action.waitlist.some(e=>e.userId===s.id)&&p(!0))},disabled:!1,children:m?"\u23f3 Unirse a Lista de Espera":"\ud83c\udfaf Unirse"})})]});var g};const xN=new class{constructor(){this.CONTENT_WEIGHTS={need:1,action:.8,update:.5,service:.3},this.URGENCY_WEIGHTS={critical:4,high:3,medium:2,low:1}}calculateRelevance(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const r=this.CONTENT_WEIGHTS[e.type]||.5,s=this.URGENCY_WEIGHTS[e.urgency]||1,a=this.calculateDistance(t.latitude,t.longitude,e.location.latitude,e.location.longitude)/1e3,i=(n-new Date(e.createdAt))/36e5;return r*s/(Math.pow(a+1,2)*(i+1))}calculateDistance(e,t,n,r){const s=(n-e)*Math.PI/180,a=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371e3*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}generateFeed(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20;return[...e.map(e=>z(z({},e),{},{type:"need",urgency:e.urgency,location:e.location,createdAt:e.createdAt})),...t.map(e=>z(z({},e),{},{type:"action",urgency:"medium",location:e.location,createdAt:e.createdAt})),...n.map(e=>z(z({},e),{},{type:"update",urgency:"low",location:e.location,createdAt:e.createdAt})),...r.map(e=>z(z({},e),{},{type:"service",urgency:"low",location:e.location,createdAt:e.createdAt}))].map(e=>z(z({},e),{},{relevance:this.calculateRelevance(e,s)})).sort((e,t)=>t.relevance-e.relevance).slice(0,a)}filterFeedByType(e,t){return t&&0!==t.length?e.filter(e=>t.includes(e.type)):e}filterFeedByDistance(e,t,n){return e.filter(e=>this.calculateDistance(t.latitude,t.longitude,e.location.latitude,e.location.longitude)/1e3<=n)}filterFeedByDate(e,t){const n=new Date;return e.filter(e=>{const r=new Date(e.createdAt);return(n-r)/36e5<=t})}getFeedStats(e){const t={total:e.length,byType:{},byUrgency:{},averageRelevance:0};let n=0;return e.forEach(e=>{t.byType[e.type]=(t.byType[e.type]||0)+1,t.byUrgency[e.urgency]=(t.byUrgency[e.urgency]||0)+1,n+=e.relevance||0}),t.averageRelevance=e.length>0?n/e.length:0,t}},wN=()=>{const{user:t}=lp(),{needs:n,getNeighborhoodNeeds:r}=zp(),{actions:s,getNeighborhoodActions:a}=Vp(),[i,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[d,u]=(0,e.useState)(!0),[h,p]=(0,e.useState)(["need","action"]),[m,f]=(0,e.useState)(5),[g,v]=(0,e.useState)(!1);(0,e.useEffect)(()=>{y()},[n,s]),(0,e.useEffect)(()=>{b()},[i,h,m]);const y=()=>{u(!0);try{const e=r(t.neighborhoodId),n=a(t.neighborhoodId),s=xN.generateFeed(e,n,[],[],{latitude:t.latitude,longitude:t.longitude},50);o(s)}catch(e){console.error("Error generating feed:",e)}finally{u(!1)}},b=()=>{let e=i;e=xN.filterFeedByType(e,h),e=xN.filterFeedByDistance(e,{latitude:t.latitude,longitude:t.longitude},m),c(e)},x=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},w=xN.getFeedStats(i);return d?(0,lh.jsx)("div",{className:"feed-page",children:(0,lh.jsx)("div",{className:"loading",children:"Generando feed personalizado..."})}):(0,lh.jsxs)("div",{className:"feed-page",children:[(0,lh.jsxs)("div",{className:"feed-header",children:[(0,lh.jsx)("h1",{children:"Feed de Vecindario"}),(0,lh.jsx)("p",{children:"Contenido priorizado por relevancia, proximidad y urgencia"})]}),(0,lh.jsxs)("div",{className:"feed-controls",children:[(0,lh.jsxs)("button",{className:"filter-toggle",onClick:()=>v(!g),children:[(0,lh.jsx)(Oj,{}),"Filtros"]}),(0,lh.jsx)("div",{className:"feed-stats",children:(0,lh.jsxs)("span",{children:[l.length," items"]})})]}),g&&(0,lh.jsxs)("div",{className:"filters-panel",children:[(0,lh.jsxs)("div",{className:"filter-group",children:[(0,lh.jsx)("label",{children:"Tipos de Contenido"}),(0,lh.jsxs)("div",{className:"filter-options",children:[(0,lh.jsxs)("label",{className:"checkbox-option",children:[(0,lh.jsx)("input",{type:"checkbox",checked:h.includes("need"),onChange:()=>x("need")}),(0,lh.jsxs)("span",{children:["Necesidades Locales (",w.byType.need||0,")"]})]}),(0,lh.jsxs)("label",{className:"checkbox-option",children:[(0,lh.jsx)("input",{type:"checkbox",checked:h.includes("action"),onChange:()=>x("action")}),(0,lh.jsxs)("span",{children:["Acciones Comunitarias (",w.byType.action||0,")"]})]}),(0,lh.jsxs)("label",{className:"checkbox-option",children:[(0,lh.jsx)("input",{type:"checkbox",checked:h.includes("update"),onChange:()=>x("update")}),(0,lh.jsxs)("span",{children:["Actualizaciones (",w.byType.update||0,")"]})]}),(0,lh.jsxs)("label",{className:"checkbox-option",children:[(0,lh.jsx)("input",{type:"checkbox",checked:h.includes("service"),onChange:()=>x("service")}),(0,lh.jsxs)("span",{children:["Servicios (",w.byType.service||0,")"]})]})]})]}),(0,lh.jsxs)("div",{className:"filter-group",children:[(0,lh.jsxs)("label",{children:["Distancia M\xe1xima: ",m,"km"]}),(0,lh.jsx)("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:m,onChange:e=>f(parseFloat(e.target.value)),className:"distance-slider"})]}),(0,lh.jsx)("div",{className:"filter-stats",children:(0,lh.jsxs)("p",{children:[(0,lh.jsx)("strong",{children:"Relevancia Promedio:"})," ",w.averageRelevance.toFixed(2)]})})]}),(0,lh.jsx)("div",{className:"feed-list",children:l.length>0?l.map(e=>(0,lh.jsxs)("div",{className:"feed-item",children:["need"===e.type&&(0,lh.jsx)(yN,{need:e,userLocation:{latitude:t.latitude,longitude:t.longitude}}),"action"===e.type&&(0,lh.jsx)(bN,{action:e,userLocation:{latitude:t.latitude,longitude:t.longitude}})]},"".concat(e.type,"-").concat(e.id))):(0,lh.jsxs)("div",{className:"no-feed",children:[(0,lh.jsx)("p",{children:"No hay contenido disponible con estos filtros"}),(0,lh.jsx)("p",{className:"no-feed-desc",children:"Intenta cambiar los filtros o aumentar la distancia"})]})})]})},jN=e=>{let{conversations:t,selectedConversation:n,onSelectConversation:r,currentUserId:s}=e;const a=e=>{const t=new Date(e),n=new Date-t,r=Math.floor(n/6e4),s=Math.floor(n/36e5),a=Math.floor(n/864e5);return r<60?"hace ".concat(r,"m"):s<24?"hace ".concat(s,"h"):a<7?"hace ".concat(a,"d"):t.toLocaleDateString()},i=e=>{if(!e)return"Sin mensajes";return(e.senderId===s?"T\xfa: ":"")+e.content.substring(0,40)+(e.content.length>40?"...":"")};return 0===t.length?(0,lh.jsx)("div",{className:"conversation-list empty",children:(0,lh.jsx)("p",{children:"No hay conversaciones"})}):(0,lh.jsx)("div",{className:"conversation-list",children:t.map(e=>{var t,o,l,c,d,u;return(0,lh.jsxs)("div",{className:"conversation-item ".concat((null===n||void 0===n?void 0:n.id)===e.id?"active":""),onClick:()=>r(e),children:[(0,lh.jsx)("img",{src:null===(t=e.otherUser)||void 0===t?void 0:t.avatar,alt:null===(o=e.otherUser)||void 0===o?void 0:o.name,className:"conversation-avatar"}),(0,lh.jsxs)("div",{className:"conversation-info",children:[(0,lh.jsx)("h4",{className:"conversation-name",children:null===(l=e.otherUser)||void 0===l?void 0:l.name}),(0,lh.jsx)("p",{className:"conversation-preview",children:i(e.lastMessage)})]}),(0,lh.jsxs)("div",{className:"conversation-meta",children:[(0,lh.jsx)("span",{className:"conversation-time",children:a(null===(c=e.lastMessage)||void 0===c?void 0:c.timestamp)}),!(null!==(d=e.lastMessage)&&void 0!==d&&d.read)&&(null===(u=e.lastMessage)||void 0===u?void 0:u.recipientId)===s&&(0,lh.jsx)("div",{className:"unread-dot"})]})]},e.id)})})},_N=t=>{let{conversation:n,currentUserId:r}=t;const{sendMessage:s,getConversation:a,markConversationAsRead:i}=$p(),[o,l]=(0,e.useState)([]),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(!0),p=(0,e.useRef)(null),m=n.user1Id===r?n.user2Id:n.user1Id,f=oh.getUser(m);(0,e.useEffect)(()=>{g(),i(r,m)},[n]),(0,e.useEffect)(()=>{v()},[o]);const g=()=>{h(!0);const e=a(r,m);l(e),h(!1)},v=()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return u?(0,lh.jsx)("div",{className:"chat-window loading",children:"Cargando..."}):(0,lh.jsxs)("div",{className:"chat-window",children:[(0,lh.jsxs)("div",{className:"chat-header",children:[(0,lh.jsx)("img",{src:null===f||void 0===f?void 0:f.avatar,alt:null===f||void 0===f?void 0:f.name,className:"chat-avatar"}),(0,lh.jsxs)("div",{className:"chat-header-info",children:[(0,lh.jsx)("h3",{children:null===f||void 0===f?void 0:f.name}),(0,lh.jsx)("p",{className:"chat-status",children:"Activo ahora"})]})]}),(0,lh.jsxs)("div",{className:"messages-area",children:[0===o.length?(0,lh.jsx)("div",{className:"no-messages",children:(0,lh.jsx)("p",{children:"No hay mensajes a\xfan. \xa1Comienza la conversaci\xf3n!"})}):o.map(e=>(0,lh.jsx)("div",{className:"message ".concat(e.senderId===r?"sent":"received"),children:(0,lh.jsxs)("div",{className:"message-content",children:[(0,lh.jsx)("p",{children:e.content}),(0,lh.jsx)("span",{className:"message-time",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),(0,lh.jsx)("div",{ref:p})]}),(0,lh.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!c.trim())return;s(r,m,c).success&&(d(""),g())},className:"message-input-form",children:[(0,lh.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Escribe un mensaje...",className:"message-input"}),(0,lh.jsx)("button",{type:"submit",className:"send-btn",disabled:!c.trim(),children:(0,lh.jsx)(Kw,{})})]})]})},NN=()=>{const{user:t}=lp(),{conversations:n,getUnreadCount:r}=$p(),{getAcceptedConnections:s}=(()=>{const t=(0,e.useContext)(Rp);if(!t)throw new Error("useConnections must be used within a ConnectionsProvider");return t})(),[a,i]=(0,e.useState)(null),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(!0);(0,e.useEffect)(()=>{p(),h(!1)},[n,o]);const p=()=>{let e=n.map(e=>{const n=e.user1Id===t.id?e.user2Id:e.user1Id,r=oh.getUser(n);return z(z({},e),{},{otherUser:r})});o.trim()&&(e=e.filter(e=>{var t;return null===(t=e.otherUser)||void 0===t?void 0:t.name.toLowerCase().includes(o.toLowerCase())})),d(e)},m=r(t.id);return u?(0,lh.jsx)("div",{className:"direct-messages-page",children:(0,lh.jsx)("div",{className:"loading",children:"Cargando mensajes..."})}):(0,lh.jsx)("div",{className:"direct-messages-page",children:(0,lh.jsxs)("div",{className:"messages-container",children:[(0,lh.jsxs)("div",{className:"conversations-panel",children:[(0,lh.jsxs)("div",{className:"panel-header",children:[(0,lh.jsx)("h2",{children:"Mensajes"}),m>0&&(0,lh.jsx)("span",{className:"unread-badge",children:m})]}),(0,lh.jsxs)("div",{className:"search-box",children:[(0,lh.jsx)(kb,{className:"search-icon"}),(0,lh.jsx)("input",{type:"text",placeholder:"Buscar conversaci\xf3n...",value:o,onChange:e=>l(e.target.value),className:"search-input"})]}),(0,lh.jsx)(jN,{conversations:c,selectedConversation:a,onSelectConversation:e=>{i(e)},currentUserId:t.id})]}),(0,lh.jsx)("div",{className:"chat-panel",children:a?(0,lh.jsx)(_N,{conversation:a,currentUserId:t.id}):(0,lh.jsx)("div",{className:"no-conversation",children:(0,lh.jsx)("p",{children:"Selecciona una conversaci\xf3n para comenzar"})})})]})})};const SN=new class{async uploadImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const r=e.name.split(".").pop(),s="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(r),a=n?"".concat(n,"/").concat(s):s,{data:i,error:o}=await oi.storage.from(t).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:l}=oi.storage.from(t).getPublicUrl(a);return{path:i.path,url:l.publicUrl}}catch(r){throw console.error("Error uploading image:",r),r}}async uploadMultipleImages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const r=e.map(e=>this.uploadImage(e,t,n));return await Promise.all(r)}catch(r){throw console.error("Error uploading multiple images:",r),r}}async deleteImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images";try{const{error:n}=await oi.storage.from(t).remove([e]);if(n)throw n;return!0}catch(n){throw console.error("Error deleting image:",n),n}}async deleteMultipleImages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images";try{const{error:n}=await oi.storage.from(t).remove(e);if(n)throw n;return!0}catch(n){throw console.error("Error deleting multiple images:",n),n}}getPublicUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images";const{data:n}=oi.storage.from(t).getPublicUrl(e);return n.publicUrl}async listFiles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images";try{const{data:n,error:r}=await oi.storage.from(t).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return n}catch(n){throw console.error("Error listing files:",n),n}}},CN=()=>{var t;const n=N(e=>e.auth.user),r={id:"test-user-"+Date.now(),email:"test@vecinoactivo.cl",name:"Usuario de Prueba"},s=n||r,[a,i]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[p,m]=(0,e.useState)("avatars"),f=[{id:"avatars",name:"Avatars",maxSize:"2MB"},{id:"posts",name:"Posts",maxSize:"5MB"},{id:"events",name:"Events",maxSize:"5MB"},{id:"businesses",name:"Businesses",maxSize:"3MB"},{id:"projects",name:"Projects",maxSize:"5MB"},{id:"resources",name:"Resources",maxSize:"3MB"},{id:"albums",name:"Albums",maxSize:"10MB"}];return(0,lh.jsxs)("div",{className:"storage-test",children:[(0,lh.jsxs)("div",{className:"storage-test-header",children:[(0,lh.jsx)("h2",{children:"\ud83e\uddea Test de Storage"}),(0,lh.jsx)("p",{children:"Prueba el upload de im\xe1genes a Supabase Storage"})]}),(0,lh.jsxs)("div",{className:"storage-test-content",children:[(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Bucket:"}),(0,lh.jsx)("select",{value:p,onChange:e=>m(e.target.value),disabled:o,children:f.map(e=>(0,lh.jsxs)("option",{value:e.id,children:[e.name," (Max: ",e.maxSize,")"]},e.id))})]}),(0,lh.jsxs)("div",{className:"form-group",children:[(0,lh.jsx)("label",{children:"Seleccionar Imagen:"}),(0,lh.jsx)("input",{id:"file-input",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void h("Por favor selecciona una imagen");const e={avatars:2097152,posts:5242880,events:5242880,businesses:3145728,projects:5242880,resources:3145728,albums:10485760};if(t.size>e[p])return void h("El archivo es muy grande. M\xe1ximo: ".concat(f.find(e=>e.id===p).maxSize));i(t),h(""),d("")}},disabled:o}),a&&(0,lh.jsxs)("div",{className:"file-info",children:[(0,lh.jsxs)("p",{children:["\ud83d\udcc4 ",a.name]}),(0,lh.jsxs)("p",{children:["\ud83d\udcca ",(a.size/1024).toFixed(2)," KB"]})]})]}),(0,lh.jsx)("button",{onClick:async()=>{if(a)if(s){l(!0),h("");try{let e="";switch(p){case"avatars":default:e=n.id;break;case"posts":e="".concat(n.id,"/").concat(Date.now());break;case"events":case"projects":case"resources":case"albums":e="test-".concat(Date.now());break;case"businesses":e="test-".concat(Date.now(),"/logo")}const t=await SN.uploadImage(a,p,e);d(t.url),i(null),document.getElementById("file-input").value="",console.log("Upload exitoso:",t)}catch(e){console.error("Error uploading:",e),h(e.message||"Error al subir el archivo")}finally{l(!1)}}else h("Debes estar autenticado para subir archivos");else h("Por favor selecciona un archivo")},disabled:!a||o,className:"upload-button",children:o?"\u23f3 Subiendo...":"\ud83d\udce4 Subir Imagen"}),u&&(0,lh.jsxs)("div",{className:"error-message",children:["\u274c ",u]}),c&&(0,lh.jsxs)("div",{className:"upload-result",children:[(0,lh.jsx)("h3",{children:"\u2705 Upload Exitoso!"}),(0,lh.jsx)("div",{className:"uploaded-image",children:(0,lh.jsx)("img",{src:c,alt:"Uploaded"})}),(0,lh.jsxs)("div",{className:"url-info",children:[(0,lh.jsx)("p",{children:(0,lh.jsx)("strong",{children:"URL:"})}),(0,lh.jsx)("input",{type:"text",value:c,readOnly:!0,onClick:e=>e.target.select()}),(0,lh.jsx)("button",{onClick:()=>navigator.clipboard.writeText(c),children:"\ud83d\udccb Copiar URL"})]}),(0,lh.jsx)("button",{onClick:async()=>{if(c)try{const e=c.split("/"),t=e.findIndex(e=>"object"===e),n=e.slice(t+2).join("/");await SN.deleteImage(n,p),d(""),alert("Imagen eliminada correctamente")}catch(e){console.error("Error deleting:",e),h(e.message||"Error al eliminar el archivo")}},className:"delete-button",children:"\ud83d\uddd1\ufe0f Eliminar Imagen"})]}),(0,lh.jsxs)("div",{className:"info-box",children:[(0,lh.jsx)("h4",{children:"\u2139\ufe0f Informaci\xf3n"}),(0,lh.jsxs)("ul",{children:[(0,lh.jsxs)("li",{children:["Usuario: ",n?n.email:"No autenticado"]}),(0,lh.jsxs)("li",{children:["Bucket seleccionado: ",p]}),(0,lh.jsxs)("li",{children:["Tipos permitidos: JPG, PNG, WebP","posts"===p?", GIF":""]}),(0,lh.jsxs)("li",{children:["Tama\xf1o m\xe1ximo: ",null===(t=f.find(e=>e.id===p))||void 0===t?void 0:t.maxSize]})]})]})]})]})},kN=e=>{let{children:t}=e;const n=N(Mu);return N(zu)?(0,lh.jsx)("div",{className:"loading-screen",children:"Loading..."}):n?t:(0,lh.jsx)(ju,{to:"/iniciar-sesion",replace:!0})};const EN=function(){return console.log("\u2705 App component rendering"),(0,lh.jsx)(Au,{children:(0,lh.jsx)(ix,{children:(0,lh.jsxs)(ox,{children:[(0,lh.jsx)(ax,{}),(0,lh.jsxs)(Su,{children:[(0,lh.jsx)(_u,{path:"/",element:(0,lh.jsx)(mw,{})}),(0,lh.jsx)(_u,{path:"/iniciar-sesion",element:(0,lh.jsx)(p_,{})}),(0,lh.jsx)(_u,{path:"/registrarse",element:(0,lh.jsx)(wh,{children:(0,lh.jsx)(w_,{})})}),(0,lh.jsx)(_u,{path:"/registro-simple",element:(0,lh.jsx)(j_,{})}),(0,lh.jsx)(_u,{path:"/recuperar-contrasena",element:(0,lh.jsx)(c_,{})}),(0,lh.jsx)(_u,{path:"/storage-test",element:(0,lh.jsx)(kN,{children:(0,lh.jsx)(CN,{})})}),(0,lh.jsx)(_u,{path:"/app/*",element:(0,lh.jsx)(kN,{children:(0,lh.jsx)(uh,{children:(0,lh.jsx)(ph,{children:(0,lh.jsx)(fh,{children:(0,lh.jsx)(yh,{children:(0,lh.jsx)(wh,{children:(0,lh.jsx)(_h,{children:(0,lh.jsx)(Sh,{children:(0,lh.jsx)(Ep,{children:(0,lh.jsx)(up,{children:(0,lh.jsx)(pp,{children:(0,lh.jsx)(Fh,{children:(0,lh.jsx)(Xh,{children:(0,lh.jsx)(op,{children:(0,lh.jsx)(gp,{children:(0,lh.jsx)(yp,{children:(0,lh.jsx)(wp,{children:(0,lh.jsx)(_p,{children:(0,lh.jsx)(Sp,{children:(0,lh.jsx)(Ip,{children:(0,lh.jsx)(Op,{children:(0,lh.jsx)(om,{children:(0,lh.jsx)(Lp,{children:(0,lh.jsx)(Dp,{children:(0,lh.jsx)(Up,{children:(0,lh.jsx)(Yp,{children:(0,lh.jsx)(Qp,{children:(0,lh.jsx)(ex,{children:(0,lh.jsxs)(Su,{children:[(0,lh.jsx)(_u,{path:"/",element:(0,lh.jsx)(dj,{})}),(0,lh.jsx)(_u,{path:"/onboarding",element:(0,lh.jsx)(fN,{})}),(0,lh.jsx)(_u,{path:"/descubrir-vecinos",element:(0,lh.jsx)(gN,{})}),(0,lh.jsx)(_u,{path:"/feed",element:(0,lh.jsx)(wN,{})}),(0,lh.jsx)(_u,{path:"/mensajes-directos",element:(0,lh.jsx)(NN,{})}),(0,lh.jsx)(_u,{path:"/mapa",element:(0,lh.jsx)(k_,{})}),(0,lh.jsx)(_u,{path:"/vecindario/:id",element:(0,lh.jsx)(A_,{})}),(0,lh.jsx)(_u,{path:"/hub-comunitario",element:(0,lh.jsx)(rN,{})}),(0,lh.jsx)(_u,{path:"/directorio",element:(0,lh.jsx)(ju,{to:"/app/hub-comunitario?tab=directorio",replace:!0})}),(0,lh.jsx)(_u,{path:"/votaciones",element:(0,lh.jsx)(ju,{to:"/app/hub-comunitario?tab=votaciones",replace:!0})}),(0,lh.jsx)(_u,{path:"/proyectos",element:(0,lh.jsx)(ju,{to:"/app/hub-comunitario?tab=proyectos",replace:!0})}),(0,lh.jsx)(_u,{path:"/comunidad",element:(0,lh.jsx)(Y_,{})}),(0,lh.jsx)(_u,{path:"/proyecto/:slug",element:(0,lh.jsx)(lN,{})}),(0,lh.jsx)(_u,{path:"/recursos-compartidos",element:(0,lh.jsx)(H_,{})}),(0,lh.jsx)(_u,{path:"/recursos/:slug",element:(0,lh.jsx)(lN,{})}),(0,lh.jsx)(_u,{path:"/negocios-locales",element:(0,lh.jsx)(K_,{})}),(0,lh.jsx)(_u,{path:"/calendario-comunitario",element:(0,lh.jsx)($_,{})}),(0,lh.jsx)(_u,{path:"/linea-tiempo",element:(0,lh.jsx)(wj,{})}),(0,lh.jsx)(_u,{path:"/acerca-de",element:(0,lh.jsx)(Rj,{})}),(0,lh.jsx)(_u,{path:"/vecinos",element:(0,lh.jsx)(Dj,{})}),(0,lh.jsx)(_u,{path:"/cumpleanos",element:(0,lh.jsx)(Bj,{})}),(0,lh.jsx)(_u,{path:"/configuracion",element:(0,lh.jsx)(qj,{})}),(0,lh.jsx)(_u,{path:"/mensajes",element:(0,lh.jsx)(Xj,{})}),(0,lh.jsx)(_u,{path:"/eventos",element:(0,lh.jsx)(i_,{})}),(0,lh.jsx)(_u,{path:"/grupo/:slug",element:(0,lh.jsx)(lN,{})}),(0,lh.jsx)(_u,{path:"/evento/:slug",element:(0,lh.jsx)(lN,{})}),(0,lh.jsx)(_u,{path:"/calendario",element:(0,lh.jsx)(cN,{})}),(0,lh.jsx)(_u,{path:"/favoritos",element:(0,lh.jsx)(dN,{})}),(0,lh.jsx)(_u,{path:"/historial",element:(0,lh.jsx)(hN,{})}),(0,lh.jsx)(_u,{path:"/ayuda",element:(0,lh.jsx)(Wj,{})}),(0,lh.jsx)(_u,{path:"/contacto",element:(0,lh.jsx)(Qj,{})}),(0,lh.jsx)(_u,{path:"/:username",element:(0,lh.jsx)(lN,{})})]})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})]})]})})})},PN="friendbook_backup",IN="friendbook_last_backup";const AN=new class{constructor(){this.initBackupSystem()}initBackupSystem(){this.createBackup(),setInterval(()=>{this.createBackup()},3e5),window.addEventListener("beforeunload",()=>{this.createBackup()}),this.checkAndRecover()}createBackup(){try{const e={};["users","currentUser","posts","friends","groups","events","conversations","stories","photos","notifications","messages"].forEach(t=>{const n=localStorage.getItem(t);n&&(e[t]=n)});const t={timestamp:Date.now(),data:e,version:"1.0.0"};localStorage.setItem(PN,JSON.stringify(t)),localStorage.setItem(IN,Date.now().toString()),console.log("\u2705 Backup creado exitosamente")}catch(e){console.error("\u274c Error al crear backup:",e)}}checkAndRecover(){try{const e=localStorage.getItem("currentUser");if(!e)return void console.log("\ud83d\udeaa No hay currentUser - probablemente logout, NO recuperar");const t=localStorage.getItem("users");e&&t||!this.hasBackup()||(console.log("\ud83d\udd04 Datos perdidos detectados, recuperando backup..."),this.restoreBackup())}catch(e){console.error("\u274c Error al verificar datos:",e)}}hasBackup(){return null!==localStorage.getItem(PN)}restoreBackup(){try{const e=localStorage.getItem(PN);if(!e)return console.log("\u26a0\ufe0f No hay backup disponible"),!1;const t=JSON.parse(e);return Object.keys(t.data).forEach(e=>{localStorage.setItem(e,t.data[e])}),console.log("\u2705 Datos restaurados desde backup"),!0}catch(e){return console.error("\u274c Error al restaurar backup:",e),!1}}exportData(){try{localStorage.getItem(PN)||this.createBackup();const e=localStorage.getItem(PN),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="friendbook_backup_".concat(Date.now(),".json"),r.click(),URL.revokeObjectURL(n),console.log("\u2705 Datos exportados exitosamente")}catch(e){console.error("\u274c Error al exportar datos:",e)}}importData(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{try{const r=JSON.parse(e.target.result);if(!r.data||!r.timestamp)return void n(new Error("Formato de backup inv\xe1lido"));Object.keys(r.data).forEach(e=>{localStorage.setItem(e,r.data[e])}),console.log("\u2705 Datos importados exitosamente"),t(!0)}catch(r){n(r)}},r.onerror=()=>n(new Error("Error al leer archivo")),r.readAsText(e)})}cleanOldBackups(){console.log("\ud83e\uddf9 Limpieza de backups completada")}clearForLogout(){console.log("\ud83d\udeaa Limpiando datos para logout..."),localStorage.setItem("friendbook_intentional_logout","true"),localStorage.removeItem(PN),localStorage.removeItem(IN),console.log("\u2705 Backups eliminados - logout preparado")}getBackupInfo(){try{const e=localStorage.getItem(PN),t=localStorage.getItem(IN);if(!e)return null;const n=JSON.parse(e);return{timestamp:n.timestamp,lastBackup:t?parseInt(t):null,version:n.version,size:new Blob([e]).size,keys:Object.keys(n.data)}}catch(e){return console.error("\u274c Error al obtener info del backup:",e),null}}};AN.initBackupSystem();r.createRoot(document.getElementById("root")).render((0,lh.jsx)(e.StrictMode,{children:(0,lh.jsx)(f,{store:ld,children:(0,lh.jsx)(A,{loading:null,persistor:cd,children:(0,lh.jsx)(EN,{})})})}))})()})();