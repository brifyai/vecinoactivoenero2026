â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš¨ DEPLOYMENT URGENTE - FIX BUCLE INFINITO                  â•‘
â•‘  Fecha: 28 Enero 2026 - 15:10                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… COMMIT Y PUSH COMPLETADOS
El fix ya estÃ¡ en GitHub: commit 7e85bef

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ OPCIÃ“N A - DEPLOYMENT AUTOMÃTICO (RECOMENDADO)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Conectar al servidor y ejecutar:

ssh usuario@tu-servidor.com
cd /var/www/vecino-activo
bash scripts/deployment/deploy-from-git.sh

Este script harÃ¡ automÃ¡ticamente:
âœ“ Backup del sitio actual
âœ“ Git pull del cÃ³digo actualizado
âœ“ npm install y build
âœ“ Copiar archivos a Nginx
âœ“ Recargar Nginx

Tiempo estimado: 3-5 minutos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ OPCIÃ“N B - DEPLOYMENT MANUAL CON TAR.GZ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Si prefieres usar el archivo tar.gz ya generado:

1. Subir al servidor:
   scp vecino-activo-fix-bucle-infinito-20260128-150705.tar.gz usuario@servidor:/tmp/

2. En el servidor:
   cd /usr/share/nginx/html
   sudo tar -xzf /tmp/vecino-activo-fix-bucle-infinito-20260128-150705.tar.gz
   sudo systemctl reload nginx

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”¥ DESPUÃ‰S DEL DEPLOYMENT (IMPORTANTE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. PURGAR CACHÃ‰ DE CLOUDFLARE:
   - Ir a: https://dash.cloudflare.com
   - Seleccionar dominio: vecinoactivo.cl
   - Caching â†’ Purge Cache â†’ Purge Everything
   - Confirmar

2. VERIFICAR EL FIX:
   - Abrir: https://vecinoactivo.cl/app/descubrir-vecinos
   - Abrir DevTools (F12) â†’ Console
   - Verificar que NO hay requests infinitos
   - Verificar que NO hay errores de "friendships"
   - Probar bÃºsqueda de vecinos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š RESUMEN DEL FIX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problema:
- Bucle infinito de requests en pÃ¡gina Descubrir Vecinos
- Error: tabla 'friendships' no existe en base de datos
- Tabla correcta: 'friends'

SoluciÃ³n:
- Archivo: src/services/supabaseFriendsService.js
- Cambios: 11 referencias de 'friendships' â†’ 'friends'
- Build: Completado exitosamente (0 errores)

Impacto:
- PÃ¡gina Descubrir Vecinos volverÃ¡ a funcionar
- Se detendrÃ¡n los requests infinitos
- MejorarÃ¡ rendimiento del servidor

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â“ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Si despuÃ©s del deployment aÃºn hay problemas:

1. Verificar que el cÃ³digo se actualizÃ³:
   cd /var/www/vecino-activo
   git log -1
   # Debe mostrar commit 7e85bef

2. Verificar que el build se copiÃ³:
   ls -lh /usr/share/nginx/html/static/js/main.*.js
   # Debe tener fecha/hora reciente

3. Limpiar cachÃ© del navegador:
   - Chrome: Ctrl+Shift+Delete
   - Seleccionar "Cached images and files"
   - Confirmar

4. Verificar logs de Nginx:
   sudo tail -f /var/log/nginx/error.log

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CONTACTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Si necesitas ayuda con el deployment, contacta al equipo tÃ©cnico.

DocumentaciÃ³n completa en:
- FIX_BUCLE_INFINITO_DESCUBRIR_VECINOS.md
- RESUMEN_SESION_28_ENE_2026_PARTE3.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
